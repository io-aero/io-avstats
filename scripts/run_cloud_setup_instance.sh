#!/bin/bash

set -e

# ------------------------------------------------------------------------------
#
# run_cloud_files_zip.sh: File Collection for AWS.
#
# ------------------------------------------------------------------------------

export AWS_FILE_NAME=aws.zip

echo "================================================================================"
echo "Start $0"
echo "--------------------------------------------------------------------------------"
echo "File Collection for AWS"
echo "--------------------------------------------------------------------------------"
date +"DATE TIME : %d.%m.%Y %H:%M:%S"
echo "================================================================================"

rm -f ${AWS_FILE_NAME}

# 7z a -tzip ${AWS_FILE_NAME} data/latest_postgres.zip
# 7z a -tzip ${AWS_FILE_NAME} docker-compose.yml
7z a -tzip ${AWS_FILE_NAME} src/run_aws_setup_instance.sh
7z a -tzip ${AWS_FILE_NAME} src/run_docker_compose.sh"

echo "================================================================================"
echo "Archive Content"
echo "--------------------------------------------------------------------------------"
7z l ${AWS_FILE_NAME}
echo "================================================================================"

echo ""
echo "--------------------------------------------------------------------------------"
date +"DATE TIME : %d.%m.%Y %H:%M:%S"
echo "--------------------------------------------------------------------------------"
echo "End   $0"
echo "================================================================================"
