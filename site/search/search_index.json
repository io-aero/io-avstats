{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Aviation Event Statistics","text":"<p>This repository is used for the development and maintenance of applications based on the data of the IO-AVSTATS database.  Currently, it includes the following applications:</p> <ul> <li>ae1982 - Aviation Events since 1982</li> <li>pd1982 - Profiling Data since 1982</li> </ul> <p>These applications and the database are available in the cloud via AWS. In addition, the maintenance of the database content is also done in this repository. </p> <p>The related database software is maintained in the repository io-avstats-db.</p>"},{"location":"LICENSE.html","title":"End-User License Agreement (EULA) of IO-Aero Software","text":"<p>This End-User License Agreement (\"EULA\") is a legal agreement between you and IO-Aero. </p> <p>This EULA agreement governs your acquisition and use of our IO-Aero Software (\"Software\") directly from IO-Aero or indirectly through a IO-Aero authorized reseller or distributor (a \"Reseller\").</p> <p>Please read this EULA agreement carefully before completing the installation process and using the IO-Aero Software.  It provides a license to use the IO-Aero Software and contains warranty information and liability disclaimers.</p> <p>If you register for a free trial of the IO-Aero Software, this EULA agreement will also govern that trial.  By clicking \"accept\" or installing and/or using the IO-Aero Software, you are confirming your acceptance of the Software and agreeing to become bound by the terms of this EULA agreement.</p> <p>If you are entering into this EULA agreement on behalf of a company or other legal entity, you represent that you have the authority to bind such entity and its affiliates to these terms and conditions.  If you do not have such authority or if you do not agree with the terms and conditions of this EULA agreement, do not install or use the Software, and you must not accept this EULA agreement.</p> <p>This EULA agreement shall apply only to the Software supplied by IO-Aero herewith regardless of whether other software is referred to or described herein.  The terms also apply to any IO-Aero updates, supplements, Internet-based services, and support services for the Software, unless other terms accompany those items on delivery.  If so, those terms apply.</p>"},{"location":"LICENSE.html#license-grant","title":"License Grant","text":"<p>IO-Aero hereby grants you a personal, non-transferable, non-exclusive licence to use the IO-Aero Software on your devices in accordance with the terms of this EULA agreement.</p> <p>You are permitted to load the IO-Aero Software (for example a PC, laptop, mobile or tablet) under your control.  You are responsible for ensuring your device meets the minimum requirements of the IO-Aero Software.</p>"},{"location":"LICENSE.html#you-are-not-permitted-to","title":"You are not permitted to:","text":"<ul> <li>Edit, alter, modify, adapt, translate or otherwise change the whole or any part of the Software nor permit the whole or any part of the Software to be combined with or become incorporated in any other software, nor decompile, disassemble or reverse engineer the Software or attempt to do any such things</li> <li>Reproduce, copy, distribute, resell or otherwise use the Software for any commercial purpose</li> <li>Allow any third party to use the Software on behalf of or for the benefit of any third party</li> <li>Use the Software in any way which breaches any applicable local, national or international law</li> <li>use the Software for any purpose that IO-Aero considers is a breach of this EULA agreement Intellectual Property and Ownership</li> </ul> <p>IO-Aero shall at all times retain ownership of the Software as originally downloaded by you and all subsequent downloads of the Software by you.  The Software (and the copyright, and other intellectual property rights of whatever nature in the Software, including any modifications made thereto) are and shall remain the property of IO-Aero.</p> <p>IO-Aero reserves the right to grant licences to use the Software to third parties.</p>"},{"location":"LICENSE.html#termination","title":"Termination","text":"<p>This EULA agreement is effective from the date you first use the Software and shall continue until terminated.  You may terminate it at any time upon written notice to IO-Aero.</p> <p>It will also terminate immediately if you fail to comply with any term of this EULA agreement.  Upon such termination, the licenses granted by this EULA agreement will immediately terminate, and you agree to stop all access and use of the Software.  The provisions that by their nature continue and survive will survive any termination of this EULA agreement.</p>"},{"location":"LICENSE.html#governing-law","title":"Governing Law","text":"<p>This EULA agreement, and any dispute arising out of or in connection with this EULA agreement, shall be governed by and construed in accordance with the laws of the United States.</p>"},{"location":"config_io_avstats.html","title":"Configuration - IO-AVSTATS","text":"<p>For the administration of the configuration parameters of IO-AVSTATS the tool dynaconf is used. The two files <code>settings.io_avstats.toml</code> and <code>.settings.io_avstats.toml</code> are available as configuration files. The <code>.settings.io_avstats.toml</code> file contains the security related parameters such as passwords and is not made available in the GitHub repository. The names of IO-AVSTATS related environment variables must include the prefix <code>IO_AVSTATS</code>. Layered environments are supported. The <code>test</code> layer is used for the automated tests.</p>"},{"location":"config_io_avstats.html#1-available-parameters","title":"1. Available Parameters","text":"Parameter Default value Description correction_work_dir data/correction file directory containing the files with the manual corrections database_commit_size 5000 number of rows processed before a progress message is created download_chunk_size 524288 chunk size for download from the NTSB website download_file_countries_states_json data/Countries_States/countries_states.json name of the file containing data of countries and states download_file_simplemaps_us_cities_xlsx uscities.xlsx simplemaps: name of the zipped US city file download_file_simplemaps_us_cities_zip simplemaps_uscities_basicv1.75.zip simplemaps: name of the unzipped US city file download_file_simplemaps_us_zips_xlsx uszips.xlsx simplemaps: name of the zipped US zip code file download_file_simplemaps_us_zips_zip simplemaps_uszips_basicv1.81.zip simplemaps: name of the unzipped US zip code file download_file_zip_codes_org_xls zip_code_database.xls ZIP Code Database: name of the unzipped US zip code file download_timeout 10 seconds to wait for the server to send data download_url_ntsb_prefix https://data.ntsb.gov/... prefix of the download link for the NTSB data sets download_url_simplemaps_us_cities https://simplemaps.com/... prefix of the download link for the simplemaps US cities data sets download_url_simplemaps_us_zips https://simplemaps.com/... prefix of the download link for the simplemaps US zip code data sets download_url_zip_codes_org https://www.unitedstateszipcodes.org/... prefix of the download link for the ZIP Code Database data set download_work_dir data/download working directory for the processing of NTSB data sets is_runtime_environment_local false / true local execution environment - unlike Docker is_verbose true display progress messages for processing max_deviation_latitude 0.01 maximum decimal deviation of the latitude in the database table even max_deviation_longitude 0.01 maximum decimal deviation of the longitude in the database table even odbc_connection_string Driver={MS Access Driver ... connection string for the MS Access ODBC driver postgres_connection_port 5432 database port number postgres_container_name io_avstats_container container name postgres_container_port 5432 container port number postgres_database_schema public database schema name postgres_dbname io_avstats_db database name postgres_dbname_admin postgres administration database name postgres_host db database server hostname postgres_password postgresql database password postgres_password_admin postgresql administration database password postgres_pgdata data/postgres file directory on the host for the database files postgres_user io_aero database username postgres_user_admin postgres administration database username postgres_version latest requested PostgreSQL version from DockerHub razorsql_jar_file_windows C:\\Program Files\\RazorSQL\\razorsql.jar name of the jar file (Windows version) razorsql_java_path_windows C:\\Program Files\\RazorSQL\\jre11\\bin\\java name of the Java file (Windows version) razorsql_profile IO-AVSTATS name of the RazorSQL connection profile razorsql_reference_dir data/RazorSQL file directory of the database schema reference file razorsql_reference_file 2022.11.01_avall.sql file name of the database schema reference file streamlit_server_port 8501 Streamlit port number streamlit_server_port_ae1982 8501 Streamlit port number for application ae1982 streamlit_server_port_pd1982 8502 Streamlit port number for application pd1982"},{"location":"config_io_avstats.html#2-notes","title":"2. Notes","text":"<ol> <li>The configuration parameters <code>postgres_password</code> and <code>postgres_password_admin</code> can be found in the configuration file <code>.settings.io_avstats.toml</code>.</li> <li>The configuration parameters in the configuration files can be overridden with corresponding environment variables, e.g. the environment variable <code>IO_AVSTATS_IS_VERBOSE</code> overrides the configuration parameter <code>is_verbose</code>. </li> </ol>"},{"location":"config_logging.html","title":"Configuration - Logging","text":"<p>In IO-AVSTATS the Python standard module for logging is used - details can be found here.</p> <p>The file <code>logging_cfg.yaml</code> controls the logging behaviour of the application. </p>"},{"location":"config_logging.html#default-content","title":"Default content:","text":"<pre><code>version: 1\n\nformatters:\n  simple:\n    format: \"%(asctime)s [%(module)s.py  ] %(levelname)-5s %(funcName)s:%(lineno)d %(message)s\"\n  extended:\n    format: \"%(asctime)s [%(module)s.py  ] %(levelname)-5s %(funcName)s:%(lineno)d \\n%(message)s\"\n\nhandlers:\n  console:\n    class: logging.StreamHandler\n    level: INFO\n    formatter: simple\n\n  file_handler:\n    class: logging.FileHandler\n    level: INFO\n    filename: logging_io-avstats.log\n    formatter: extended\n\nloggers:\n  io-avstats:\n    handlers: [ console ]\nroot:\n  handlers: [ file_handler ]\n</code></pre>"},{"location":"data_analyis_ae1982.html","title":"Data Analysis: DB View <code>ae1982</code>","text":"<p>Status as of Jan. 1, 2023</p>"},{"location":"data_analyis_ae1982.html#1-totals","title":"1. Totals","text":"<pre><code>SELECT count(*),\n'Total accidents since 1982'\nFROM events\nWHERE ev_year &gt;= 1982 UNION\nSELECT count(*),\n'Total accidents since 2008'\nFROM events\nWHERE ev_year &gt;= 2008 UNION\nSELECT count(*),\n'Fatal accidents since 1982'\nFROM events\nWHERE ev_year &gt;= 1982 AND inj_tot_f &gt; 0\nUNION\nSELECT count(*),\n'Fatal accidents since 2008'\nFROM events\nWHERE ev_year &gt;= 2008 AND inj_tot_f &gt; 0\nUNION\nSELECT count(*),\n'Total accidents since 1982 by io_app_ae1982'\nFROM io_app_ae1982\nUNION\nSELECT count(*),\n'Total accidents since 2008 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008 UNION\nSELECT count(*),\n'Fatal accidents since 1982 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE inj_tot_f &gt; 0\nUNION\nSELECT count(*),\n'Fatal accidents since 2008 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008 AND inj_tot_f &gt; 0\nUNION SELECT sum(inj_tot_f),\n'Total fatalities since 1982'\nFROM events\nWHERE ev_year &gt;= 1982\nUNION\nSELECT sum(inj_tot_f),\n'Total fatalities since 2008'\nFROM events\nWHERE ev_year &gt;= 2008\nUNION\nSELECT sum(inj_tot_f),\n'Total fatalities since 1982 by io_app_ae1982'\nFROM io_app_ae1982\nUNION\nSELECT sum(inj_tot_f),\n'Total fatalities since 2008 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nORDER BY 2 </code></pre> <pre><code>count|?column?                                      |\n-----+----------------------------------------------+\n17570|Fatal accidents since 1982                    |\n17570|Fatal accidents since 1982 by io_app_ae1982 |\n 5260|Fatal accidents since 2008                    |\n 5260|Fatal accidents since 2008 by io_app_ae1982 |\n88084|Total accidents since 1982                    |\n88084|Total accidents since 1982 by io_app_ae1982 |\n25055|Total accidents since 2008                    |\n25055|Total accidents since 2008 by io_app_ae1982 |\n48672|Total fatalities since 1982                   |\n48672|Total fatalities since 1982 by io_app_ae1982|\n14607|Total fatalities since 2008                   |\n14607|Total fatalities since 2008 by io_app_ae1982|\n</code></pre>"},{"location":"data_analyis_ae1982.html#2-far-operations-parts","title":"2. FAR operations parts","text":""},{"location":"data_analyis_ae1982.html#21-accidents-since-1982","title":"2.1 Accidents since 1982","text":"<pre><code>SELECT count(*),\nfar_part\nFROM io_app_ae1982\nWHERE ev_year &gt;= 1982\nGROUP BY far_part\nORDER BY 2,\n1 DESC\n</code></pre> <pre><code>count|far_part      |\n-----+--------------+\n  693|{}            |\n69370|{091}         |\n  822|{091,091}     |\n    2|{091,091,091} |\n    1|{091,091,091F}|\n    1|{091,091F}    |\n    1|{091,091K}    |\n    5|{091,103}     |\n    2|{091,107}     |\n   39|{091,121}     |\n    1|{091,125}     |\n    5|{091,129}     |\n   58|{091,135}     |\n   10|{091,137}     |\n   12|{091,ARMF}    |\n    1|{091,NUSC}    |\n    1|{091,NUSN}    |\n    5|{091,PUBU}    |\n    4|{091,UNK}     |\n   35|{091F}        |\n   14|{091K}        |\n  184|{103}         |\n    2|{103,103}     |\n    1|{103,135}     |\n    3|{107}         |\n    1|{107,135}     |\n    1|{107,ARMF}    |\n 2315|{121}         |\n   85|{121,121}     |\n   24|{121,129}     |\n   14|{121,135}     |\n    3|{121,ARMF}    |\n    5|{121,NUSC}    |\n    1|{121,NUSN}    |\n    2|{121,PUBU}    |\n    1|{121,UNK}     |\n   26|{125}         |\n  578|{129}         |\n   11|{129,129}     |\n    2|{129,135}     |\n    1|{129,NUSC}    |\n    1|{129,NUSN}    |\n  448|{133}         |\n    1|{133,133}     |\n 3694|{135}         |\n   45|{135,135}     |\n    1|{135,ARMF}    |\n 4697|{137}         |\n   30|{137,137}     |\n    1|{137,ARMF}    |\n    1|{437}         |\n   10|{ARMF}        |\n    1|{ARMF,ARMF}   |\n 1507|{NUSC}        |\n   23|{NUSC,NUSC}   |\n    8|{NUSC,NUSN}   |\n    1|{NUSC,PUBU}   |\n 2245|{NUSN}        |\n   26|{NUSN,NUSN}   |\n  553|{PUBU}        |\n    3|{PUBU,PUBU}   |\n    1|{PUBU,UNK}    |\n  437|{UNK}         |\n    7|{UNK,UNK}     |\n    1|{UNK,UNK,UNK} |\n</code></pre>"},{"location":"data_analyis_ae1982.html#22-fatalities-since-1982","title":"2.2 Fatalities since 1982","text":"<pre><code>SELECT count(*),\nfar_part\nFROM io_app_ae1982\nWHERE ev_year &gt;= 1982\nAND inj_tot_f &gt; 0 GROUP BY far_part\nORDER BY 1 DESC,\n2\n</code></pre> <pre><code>count|far_part     |\n-----+-------------+\n13210|{091}        |\n 1376|{NUSN}       |\n  781|{135}        |\n  442|{137}        |\n  421|{NUSC}       |\n  264|{091,091}    |\n  258|{}           |\n  192|{UNK}        |\n  115|{PUBU}       |\n  103|{129}        |\n   98|{121}        |\n   93|{133}        |\n   90|{103}        |\n   25|{NUSN,NUSN}  |\n   22|{091,135}    |\n   17|{137,137}    |\n    8|{091,ARMF}   |\n    7|{091F}       |\n    6|{135,135}    |\n    4|{125}        |\n    4|{ARMF}       |\n    4|{NUSC,NUSN}  |\n    4|{UNK,UNK}    |\n    3|{091,121}    |\n    3|{091,PUBU}   |\n    3|{NUSC,NUSC}  |\n    1|{091,091,091}|\n    1|{091,091F}   |\n    1|{091,103}    |\n    1|{091,129}    |\n    1|{091,NUSC}   |\n    1|{091,NUSN}   |\n    1|{091,UNK}    |\n    1|{103,103}    |\n    1|{103,135}    |\n    1|{121,121}    |\n    1|{121,135}    |\n    1|{129,129}    |\n    1|{129,NUSN}   |\n    1|{135,ARMF}   |\n    1|{437}        |\n    1|{PUBU,PUBU}  |\n    1|{PUBU,UNK}   |\n</code></pre>"},{"location":"data_analyis_ae1982.html#23-fatalities-since-2008","title":"2.3 Fatalities since 2008","text":"<pre><code>SELECT count(*),\nfar_part\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nAND inj_tot_f &gt; 0 GROUP BY far_part\nORDER BY 1 DESC,\n2\n</code></pre> <pre><code>count|far_part     |\n-----+-------------+\n 3228|{091}        |\n  953|{NUSN}       |\n  258|{}           |\n  212|{NUSC}       |\n  170|{UNK}        |\n  129|{135}        |\n  113|{137}        |\n   53|{091,091}    |\n   43|{PUBU}       |\n   25|{133}        |\n   22|{129}        |\n   14|{NUSN,NUSN}  |\n    9|{121}        |\n    5|{091,135}    |\n    4|{137,137}    |\n    4|{UNK,UNK}    |\n    3|{135,135}    |\n    2|{125}        |\n    2|{ARMF}       |\n    2|{NUSC,NUSC}  |\n    2|{NUSC,NUSN}  |\n    1|{091,091,091}|\n    1|{091,ARMF}   |\n    1|{103,135}    |\n    1|{129,NUSN}   |\n    1|{437}        |\n    1|{PUBU,PUBU}  |\n    1|{PUBU,UNK}   |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html","title":"Data Analysis: DB Table <code>io_ntsb_2002_2021</code>","text":"<p>Note: The IO-AVSTATS-DB database used here contains NTSB aircraft event data as of January 8, 2023.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#1-introduction","title":"1. Introduction","text":"<p>The NTSB makes available on its website statistical data on flight events since 1982 in the form of MS Access database files. Events are classified as accidents and incidents according to \u00a7 830.2 Definitions in the Code of Federal Regulations. The following file types can be downloaded from the website (link):</p> <ul> <li><code>Pre2008.zip</code>: contains data from events that happened before the year 2008.</li> <li><code>avall.zip</code>: contains data of events that happened since 2008 until the current beginning of the month.</li> <li><code>up99MON.zip</code>: At the 1st, 8th, 15th and 22nd of each month an update file with new or changed events. These updates are available for one year.</li> </ul> <p>IO-Aero has loaded the data from the MS Access files <code>Pre2008</code> and <code>avall</code> once into the PostgreSQL database IO-AVSTATS-DB in November 2022 and since then regularly updates the IO-AVSTATS-DB with the update files provided by NTSB,</p> <p>In the November 17, 2021, news release U.S. Civil Aviation Fatalities and Flight Activity Decreased in 2020, the NTSB published, among other things, the US Civil Aviation Accident Statistics - hereinafter referred to as 20-Year Statistics. These are available on this website at this link as an MS Excel file. This file contains 28 worksheets (Table 1 through Table 28) of accumulated data, and in Worksheet 29 (Table 29. Accident Aircraft, 2002 through 2021, US Civil Aviation) (most likely) the underlying event and aircraft details. </p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#beginning-of-file","title":"Beginning of file:","text":"<p>Unfortunately, NTSB does not provide sufficient documentation on the statistical data provided.  For this reason, a project was started at IO-Aero to gain more information about the structure of the statistical data.  In the first step, the data from worksheet 29 of the MS Excel file were loaded unchanged into a new table of the database IO-AVSTATS-DB. On this basis, the following three questions were now investigated:</p> <ol> <li>how are the data in worksheet 29 structured, e.g. with regard to categorization?</li> <li>how can accumulated data, e.g. in worksheet 10, be derived from the data in worksheet 29?</li> <li>how can the data in the MS Excel file be compared with the data in the MS Access files in the period 2002 to 2021?  </li> </ol>"},{"location":"data_analyis_io_ntsb_2002_2021.html#2-db-table-io_ntsb_2002_2021","title":"2. DB Table <code>io_ntsb_2002_2021</code>","text":"<p>To store the data from Worksheet 29 of the MS Excel file containing the 20-Year Statistics in the IO-AVSTATS-DB database, the new database table <code>io_ntsb_2002_2021</code> was defined as follows:</p> <p></p> <p>The data from the MS Excel file were loaded unchanged into the new database table. To simplify the use of the database table, only the columns <code>ev_year</code>, <code>ev_state</code> and <code>ev_country</code>, derived from the columns <code>event_date</code>, <code>state_or_region</code> and <code>country</code>, were added. The header lines and the empty lines for the loading process were ignored but recorded in the log file: </p> <pre><code>Progress update 2023-01-15 12:46:10.973510 : ===============================================================================.\nProgress update 2023-01-15 12:46:10.973510 : INFO.00.004 Start Launcher.\nProgress update 2023-01-15 12:46:10.979008 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-15 12:46:18.297008 : INFO.00.041 Arguments task='l_n_s' {msexecel}='AviationAccidentStatistics_2002-2021_20221208'.\nProgress update 2023-01-15 12:46:18.297008 : -------------------------------------------------------------------------------.\nProgress update 2023-01-15 12:46:18.297008 : INFO.00.072 Loading NTSB MS Ecel statistic data from file 'AviationAccidentStatistics_2002-2021_20221208'.\nProgress update 2023-01-15 12:46:18.297508 : --------------------------------------------------------------------------------\nUnprocessed row #     1: Table 29. Accident Aircraft, 2002 through 2021, US Civil Aviation | None | None | ...\nUnprocessed row #     2: None | None | None | ...\nUnprocessed row #     3: NTSB Number | Accident Report | Event Date | ...\nProgress update 2023-01-15 12:48:30.355445 : Number of rows so far read :   5000.\nProgress update 2023-01-15 12:50:35.554697 : Number of rows so far read :  10000.\nProgress update 2023-01-15 12:52:39.895361 : Number of rows so far read :  15000.\nProgress update 2023-01-15 12:54:44.828003 : Number of rows so far read :  20000.\nProgress update 2023-01-15 12:56:47.277567 : Number of rows so far read :  25000.\nProgress update 2023-01-15 12:58:50.693799 : Number of rows so far read :  30000.\nUnprocessed row # 30245: None | None | None | ...\n...\nUnprocessed row # 30729: None | None | None | ...\nProgress update 2023-01-15 12:58:59.416221 : Number rows selected :  30729.\nProgress update 2023-01-15 12:58:59.416723 : Number rows inserted :  30241.\nProgress update 2023-01-15 12:58:59.416723 : Number rows updated  :  90723.\nProgress update 2023-01-15 12:58:59.416723 : -------------------------------------------------------------------------------.\nProgress update 2023-01-15 12:58:59.417222 :      768,612,714,000 ns - Total time launcher.\nProgress update 2023-01-15 12:58:59.417222 : INFO.00.006 End   Launcher.\nProgress update 2023-01-15 12:58:59.417222 : ===============================================================================.\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#21-data-migration-verification","title":"2.1 Data Migration Verification","text":"<p>According to the log file, 30'241 rows were loaded into the database table which exactly matches the MS Excel file where the data is stored in Excel rows 4 to 30'244.Summing the columns <code>Fatal Injuries</code> (I) and <code>Serious Injuries</code> (J) gives 10,245 and 5,700 respectively. These numbers can be confirmed with the following query in the database table <code>io_ntsb_2002_2021</code>:</p> <p><pre><code>    SELECT count(*)              \"Accidents All\",\n           sum(fatal_injuries)   \"Fatal Injuries\",\n           sum(serious_injuries) \"Serious Injuries\"\n    FROM io_ntsb_2002_2021\n</code></pre> Results: <pre><code>    Accidents All|Fatal Injuries|Serious Injuries|\n    -------------+--------------+----------------+\n            30241|         10245|            5700|\n</code></pre></p> <p>The following database query can be used to verify that the 20-Year Statistics data is still contained in the current MS Access databases:</p> <p><pre><code>    SELECT ntsb_number, ev_year\n    FROM io_ntsb_2002_2021 in2\n    WHERE (ntsb_number, aircraft_number) NOT IN (SELECT e.ntsb_no, a.aircraft_key\n                                                   FROM events e INNER JOIN aircraft a \n                                                                 ON e.ev_id = a.ev_id)\n</code></pre> Results: <pre><code>ntsb_number|ev_year|\n-----------+-------+\nCEN21LA236 |   2021|\n</code></pre></p> <p>This one event is actually missing from the MS Access databases, although the report is still available.  This one case can certainly be neglected, but it clearly shows that the data on which the 20-Year Statistics are based could have been changed afterwards.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#3-data-characteristic-of-worksheet-no-29","title":"3. Data Characteristic of Worksheet no. 29","text":"<p>An appropriate adaption of the following database query was used to analyze the data categories:</p> <pre><code>    SELECT &lt;category&gt;                                 \"&lt;category&gt;\",\n           count(*)                                   \"Accidents All\",\n           count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n           sum(fatal_injuries)                        \"Fatalities\"\n      FROM io_ntsb_2002_2021\n     GROUP BY &lt;category&gt;\n     ORDER BY 1\n</code></pre> <p>On the data categorization view, the following picture emerges:</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#31-aircraft_category","title":"3.1 <code>aircraft_category</code>","text":"<pre><code>aircraft_category|Accidents All|Accidents Fatal|Fatalities|\n-----------------+-------------+---------------+----------+\n                 |            1|              1|        12|\nAirplane         |        25995|           4880|      8956|\nBalloon          |          241|             25|        49|\nBlimp            |            3|              0|          |\nGlider           |          536|            104|       121|\nGyroplane        |          174|             46|        54|\nHelicopter       |         3050|            509|       971|\nPowered-lift     |            3|              0|          |\nPowered parachute|           74|             12|        15|\nUltralight       |           13|              2|         3|\nUnknown          |            1|              1|         1|\nWeight-shift     |          150|             50|        63|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#32-aircraft_number","title":"3.2 <code>aircraft_number</code>","text":"<pre><code>aircraft_number|Accidents All|Accidents Fatal|Fatalities|\n---------------+-------------+---------------+----------+\n              1|        29887|           5530|      9850|\n              2|          347|             97|       388|\n              3|            6|              2|         6|\n              4|            1|              1|         1|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#i-duplication-of-events-per-aircraft-involved","title":"I. Duplication of events per aircraft involved","text":"<ul> <li>The same event is included in the MS Excel file for each aircraft involved. It must be ensured that these events differ only in the aircraft data:</li> </ul> <p><pre><code>    SELECT ntsb_number, count(*)\n      FROM io_ntsb_2002_2021 in2\n     WHERE ntsb_number IN (SELECT in3.ntsb_number\n                          FROM io_ntsb_2002_2021 in3\n                          GROUP BY in3.ntsb_number\n                          HAVING count(*) &gt; 1)\n     GROUP BY ntsb_number, event_date, city, state_or_region, country,\n              latitude, longitude, fatal_injuries, serious_injuries, highest_injury_level\n    HAVING count(*) = 1\n     ORDER BY ntsb_number\n</code></pre> Results: <pre><code>    ntsb_number|count|\n    -----------+-----+\n</code></pre></p> <p>No inconsistencies found.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#33-country","title":"3.3 <code>country</code>","text":"<p>(sorted by <code>Accidents All</code> descending)</p> <pre><code>country                       |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nUnited States                 |        29697|           5357|      9453|\nBahamas                       |           57|             30|        82|\nMexico                        |           48|             33|        70|\nCanada                        |           46|             25|        47|\nFrance                        |           38|             22|        55|\nGermany                       |           28|             15|        29|\nUnited Kingdom                |           28|             13|        28|\nDominican Republic            |           17|             12|        25|\nItaly                         |           15|              7|         8|\n                              |           13|              5|        11|\nGuatemala                     |           11|              7|        13|\nJapan                         |           11|              2|         4|\nColombia                      |           11|              6|        12|\nBrazil                        |            9|              5|       165|\nVenezuela                     |            9|              3|         7|\nUnknown                       |            9|              3|         5|\nSpain                         |            9|              6|        15|\nSwitzerland                   |            7|              4|         6|\nArgentina                     |            7|              2|         6|\nChina                         |            6|              2|         2|\nAustria                       |            6|              4|        10|\nCosta Rica                    |            6|              4|        16|\nAfghanistan                   |            6|              3|        16|\nGuadeloupe                    |            5|              0|          |\nIreland                       |            5|              2|         4|\nNetherlands Antilles          |            5|              1|         2|\nPanama                        |            5|              2|        13|\nMalaysia                      |            5|              2|         4|\nIceland                       |            5|              4|         6|\nPoland                        |            4|              2|        12|\nSouth Africa                  |            4|              3|        11|\nBelgium                       |            4|              2|         7|\nHonduras                      |            4|              3|        12|\nBritish Virgin Islands        |            4|              1|         1|\nPhilippines                   |            3|              0|         0|\nTurks And Caicos Islands      |            3|              2|        16|\nAmerican Samoa                |            3|              1|         2|\nRomania                       |            3|              1|         1|\nGreenland                     |            3|              3|         3|\nUnited Arab Emirates          |            3|              2|         6|\nEl Salvador                   |            3|              2|         5|\nUruguay                       |            3|              1|         1|\nHungary                       |            3|              0|          |\nAustralia                     |            3|              1|         3|\nChile                         |            2|              1|         1|\nDominica                      |            2|              1|         2|\nKiribati                      |            2|              1|         1|\nCongo                         |            2|              2|         5|\nBermuda                       |            2|              0|          |\nNicaragua                     |            2|              0|          |\nGuyana                        |            2|              2|         5|\nSweden                        |            2|              0|          |\nHaiti                         |            2|              2|         7|\nSt Kitts And Nevis            |            2|              0|          |\nCuba                          |            2|              0|          |\nAntarctica                    |            2|              0|          |\nPeru                          |            2|              1|         2|\nJamaica                       |            2|              1|         3|\nIraq                          |            2|              1|         3|\nNigeria                       |            2|              1|         2|\nNorthern Mariana Islands      |            2|              0|          |\nNew Zealand                   |            2|              1|         2|\nRussia                        |            2|              0|          |\nIndonesia                     |            2|              1|         1|\nNetherlands                   |            2|              0|          |\nRepublic Of Korea             |            1|              0|          |\nCzech Republic                |            1|              1|         1|\nJordan                        |            1|              0|          |\nSingapore                     |            1|              0|          |\nPapua New Guinea              |            1|              1|         1|\nBarbados                      |            1|              0|          |\nSaudi Arabia                  |            1|              1|         1|\nCayman Islands                |            1|              0|          |\nMarshall Islands              |            1|              0|          |\nSlovenia                      |            1|              1|         4|\nGreece                        |            1|              0|          |\nIndia                         |            1|              0|          |\nIsrael                        |            1|              0|          |\nSuriname                      |            1|              0|          |\nDenmark                       |            1|              0|          |\nMozambique                    |            1|              0|          |\nQatar                         |            1|              1|         1|\nParaguay                      |            1|              1|         1|\nFederated States Of Micronesia|            1|              0|          |\nMartinique                    |            1|              0|          |\nAngola                        |            1|              0|          |\nLithuania                     |            1|              1|         1|\nSudan                         |            1|              1|         2|\nMorocco                       |            1|              1|         4|\nSolomon Islands               |            1|              1|         1|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>country                       |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nUnited States                 |        29347|           5261|      9217|\nBahamas                       |           57|             30|        82|\nMexico                        |           48|             33|        70|\nCanada                        |           44|             23|        43|\nFrance                        |           38|             22|        55|\nGermany                       |           28|             15|        29|\nUnited Kingdom                |           28|             13|        28|\nDominican Republic            |           17|             12|        25|\nItaly                         |           15|              7|         8|\n                              |           13|              5|        11|\nJapan                         |           11|              2|         4|\nColombia                      |           11|              6|        12|\nGuatemala                     |           11|              7|        13|\nUnknown                       |            9|              3|         5|\nVenezuela                     |            9|              3|         7|\nSpain                         |            9|              6|        15|\nBrazil                        |            8|              4|        11|\nArgentina                     |            7|              2|         6|\nSwitzerland                   |            7|              4|         6|\nChina                         |            6|              2|         2|\nCosta Rica                    |            6|              4|        16|\nAustria                       |            6|              4|        10|\nAfghanistan                   |            6|              3|        16|\nIreland                       |            5|              2|         4|\nMalaysia                      |            5|              2|         4|\nIceland                       |            5|              4|         6|\nGuadeloupe                    |            5|              0|          |\nNetherlands Antilles          |            5|              1|         2|\nPanama                        |            5|              2|        13|\nBelgium                       |            4|              2|         7|\nSouth Africa                  |            4|              3|        11|\nHonduras                      |            4|              3|        12|\nPoland                        |            4|              2|        12|\nBritish Virgin Islands        |            4|              1|         1|\nPhilippines                   |            3|              0|         0|\nTurks And Caicos Islands      |            3|              2|        16|\nAmerican Samoa                |            3|              1|         2|\nGreenland                     |            3|              3|         3|\nEl Salvador                   |            3|              2|         5|\nAustralia                     |            3|              1|         3|\nHungary                       |            3|              0|          |\nUruguay                       |            3|              1|         1|\nUnited Arab Emirates          |            3|              2|         6|\nChile                         |            2|              1|         1|\nDominica                      |            2|              1|         2|\nKiribati                      |            2|              1|         1|\nCongo                         |            2|              2|         5|\nBermuda                       |            2|              0|          |\nNicaragua                     |            2|              0|          |\nGuyana                        |            2|              2|         5|\nSweden                        |            2|              0|          |\nHaiti                         |            2|              2|         7|\nSt Kitts And Nevis            |            2|              0|          |\nCuba                          |            2|              0|          |\nAntarctica                    |            2|              0|          |\nPeru                          |            2|              1|         2|\nJamaica                       |            2|              1|         3|\nIraq                          |            2|              1|         3|\nNigeria                       |            2|              1|         2|\nNorthern Mariana Islands      |            2|              0|          |\nNew Zealand                   |            2|              1|         2|\nRussia                        |            2|              0|          |\nIndonesia                     |            2|              1|         1|\nNetherlands                   |            2|              0|          |\nRomania                       |            2|              0|          |\nRepublic Of Korea             |            1|              0|          |\nCzech Republic                |            1|              1|         1|\nJordan                        |            1|              0|          |\nPapua New Guinea              |            1|              1|         1|\nSingapore                     |            1|              0|          |\nBarbados                      |            1|              0|          |\nSaudi Arabia                  |            1|              1|         1|\nCayman Islands                |            1|              0|          |\nMarshall Islands              |            1|              0|          |\nSlovenia                      |            1|              1|         4|\nGreece                        |            1|              0|          |\nIndia                         |            1|              0|          |\nIsrael                        |            1|              0|          |\nSuriname                      |            1|              0|          |\nDenmark                       |            1|              0|          |\nMozambique                    |            1|              0|          |\nQatar                         |            1|              1|         1|\nParaguay                      |            1|              1|         1|\nFederated States Of Micronesia|            1|              0|          |\nMartinique                    |            1|              0|          |\nAngola                        |            1|              0|          |\nLithuania                     |            1|              1|         1|\nSudan                         |            1|              1|         2|\nMorocco                       |            1|              1|         4|\nSolomon Islands               |            1|              1|         1|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#34-damage_level","title":"3.4 <code>damage_level</code>","text":"<pre><code>damage_level|Accidents All|Accidents Fatal|Fatalities|\n------------+-------------+---------------+----------+\n            |            2|              2|         2|\nDestroyed   |         3586|           2797|      5674|\nMinor       |          256|             35|       195|\nNone        |          493|             37|        44|\nSubstantial |        25900|           2759|      4330|\nUnknown     |            4|              0|          |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#35-defining_event","title":"3.5 <code>defining_event</code>","text":"<pre><code>defining_event                       |Accidents All|Accidents Fatal|Fatalities|\n-------------------------------------+-------------+---------------+----------+\n                                     |        10870|           2142|      4097|\nAbnormal Runway Contact              |         2522|             34|        43|\nAbrupt Maneuver                      |          136|             55|       105|\nAerodrome                            |           21|              1|         1|\nAir Traffic Management               |            2|              1|         2|\nBird Strike                          |          128|              9|        28|\nCabin Safety Events                  |           54|              2|         2|\nCollision on Takeoff or Landing      |          487|             48|       105|\nControlled Flight Into Terrain       |          527|            294|       588|\nEvacuation                           |            2|              0|          |\nExternal Load                        |           22|              7|         8|\nFire - Non-Impact                    |          135|             21|        40|\nFire - Post-Impact                   |            1|              0|          |\nFuel Related                         |         1137|            135|       204|\nGlider Towing                        |           15|              3|         5|\nGround Collision                     |          376|              6|        15|\nGround Handling                      |          121|             18|        24|\nIcing                                |           24|             10|        15|\nLoss of Control In-Flight            |         3403|           1486|      2625|\nLoss of Control on Ground            |         2923|             35|        53|\nLoss of Lift                         |          137|              9|        19|\nLow Altitude Operation               |          341|            116|       166|\nMedical Event                        |           14|             11|        12|\nMidair                               |          213|            111|       296|\nNavigation Error                     |           13|              3|         4|\nOther                                |          959|            171|       274|\nRunway Excursion                     |          442|             11|        28|\nRunway Incursion - Vehicle           |           15|              4|         6|\nSecurity Related                     |           11|              7|         8|\nSimulated/training event             |           11|              2|         3|\nSystem/Component Failure - Non-power |          886|            139|       247|\nSystem/Component Failure - Powerplant|         3169|            335|       504|\nTurbulence Encounter                 |          205|             16|        22|\nUndershoot/Overshoot                 |          252|              3|         9|\nUnintended Flight Into IMC           |          249|            173|       317|\nUnknown                              |          284|            189|       323|\nWildlife Encounter                   |           58|              0|         0|\nWindshear/Thunderstorm               |           76|             23|        47|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#36-ev_year-via-event_date","title":"3.6 <code>ev_year</code> via <code>event_date</code>","text":"<pre><code>ev_year|Accidents All|Accidents Fatal|Fatalities|\n-------+-------------+---------------+----------+\n   2002|         1837|            367|       624|\n   2003|         1890|            381|       723|\n   2004|         1735|            346|       648|\n   2005|         1804|            340|       613|\n   2006|         1626|            326|       787|\n   2007|         1765|            308|       551|\n   2008|         1688|            305|       593|\n   2009|         1572|            285|       559|\n   2010|         1527|            284|       491|\n   2011|         1578|            293|       510|\n   2012|         1556|            285|       456|\n   2013|         1306|            238|       436|\n   2014|         1302|            268|       451|\n   2015|         1296|            239|       411|\n   2016|         1355|            228|       427|\n   2017|         1331|            212|       349|\n   2018|         1366|            234|       402|\n   2019|         1322|            255|       467|\n   2020|         1152|            215|       369|\n   2021|         1233|            221|       378|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>ev_year|Accidents All|Accidents Fatal|Fatalities|\n-------+-------------+---------------+----------+\n   2002|         1821|            362|       615|\n   2003|         1869|            373|       699|\n   2004|         1719|            339|       637|\n   2005|         1779|            332|       598|\n   2006|         1609|            320|       620|\n   2007|         1745|            303|       540|\n   2008|         1660|            299|       568|\n   2009|         1558|            279|       541|\n   2010|         1507|            278|       477|\n   2011|         1556|            286|       499|\n   2012|         1538|            281|       450|\n   2013|         1296|            235|       429|\n   2014|         1290|            263|       442|\n   2015|         1281|            238|       406|\n   2016|         1336|            221|       408|\n   2017|         1316|            211|       347|\n   2018|         1346|            230|       394|\n   2019|         1302|            250|       455|\n   2020|         1138|            210|       349|\n   2021|         1221|            220|       376|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#37-fatal_injuries","title":"3.7 <code>fatal_injuries</code>","text":"<pre><code>fatal_injuries|Accidents All|Accidents Fatal|Fatalities|\n--------------+-------------+---------------+----------+\n             0|          715|              0|         0|\n             1|         3072|           3072|      3072|\n             2|         1622|           1622|      3244|\n             3|          481|            481|      1443|\n             4|          266|            266|      1064|\n             5|          101|            101|       505|\n             6|           37|             37|       222|\n             7|           19|             19|       133|\n             8|            6|              6|        48|\n             9|            8|              8|        72|\n            10|            6|              6|        60|\n            11|            3|              3|        33|\n            12|            1|              1|        12|\n            13|            1|              1|        13|\n            14|            1|              1|        14|\n            16|            1|              1|        16|\n            20|            1|              1|        20|\n            21|            1|              1|        21|\n            49|            1|              1|        49|\n            50|            1|              1|        50|\n           154|            1|              1|       154|\n              |        23896|              0|          |\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>fatal_injuries|Accidents All|Accidents Fatal|Fatalities|\n--------------+-------------+---------------+----------+\n             0|          708|              0|         0|\n             1|         3038|           3038|      3038|\n             2|         1593|           1593|      3186|\n             3|          463|            463|      1389|\n             4|          259|            259|      1036|\n             5|           95|             95|       475|\n             6|           36|             36|       216|\n             7|           17|             17|       119|\n             8|            5|              5|        40|\n             9|            7|              7|        63|\n            10|            6|              6|        60|\n            11|            3|              3|        33|\n            12|            1|              1|        12|\n            13|            1|              1|        13|\n            14|            1|              1|        14|\n            16|            1|              1|        16|\n            20|            1|              1|        20|\n            21|            1|              1|        21|\n            49|            1|              1|        49|\n            50|            1|              1|        50|\n              |        23649|              0|          |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#38-flight_regulation","title":"3.8 <code>flight_regulation</code>","text":"<pre><code>flight_regulation             |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nArmed Forces                  |            1|              0|          |\nNon-U.S., non-commercial      |          288|            171|       394|\nPart 121: Air carrier         |          657|             20|       180|\nPart 125: 20+ pax,6000+ lbs   |            9|              3|         5|\nPart 133: Rotorcraft ext. load|          151|             36|        42|\nPart 135: Air taxi &amp; commuter |         1054|            233|       621|\nPart 137: Agricultural        |         1442|            157|       164|\nPart 91: General aviation     |        26256|           4925|      8665|\nPart 91 subpart k: Fractional |            8|              0|         0|\nPublic aircraft               |          349|             70|       125|\nUnknown                       |           26|             15|        49|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#39-flight_schedule_type","title":"3.9 <code>flight_schedule_type</code>","text":"<pre><code>flight_schedule_type|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |        28266|           5319|      9349|\nNon-scheduled       |         1292|            290|       710|\nScheduled           |          683|             21|       186|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#310-highest_injury_level","title":"3.10 <code>highest_injury_level</code>","text":"<pre><code>highest_injury_level|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |           96|              7|        12|\nFatal               |         5623|           5623|     10233|\nMinor               |         4577|              0|         0|\nNone                |        16426|              0|         0|\nSerious             |         3519|              0|         0|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>highest_injury_level|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |           94|              7|        12|\nFatal               |         5523|           5523|      9838|\nMinor               |         4548|              0|         0|\nNone                |        16221|              0|         0|\nSerious             |         3501|              0|         0|\n</code></pre> <p>The question here is whether the values in the three columns <code>highest_injury_level</code>, <code>fatal_injuries</code> and <code>serious_injuries</code> are consistent: </p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#i-highest_injury_level-and-fatal_injuries","title":"I. <code>highest_injury_level</code> and <code>fatal_injuries</code>","text":"<ul> <li>For each column where <code>highest_injury_level</code> equals <code>Fatal</code> the value of the column <code>fatal_injuries</code> must be greater than zero:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, fatal_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE highest_injury_level = 'Fatal'\n       AND fatal_injuries = 0\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|fatal_injuries|\n    -----------+--------------------+--------------+\n</code></pre></p> <p>No inconsistencies found.</p> <ul> <li>For each column where <code>fatal_injuries</code> greater than zero the value of the column <code>highest_injury_level</code> must be <code>Fatal</code>:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, fatal_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE fatal_injuries &gt; 0\n       AND highest_injury_level != 'Fatal'\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|fatal_injuries|\n    -----------+--------------------+--------------+\n    ANC09FA001 |                    |             2|\n    DFW08FA237 |                    |             2|\n    LAX08FA300 |                    |             1|\n    MIA08MA203 |                    |             4|\n    NYC08FA319 |                    |             1|\n    NYC08FA324 |                    |             1|\n    NYC08LA322 |                    |             1|\n</code></pre></p> <p>Found 7 rows with inconsistent data.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#ii-highest_injury_level-and-serious_injuries","title":"II. <code>highest_injury_level</code> and <code>serious_injuries</code>","text":"<ul> <li>For each column where <code>highest_injury_level</code> equals <code>Serious</code> the value of the column <code>serious_injuries</code> must be greater than zero:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, serious_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE highest_injury_level = 'Serious'\n       AND fatal_injuries = 0\n       AND serious_injuries = 0\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|serious_injuries|\n    -----------+--------------------+----------------+\n</code></pre></p> <p>No inconsistencies found.</p> <ul> <li>For each column where <code>serious_injuries</code> greater than zero the value of the column <code>highest_injury_level</code> must be <code>Serious</code>:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, serious_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE fatal_injuries = 0\n       AND serious_injuries &gt; 0 \n       AND highest_injury_level != 'Serious'\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|serious_injuries|\n    -----------+--------------------+----------------+\n</code></pre></p> <p>No inconsistencies found.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#311-intentional_act","title":"3.11 <code>intentional_act</code>","text":"<pre><code>intentional_act|Accidents All|Accidents Fatal|Fatalities|\n---------------+-------------+---------------+----------+\ntrue           |           55|             32|        39|\n               |        30186|           5598|     10206|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#312-phase_of_flight","title":"3.12 <code>phase_of_flight</code>","text":"<pre><code>phase_of_flight     |Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |        10822|           2135|      4086|\nApproach            |         2147|            569|      1089|\nEmergency Descent   |          200|             36|        58|\nEnroute             |         3150|            906|      1728|\nInitial Climb       |         1870|            529|       938|\nLanding             |         6112|            101|       141|\nManeuvering         |         2536|            985|      1562|\nPost-Impact         |            6|              0|          |\nPushback/Tow        |           24|              0|          |\nStanding            |          392|             35|        47|\nTakeoff             |         2205|            205|       368|\nTaxi                |          569|              6|        10|\nUncontrolled Descent|           42|             24|        44|\nUnknown             |          166|             99|       174|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#313-purpose_of_flight","title":"3.13 <code>purpose_of_flight</code>","text":"<pre><code>purpose_of_flight        |Accidents All|Accidents Fatal|Fatalities|\n-------------------------+-------------+---------------+----------+\n                         |         1808|            318|       969|\nAerial application       |         1442|            167|       177|\nAerial observation       |          342|             90|       168|\nAir drop                 |            8|              2|         3|\nAir race/show            |          147|             63|        81|\nBanner tow               |           98|             15|        18|\nBusiness                 |          778|            194|       403|\nExecutive/Corporate      |          139|             35|       126|\nExternal load            |          109|             25|        30|\nFerry                    |          160|             42|       211|\nFirefighting             |           28|              9|        14|\nFlight test              |          338|             69|        99|\nGlider tow               |           53|             15|        20|\nInstructional            |         4030|            374|       675|\nOther work use           |          502|             92|       180|\nPersonal                 |        18909|           3826|      6538|\nPositioning              |          688|            156|       262|\nPublic aircraft          |          152|             28|        43|\nPublic aircraft - federal|           94|             18|        33|\nPublic aircraft - local  |           74|              9|        13|\nPublic aircraft - state  |           61|             12|        23|\nSkydiving                |          128|             19|        52|\nUnknown                  |          153|             52|       107|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#314-registration_number","title":"3.14 <code>registration_number</code>","text":"<p><pre><code>SELECT registration_number                        \"registration_number\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM (SELECT CASE\n                 WHEN i.registration_number = 'UNREG' THEN i.registration_number\n                 WHEN upper(i.registration_number) ~ '^N[1-9][0-9][0-9][0-9][0-9]$' THEN 'USA'\n                 WHEN upper(i.registration_number) ~ '^N[1-9][0-9][0-9][0-9][A-Z]$' THEN 'USA'\n                 WHEN upper(i.registration_number) ~ '^N[1-9][0-9][0-9][A-Z][A-Z]$' THEN 'USA'\n                 ELSE 'NON-US'\n                 END registration_number,\n             i.fatal_injuries\n        FROM io_ntsb_2002_2021 i) j\nGROUP BY registration_number\nORDER BY 1 \n</code></pre> Result: <pre><code>registration_number|Accidents All|Accidents Fatal|Fatalities|\n-------------------+-------------+---------------+----------+\nNON-US             |         4585|           1050|      1848|\nUNREG              |            3|              0|          |\nUSA                |        25653|           4580|      8397|\n</code></pre></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#315-serious_injuries","title":"3.15 <code>serious_injuries</code>","text":"<pre><code>serious_injuries|Accidents All|Accidents Fatal|Fatalities|\n----------------+-------------+---------------+----------+\n               0|          736|            169|       288|\n               1|         3288|            553|       866|\n               2|          758|            112|       210|\n               3|          149|             50|        88|\n               4|           53|             17|        44|\n               5|           13|              6|        14|\n               6|            6|              2|         6|\n               7|            5|              1|         5|\n               8|            1|              1|         1|\n               9|            3|              3|        16|\n              66|            1|              1|        11|\n                |        25228|           4715|      8696|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>serious_injuries|Accidents All|Accidents Fatal|Fatalities|\n----------------+-------------+---------------+----------+\n               0|          729|            169|       288|\n               1|         3258|            536|       838|\n               2|          753|            111|       208|\n               3|          147|             49|        87|\n               4|           53|             17|        44|\n               5|           13|              6|        14|\n               6|            6|              2|         6|\n               7|            5|              1|         5|\n               8|            1|              1|         1|\n               9|            2|              2|        10|\n              66|            1|              1|        11|\n                |        24919|           4635|      8338|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#4-derivation-rules-for-the-aggregated-worksheets","title":"4. Derivation Rules for the Aggregated Worksheets","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#41-table-1","title":"4.1 Table 1","text":"<p>Accidents, Fatalities, and Rates, 2021 Statistics,  US Aviation</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#i-flight_regulation","title":"I. <code>flight_regulation</code>","text":"<p><pre><code>SELECT flight_regulation                          \"flight_regulation\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n GROUP BY flight_regulation\n ORDER BY 1\n</code></pre> Results: <pre><code>flight_regulation             |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nArmed Forces                  |            1|              0|          |\nNon-U.S., non-commercial      |           23|              7|        19|\nPart 121: Air carrier         |           26|              0|         0|\nPart 133: Rotorcraft ext. load|            7|              0|         0|\nPart 135: Air taxi &amp; commuter |           44|             10|        32|\nPart 137: Agricultural        |           56|             12|        12|\nPart 91: General aviation     |         1056|            189|       310|\nPart 91 subpart k: Fractional |            1|              0|         0|\nPublic aircraft               |           13|              2|         3|\nUnknown                       |            6|              1|         2|\n</code></pre></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#ii-flight_schedule_type","title":"II. <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT flight_schedule_type                       \"flight_schedule_type\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n GROUP BY flight_schedule_type\n ORDER BY 1\n</code></pre> Results: <pre><code>flight_schedule_type|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |         1050|            190|       324|\nNon-scheduled       |          147|             30|        52|\nScheduled           |           36|              1|         2|\n</code></pre></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#iii-flight_regulation-flight_schedule_type","title":"III. <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT flight_regulation                          \"flight_regulation\",\n       flight_schedule_type                       \"flight_schedule_type\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n GROUP BY flight_regulation, flight_schedule_type\n ORDER BY 1, 2\n</code></pre> Results: <pre><code>flight_regulation             |flight_schedule_type|Accidents All|Accidents Fatal|Fatalities|\n------------------------------+--------------------+-------------+---------------+----------+\nArmed Forces                  |                    |            1|              0|          |\nNon-U.S., non-commercial      |                    |           23|              7|        19|\nPart 121: Air carrier         |Non-scheduled       |            3|              0|          | ok\nPart 121: Air carrier         |Scheduled           |           23|              0|         0|\nPart 133: Rotorcraft ext. load|                    |            4|              0|          |\nPart 133: Rotorcraft ext. load|Non-scheduled       |            2|              0|         0|\nPart 133: Rotorcraft ext. load|Scheduled           |            1|              0|          |\nPart 135: Air taxi &amp; commuter |                    |            1|              1|         5|\nPart 135: Air taxi &amp; commuter |Non-scheduled       |           32|              8|        25| ok\nPart 135: Air taxi &amp; commuter |Scheduled           |           11|              1|         2| ok\nPart 137: Agricultural        |                    |           45|              9|         9|\nPart 137: Agricultural        |Non-scheduled       |           11|              3|         3|\nPart 91: General aviation     |                    |          958|            170|       286|\nPart 91: General aviation     |Non-scheduled       |           97|             19|        24|\nPart 91: General aviation     |Scheduled           |            1|              0|          |\nPart 91 subpart k: Fractional |Non-scheduled       |            1|              0|         0|\nPublic aircraft               |                    |           12|              2|         3|\nPublic aircraft               |Non-scheduled       |            1|              0|          |\nUnknown                       |                    |            6|              1|         2|\n</code></pre> Table 1:</p> <p></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#42-table-9","title":"4.2 Table 9","text":"<p>Accidents, Fatalities, and Rates, 2002 through 2021,  for US Air Carriers Operating Under 14 CFR 135,  On-Demand Operationsa</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#i-flight_regulation-flight_schedule_type","title":"I.  <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT ev_year                                    \"year\",  \n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation = 'Part 135: Air taxi &amp; commuter'\n   AND flight_schedule_type = 'Non-scheduled'\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|           64|             18|        35|\n2003|           74|             18|        42|\n2004|           66|             23|        64|\n2005|           65|             11|        18|\n2006|           52|             10|        16|\n2007|           63|             14|        43|\n2008|           59|             21|        76|\n2009|           47|              2|        17|\n2010|           31|              6|        17|\n2011|           51|             17|        42|\n2012|           39|              8|        12|\n2013|           45|             10|        25|\n2014|           36|              8|        20|\n2015|           39|              7|        27|\n2016|           29|              7|        19|\n2017|           44|              8|        16|\n2018|           40|              7|        16|\n2019|           34|             13|        38|\n2020|           39|              6|        21|\n2021|           32|              8|        25|\n</code></pre> Table 9:</p> <p></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#43-table-10","title":"4.3 Table 10","text":"<p>Accidents, Fatalities, and Rates, 2002 through 2021,  US General Aviation</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#i-flight_regulation-flight_schedule_type_1","title":"I.  <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT ev_year                                    \"year\",  \n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation in ('Part 91: General aviation', \n                             'Part 135: Air taxi &amp; commuter', \n                             'Part 137: Agricultural', \n                             'Part 91 subpart k: Fractional')\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1751|            351|       590|\n2003|         1790|            366|       682|\n2004|         1661|            327|       610|\n2005|         1726|            321|       551|\n2006|         1545|            312|       715|\n2007|         1702|            296|       533|\n2008|         1622|            288|       541|\n2009|         1505|            268|       481|\n2010|         1447|            266|       453|\n2011|         1505|            279|       486|\n2012|         1475|            269|       411|\n2013|         1240|            213|       379|\n2014|         1216|            251|       401|\n2015|         1234|            228|       394|\n2016|         1279|            210|       390|\n2017|         1260|            203|       334|\n2018|         1295|            218|       368|\n2019|         1249|            240|       435|\n2020|         1101|            198|       342|\n2021|         1157|            211|       354|\n</code></pre> Table 10:</p> <p></p> <p>2 aircraft involved:</p> <p><pre><code>SELECT ev_year                                    \"year\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation in ('Part 91: General aviation',\n                            'Part 135: Air taxi &amp; commuter',\n                            'Part 137: Agricultural',\n                            'Part 91 subpart k: Fractional')\n   AND ntsb_number IN (SELECT ntsb_number\n                      FROM io_ntsb_2002_2021 in2\n                      GROUP BY ntsb_number\n                      HAVING count(*) = 3)\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\nyear|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|           29|              8|        16|\n2003|           41|             16|        48|\n2004|           32|             14|        22|\n2005|           35|             10|        20|\n2006|           24|             10|        26|\n2007|           36|             10|        22|\n2008|           48|             12|        50|\n2009|           27|             12|        36|\n2010|           30|              8|        16|\n2011|           36|             14|        22|\n2012|           30|              8|        12|\n2013|           20|              6|        14|\n2014|           21|             10|        18|\n2015|           29|              2|        10|\n2016|           36|             14|        38|\n2017|           20|              2|         4|\n2018|           36|              6|        14|\n2019|           32|             10|        24|\n2020|           22|              8|        36|\n2021|           12|              2|         4|\n</code></pre></p> <p>3 aircraft involved:</p> <p><pre><code>SELECT ev_year                                    \"year\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation in ('Part 91: General aviation',\n                            'Part 135: Air taxi &amp; commuter',\n                            'Part 137: Agricultural',\n                            'Part 91 subpart k: Fractional')\n   AND ntsb_number IN (SELECT ntsb_number\n                      FROM io_ntsb_2002_2021 in2\n                      GROUP BY ntsb_number\n                      HAVING count(*) = 3)\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2010|            3|              3|         9|\n</code></pre></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#43-table-13","title":"4.3 Table 13","text":"<p>Defining Event for Accidents in 2021, for US Air Carriers Operating Under 14 CFR 121</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#i-flight_regulation-flight_schedule_type_2","title":"I.  <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT defining_event                             \"defining_event\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n   AND flight_regulation = 'Part 121: Air carrier'     \n GROUP BY defining_event\n</code></pre> Results: <pre><code>defining_event                       |Accidents All|Accidents Fatal|\n-------------------------------------+-------------+---------------+\nTurbulence Encounter                 |            6|              0| ok\nGround Collision                     |            5|              0| ok\nAbnormal Runway Contact              |            4|              0| ok\nAbrupt Maneuver                      |            2|              0| ok\nSystem/Component Failure - Non-power |            2|              0| ok\nCabin Safety Events                  |            1|              0| ok\nEvacuation                           |            1|              0| ok\nGround Handling                      |            1|              0| ok\nSystem/Component Failure - Powerplant|            1|              0| ok\n                                     |            3|              0| ok\n</code></pre> Table 13:</p> <p></p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#5-legacy-stuff","title":"5. Legacy stuff","text":"<p>Worksheet no. 29 obviously contains the detailed events underlying the statistics in the previous worksheets. Now, in order to make the data in the IO-AVSTATS-DB database comparable to this MS Excel file, the data from Worksheet no. 29 was loaded into the IO-AVSTATS-DB database as database table <code>io_ntsb_2002_2021</code>, unchanged.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#totals","title":"Totals","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#from-table-10","title":"From Table 10","text":"<pre><code>accidents_all|accidents_fatal|fatalities_total|fatalities_aboard|\n-------------+---------------+----------------+-----------------+\n        28255|           5291|            9248|             8991|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total","title":"Total","text":"<pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 </code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        30241|           5630|           10245|\n</code></pre> <pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 WHERE aircraft_number = 1\n</code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        29887|           5530|            9850|\n</code></pre> <pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 WHERE country = 'United States'\n</code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        29697|           5357|            9453|\n</code></pre> <pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 WHERE aircraft_number = 1\nAND country IN ('Bahamas', 'United States')\n</code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        29347|           5261|            9217|\n</code></pre> <pre><code>SELECT country,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY country  ORDER BY 3 DESC\n</code></pre> <p><pre><code>SELECT aircraft_number,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nGROUP BY aircraft_number  ORDER BY 1```\n</code></pre> aircraft_number|accidents_all|accidents_fatal_hil|accidents_fatal_fi|fatalities_total| ---------------+-------------+-------------------+------------------+----------------+               1|        29887|               5523|              5530|            9850|               2|          347|                 97|                97|             388|               3|            6|                  2|                 2|               6|               4|            1|                  1|                 1|               1| <pre><code>```sql\nSELECT country,\n       count(*)                                   accidents_all,\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\n       sum(fatal_injuries)                        fatalities_total\n FROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\n  AND country = 'United States'\nGROUP BY country  \nORDER BY 1\n</code></pre></p> <pre><code>country      |accidents_all|accidents_fatal_hil|accidents_fatal_fi|fatalities_total|\n-------------+-------------+-------------------+------------------+----------------+\nUnited States|        29347|               5254|              5261|            9217|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total-by-country","title":"Total by Country","text":"<pre><code>SELECT country,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY country  ORDER BY 3 DESC\n</code></pre> <pre><code>country                       |accidents_all|accidents_fatal|fatalities_total|\n------------------------------+-------------+---------------+----------------+\nUnited States                 |        29347|           5261|            9217|\nMexico                        |           48|             33|              70|\nBahamas                       |           57|             30|              82|\nCanada                        |           44|             23|              43|\nFrance                        |           38|             22|              55|\nGermany                       |           28|             15|              29|\nUnited Kingdom                |           28|             13|              28|\nDominican Republic            |           17|             12|              25|\nGuatemala                     |           11|              7|              13|\nItaly                         |           15|              7|               8|\nSpain                         |            9|              6|              15|\nColombia                      |           11|              6|              12|\n                              |           13|              5|              11|\nCosta Rica                    |            6|              4|              16|\nIceland                       |            5|              4|               6|\nSwitzerland                   |            7|              4|               6|\nAustria                       |            6|              4|              10|\nBrazil                        |            8|              4|              11|\nHonduras                      |            4|              3|              12|\nVenezuela                     |            9|              3|               7|\n...\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total-by-flight-regulation","title":"Total by Flight Regulation","text":"<pre><code>SELECT flight_regulation ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY flight_regulation  ORDER BY 3 DESC\n</code></pre> <pre><code>flight_regulation             |accidents_all|accidents_fatal|fatalities_total|\n------------------------------+-------------+---------------+----------------+\nPart 91: General aviation     |        25981|           4840|            8309|\nPart 135: Air taxi &amp; commuter |         1033|            227|             595|\nNon-U.S., non-commercial      |          286|            169|             390|\nPart 137: Agricultural        |         1427|            152|             158|\nPublic aircraft               |          345|             68|             122|\nPart 133: Rotorcraft ext. load|          151|             36|              42|\nPart 121: Air carrier         |          620|             20|             180|\nUnknown                       |           26|             15|              49|\nPart 125: 20+ pax,6000+ lbs   |            9|              3|               5|\nPart 91 subpart k: Fractional |            8|              0|               0|\nArmed Forces                  |            1|              0|                |\n</code></pre> <pre><code>SELECT flight_regulation ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nGROUP BY flight_regulation  ORDER BY 3 DESC\n</code></pre> <pre><code>flight_regulation             |accidents_all|accidents_fatal|fatalities_total|\n------------------------------+-------------+---------------+----------------+\nPart 91: General aviation     |        26256|           4925|            8665|\nPart 135: Air taxi &amp; commuter |         1054|            233|             621|\nNon-U.S., non-commercial      |          288|            171|             394|\nPart 137: Agricultural        |         1442|            157|             164|\nPublic aircraft               |          349|             70|             125|\nPart 133: Rotorcraft ext. load|          151|             36|              42|\nPart 121: Air carrier         |          657|             20|             180|\nUnknown                       |           26|             15|              49|\nPart 125: 20+ pax,6000+ lbs   |            9|              3|               5|\nPart 91 subpart k: Fractional |            8|              0|               0|\nArmed Forces                  |            1|              0|                |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total-by-flight-schedule-type","title":"Total by Flight Schedule Type","text":"<pre><code>SELECT flight_schedule_type  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY flight_schedule_type  ORDER BY 3 DESC\n</code></pre> <pre><code>flight_schedule_type|accidents_all|accidents_fatal|fatalities_total|\n--------------------+-------------+---------------+----------------+\n                    |        27976|           5226|            8981|\nNon-scheduled       |         1269|            283|             683|\nScheduled           |          642|             21|             186|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total-by-purpose-of-flight","title":"Total by Purpose of Flight","text":"<pre><code>SELECT purpose_of_flight  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY purpose_of_flight  ORDER BY 3 DESC\n</code></pre> <pre><code>purpose_of_flight        |accidents_all|accidents_fatal|fatalities_total|\n-------------------------+-------------+---------------+----------------+\nPersonal                 |        18744|           3776|            6422|\nInstructional            |         3971|            360|             636|\n                         |         1749|            311|             942|\nBusiness                 |          770|            192|             399|\nAerial application       |         1427|            162|             171|\nPositioning              |          679|            153|             258|\nAerial observation       |          340|             89|             160|\nOther work use           |          494|             87|             162|\nFlight test              |          338|             69|              99|\nAir race/show            |          130|             55|              70|\nUnknown                  |          153|             52|             107|\nFerry                    |          158|             40|              56|\nExecutive/Corporate      |          139|             35|             126|\nPublic aircraft          |          151|             28|              43|\nExternal load            |          109|             25|              30|\nSkydiving                |          125|             19|              52|\nPublic aircraft - federal|           94|             18|              33|\nBanner tow               |           98|             15|              18|\nGlider tow               |           49|             13|              15|\nPublic aircraft - state  |           61|             12|              23|\nPublic aircraft - local  |           73|              9|              13|\nFirefighting             |           27|              8|              12|\nAir drop                 |            8|              2|               3|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total-by-intentional-act","title":"Total by Intentional Act","text":"<p><pre><code>SELECT intentional_act  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY intentional_act  ORDER BY 3 DESC```\n</code></pre> intentional_act|accidents_all|accidents_fatal|fatalities_total| ---------------+-------------+---------------+----------------+                |        29832|           5498|            9811| true           |           55|             32|              39| <pre><code>#### Total by Defining Event\n\n```sql\nSELECT defining_event  ,\n       count(*)                                   accidents_all,\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\n       sum(fatal_injuries)                        fatalities_total\n FROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY defining_event  \nORDER BY 3 DESC\n</code></pre></p> <pre><code>defining_event                       |accidents_all|accidents_fatal|fatalities_total|\n-------------------------------------+-------------+---------------+----------------+\n                                     |        10746|           2101|            3857|\nLoss of Control In-Flight            |         3402|           1486|            2625|\nSystem/Component Failure - Powerplant|         3169|            335|             504|\nControlled Flight Into Terrain       |          527|            294|             588|\nUnknown                              |          284|            189|             323|\nUnintended Flight Into IMC           |          249|            173|             317|\nOther                                |          954|            170|             273|\nSystem/Component Failure - Non-power |          885|            139|             247|\nFuel Related                         |         1137|            135|             204|\nLow Altitude Operation               |          341|            116|             166|\nMidair                               |          111|             58|             152|\nAbrupt Maneuver                      |          136|             55|             105|\nCollision on Takeoff or Landing      |          478|             46|             102|\nLoss of Control on Ground            |         2921|             35|              53|\nAbnormal Runway Contact              |         2522|             34|              43|\nWindshear/Thunderstorm               |           76|             23|              47|\nFire - Non-Impact                    |          135|             21|              40|\nGround Handling                      |          119|             18|              24|\nTurbulence Encounter                 |          205|             16|              22|\nMedical Event                        |           14|             11|              12|\nRunway Excursion                     |          442|             11|              28|\nIcing                                |           24|             10|              15|\nLoss of Lift                         |          137|              9|              19|\nBird Strike                          |          128|              9|              28|\nSecurity Related                     |           11|              7|               8|\nExternal Load                        |           22|              7|               8|\nGround Collision                     |          273|              5|              12|\nNavigation Error                     |           13|              3|               4|\nRunway Incursion - Vehicle           |           13|              3|               5|\nUndershoot/Overshoot                 |          252|              3|               9|\nSimulated/training event             |           11|              2|               3|\nGlider Towing                        |           14|              2|               2|\nCabin Safety Events                  |           54|              2|               2|\nAerodrome                            |           19|              1|               1|\nAir Traffic Management               |            2|              1|               2|\nWildlife Encounter                   |           58|              0|               0|\nFire - Post-Impact                   |            1|              0|                |\nEvacuation                           |            2|              0|                |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#total-by-phase-of-flight","title":"Total by Phase of Flight","text":"<pre><code>SELECT phase_of_flight  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY phase_of_flight  ORDER BY 3 DESC\n</code></pre> <pre><code>phase_of_flight     |accidents_all|accidents_fatal|fatalities_total|\n--------------------+-------------+---------------+----------------+\n                    |        10698|           2094|            3846|\nManeuvering         |         2500|            964|            1518|\nEnroute             |         3118|            885|            1665|\nApproach            |         2121|            558|            1052|\nInitial Climb       |         1861|            527|             934|\nTakeoff             |         2202|            205|             368|\nUnknown             |          166|             99|             174|\nLanding             |         6089|             98|             137|\nEmergency Descent   |          200|             36|              58|\nStanding            |          347|             35|              47|\nUncontrolled Descent|           42|             24|              44|\nTaxi                |          516|              5|               7|\nPost-Impact         |            6|              0|                |\nPushback/Tow        |           21|              0|                |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-1-fatalities","title":"Observation 1 - Fatalities","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-discrepancy-between-fatal-injuries-and-highest-injury-level","title":"Observation: Discrepancy between <code>Fatal Injuries</code> and <code>Highest Injury Level</code>:","text":"<pre><code>SELECT ev_year                                                \"Year\",\ncount(*) FILTER (WHERE highest_injury_level = 'Fatal') \"Accidents Fatal 1\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0)             \"Accidents Fatal 2\"\nFROM io_ntsb_2002_2021\nGROUP BY ev_year\nHAVING count(*) FILTER (WHERE highest_injury_level = 'Fatal') != count(*) FILTER (WHERE fatal_injuries &gt; 0)\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents Fatal 1|Accidents Fatal 2|\n----+-----------------+-----------------+\n2008|              298|              305|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#events-affected-table-29","title":"Events affected - Table 29:","text":"<pre><code>SELECT ntsb_number, event_date, fatal_injuries, highest_injury_level\nFROM io_ntsb_2002_2021\nWHERE fatal_injuries &gt; 0\nAND highest_injury_level != 'Fatal'\n</code></pre> <pre><code>ntsb_number|event_date             |fatal_injuries|highest_injury_level|\n-----------+-----------------------+--------------+--------------------+\nANC09FA001 |2008-10-01 00:00:00.000|             2|                    |\nDFW08FA237 |2008-09-28 00:00:00.000|             2|                    |\nLAX08FA300 |2008-09-28 00:00:00.000|             1|                    |\nMIA08MA203 |2008-09-27 00:00:00.000|             4|                    |\nNYC08FA319 |2008-09-23 00:00:00.000|             1|                    |\nNYC08FA324 |2008-09-26 00:00:00.000|             1|                    |\nNYC08LA322 |2008-09-23 00:00:00.000|             1|                    |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#this-problem-does-not-occur-in-the-io-avstats-db-database","title":"This problem does not occur in the IO-AVSTATS-DB database!","text":"<pre><code>SELECT ntsb_no, ev_year, inj_f_grnd, inj_tot_f, ev_highest_injury\nFROM io_app_ae1982 iaa\nWHERE (inj_f_grnd &gt; 0 OR inj_tot_f &gt; 0)\nAND ev_highest_injury != 'FATL'\nORDER BY ntsb_no </code></pre> <pre><code>ntsb_no|ev_year|inj_f_grnd|inj_tot_f|ev_highest_injury|\n-------+-------+----------+---------+-----------------+\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#the-corrupted-data-in-the-ms-excel-file-looks-correct-in-the-io-avstats-db-database","title":"The corrupted data in the MS Excel file looks correct in the IO-AVSTATS-DB database:","text":"<pre><code>SELECT ntsb_no, ev_year, inj_f_grnd, inj_tot_f, ev_highest_injury\nFROM io_app_ae1982 iaa\nWHERE ntsb_no\nIN ('NYC08FA319',\n'NYC08LA322',\n'NYC08FA324',\n'MIA08MA203',\n'DFW08FA237',\n'LAX08FA300',\n'ANC09FA001')\nORDER BY ntsb_no\n</code></pre> <pre><code>ntsb_no   |ev_year|inj_f_grnd|inj_tot_f|ev_highest_injury|\n----------+-------+----------+---------+-----------------+\nANC09FA001|   2008|         0|        2|FATL             |\nDFW08FA237|   2008|         0|        2|FATL             |\nLAX08FA300|   2008|         0|        1|FATL             |\nMIA08MA203|   2008|         0|        4|FATL             |\nNYC08FA319|   2008|         0|        1|FATL             |\nNYC08FA324|   2008|         0|        1|FATL             |\nNYC08LA322|   2008|         0|        1|FATL             |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-the-highest-injury-level-column-in-the-ms-excel-file-cannot-be-used-to-determine-fatalities","title":"Conclusion: The <code>Highest Injury Level</code> column in the MS Excel file cannot be used to determine fatalities!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-2-incidents","title":"Observation 2 - Incidents","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-if-the-worksheet-no-29-also-contains-events-of-type-inc-incident","title":"Observation: If the worksheet no. 29+ also contains events of type <code>INC</code> (incident):","text":"<pre><code>SELECT ntsb_number, event_date\nFROM io_ntsb_2002_2021\nWHERE ntsb_number IN (SELECT ntsb_no FROM io_app_ae1982 WHERE ev_type = 'INC')\n</code></pre> <pre><code>ntsb_number|event_date|\n-----------+----------+\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-worksheet-no-29-does-not-contain-any-events-of-type-inc","title":"Conclusion: Worksheet no. 29 does not contain any events of type <code>INC</code>!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-3-duplicates-1","title":"Observation 3 - Duplicates 1","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-are-more-than-1-line-included-for-the-same-ntsb-number","title":"Observation: Are more than 1 line included for the same <code>NTSB Number</code>:","text":"<pre><code>SELECT count(ntsb_number)\nFROM (SELECT count(*), ntsb_number\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number\nHAVING count(*) &gt; 1) g\n</code></pre> <pre><code>count|\n-----+\n  336|\n</code></pre> <pre><code>SELECT ntsb_number, event_date, state_or_region, city, country, fatal_injuries\nFROM io_ntsb_2002_2021 in3\nWHERE ntsb_number in (SELECT ntsb_number\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number\nHAVING count(*) &gt; 1)\nORDER BY ntsb_number\n</code></pre> <pre><code>ntsb_number|event_date             |state_or_region     |city                       |country      |fatal_injuries|\n-----------+-----------------------+--------------------+---------------------------+-------------+--------------+\nANC02LA053 |2002-06-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC02LA053 |2002-06-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC02LA086 |2002-07-30 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC02LA086 |2002-07-30 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC02LA098 |2002-08-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC02LA098 |2002-08-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC03LA005 |2002-10-22 00:00:00.000|Alaska              |BETHEL                     |United States|              |\nANC03LA005 |2002-10-22 00:00:00.000|Alaska              |BETHEL                     |United States|              |\nANC04FA016 |2003-12-28 00:00:00.000|Arizona             |Peoria                     |United States|             4|\nANC04FA016 |2003-12-28 00:00:00.000|Arizona             |Peoria                     |United States|             4|\nANC06FA048 |2006-04-23 00:00:00.000|Alaska              |Chugiak                    |United States|             5|\nANC06FA048 |2006-04-23 00:00:00.000|Alaska              |Chugiak                    |United States|             5|\nANC08LA106 |2008-08-18 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC08LA106 |2008-08-18 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC09LA004 |2008-10-07 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC09LA004 |2008-10-07 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC09LA011 |2008-11-14 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC09LA011 |2008-11-14 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC10LA094 |2010-09-15 00:00:00.000|Alaska              |Dillingham                 |United States|              |\nANC10LA094 |2010-09-15 00:00:00.000|Alaska              |Dillingham                 |United States|              |\nANC11FA062 |2011-07-10 00:00:00.000|Alaska              |Port Alsworth              |United States|              |\nANC11FA062 |2011-07-10 00:00:00.000|Alaska              |Port Alsworth              |United States|              |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-there-are-336-events-with-more-than-1-line-included-in-worksheet-29","title":"Conclusion: There are 336 events with more than 1 line included in worksheet 29.","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-4-duplicates-2","title":"Observation 4 - Duplicates 2","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-how-many-lines-are-there-in-the-events-with-multiple-lines","title":"Observation: How many lines are there in the events with multiple lines:","text":"<pre><code>SELECT count(*), ntsb_number, ev_year\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number, ev_year\nHAVING count(*) &gt; 1\nORDER BY 1 desc\n</code></pre> <pre><code>count|ntsb_number|ev_year|\n-----+-----------+-------+\n    3|CEN10FA115 |   2010|\n    2|ERA11CA296 |   2011|\n    2|WPR12CA163 |   2012|\n    2|MIA04FA043 |   2004|\n    2|LAX08FA265 |   2008|\n    2|NYC07LA209 |   2007|\n    2|ERA09TA466 |   2009|\n    2|GAA19CA346 |   2019|\n    2|SEA07FA264 |   2007|\n    2|DCA15CA012 |   2014|\n    2|ANC02LA086 |   2002|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-only-in-2010-there-is-an-event-with-3-lines-otherwise-there-are-always-2-lines","title":"Conclusion: Only in 2010 there is an event with 3 lines, otherwise there are always 2 lines.","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#2worksheet-no-10-vs-no-29","title":"2.Worksheet no. 10 vs. no. 29","text":"<p>Worksheet no. 10</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-1-completeness","title":"Observation 1 - Completeness","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-from-worksheet-29-included-in-worksheet-10","title":"Observation: Are all events from worksheet 29 included in worksheet 10:","text":"<pre><code>SELECT ev_year                                    \"Year\",\ncount(*)                                   \"Accidents All\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\nsum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1837|            367|       624|\n2003|         1890|            381|       723|\n2004|         1735|            346|       648|\n2005|         1804|            340|       613|\n2006|         1626|            326|       787|\n2007|         1765|            308|       551|\n2008|         1688|            305|       593|\n2009|         1572|            285|       559|\n2010|         1527|            284|       491|\n2011|         1578|            293|       510|\n2012|         1556|            285|       456|\n2013|         1306|            238|       436|\n2014|         1302|            268|       451|\n2015|         1296|            239|       411|\n2016|         1355|            228|       427|\n2017|         1331|            212|       349|\n2018|         1366|            234|       402|\n2019|         1322|            255|       467|\n2020|         1152|            215|       369|\n2021|         1233|            221|       378|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-worksheet-no-29-always-contains-more-events-than-are-included-in-worksheet-no-10","title":"Conclusion: Worksheet no. 29 always contains more events than are included in Worksheet no. 10!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-2-duplicates","title":"Observation 2 - Duplicates","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-look-for-reasons-for-the-discrepancies","title":"Observation: Look for reasons for the discrepancies:","text":"<pre><code>SELECT ev_year                                    \"Year\",\ncount(*)                                   \"Accidents All\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\nsum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ntsb_number IN (SELECT ntsb_number\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number\nHAVING count(*) &gt; 1)\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|           30|              8|        16|\n2003|           42|             16|        48|\n2004|           32|             14|        22|\n2005|           46|             12|        24|\n2006|           30|             10|        26|\n2007|           38|             10|        22|\n2008|           56|             12|        50|\n2009|           28|             12|        36|\n2010|           39|             11|        25|\n2011|           42|             14|        22|\n2012|           32|              8|        12|\n2013|           20|              6|        14|\n2014|           24|             10|        18|\n2015|           30|              2|        10|\n2016|           38|             14|        38|\n2017|           28|              2|         4|\n2018|           38|              6|        14|\n2019|           40|             10|        24|\n2020|           24|             10|        40|\n2021|           16|              2|         4|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-the-ominous-existence-of-duplicates-unfortunately-does-not-explain-the-difference-between-worksheets-no-10-and-no-29","title":"Conclusion: The ominous existence of duplicates unfortunately does not explain the difference between worksheets no. 10 and no. 29.","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#3worksheet-no-10-vs-io-avstats","title":"3.Worksheet no. 10 vs. IO-AVSTATS","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-1-completeness_1","title":"Observation 1 - Completeness","text":"<p>Last checked on January 14, 2023</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-from-worksheet-10-included-in-io-avstats-db","title":"Observation: Are all events from worksheet 10 included in IO-AVSTATS-DB:","text":"<pre><code>SELECT ev_year                                    \"Year\",\ncount(*)                                   \"Accidents All\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\nsum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nwhere ntsb_number in (select ntsb_no from io_app_ae1982 where ev_type = 'ACC' and is_us_aviation is true)\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1836|            366|       619|\n2003|         1889|            380|       720|\n2004|         1734|            346|       648|\n2005|         1802|            340|       613|\n2006|         1623|            324|       785|\n2007|         1762|            307|       549|\n2008|         1687|            305|       593|\n2009|         1572|            285|       559|\n2010|         1527|            284|       491|\n2011|         1578|            293|       510|\n2012|         1555|            285|       456|\n2013|         1305|            237|       435|\n2014|         1302|            268|       451|\n2015|         1296|            239|       411|\n2016|         1355|            228|       427|\n2017|         1331|            212|       349|\n2018|         1366|            234|       402|\n2019|         1322|            255|       467|\n2020|         1151|            215|       369|\n2021|         1226|            219|       372|\n</code></pre> <pre><code>SELECT ev_year                               \"Year\",\ncount(*)                              \"Accidents All\",\ncount(*) FILTER (WHERE inj_tot_f &gt; 0) \"Accidents Fatal\",\nsum(inj_tot_f)                        \"Fatalities\"\nFROM io_app_ae1982 iaa\nwhere ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nand is_us_aviation is true\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1851|            369|       621|\n2003|         1908|            386|       722|\n2004|         1755|            354|       665|\n2005|         1809|            348|       623|\n2006|         1639|            333|       797|\n2007|         1775|            314|       574|\n2008|         1699|            318|       710|\n2009|         1635|            325|       903|\n2010|         1593|            316|      1137|\n2011|         1649|            336|       762|\n2012|         1631|            325|       718|\n2013|         1377|            281|       570|\n2014|         1353|            296|       861|\n2015|         1369|            280|       648|\n2016|         1438|            272|       661|\n2017|         1424|            279|       494|\n2018|         1496|            309|       827|\n2019|         1410|            313|       800|\n2020|         1222|            249|       597|\n2021|         1253|            227|       388|\n</code></pre> <pre><code>select iaa.ev_id,\niaa.ntsb_no,\niaa.ev_year,\niaa.country,\niaa.city,\niaa.inj_tot_f,\niaa.dprt_countries,\niaa.dest_countries,\niaa.regis_countries,\niaa.owner_countries,\niaa.oper_countries\nFROM io_app_ae1982 iaa\nLEFT OUTER JOIN io_ntsb_2002_2021 in2 ON (iaa.ntsb_no = in2.ntsb_number)\nWHERE iaa.ev_year = 2010\nAND in2.ntsb_number IS NULL\nAND iaa.is_us_aviation IS TRUE\nAND iaa.ev_type = 'ACC'\nORDER BY iaa.ev_id desc\n</code></pre> <pre><code>ev_id         |ntsb_no   |ev_year|country|city                          |inj_tot_f|dprt_countries|dest_countries|regis_countries|owner_countries|oper_countries|\n--------------+----------+-------+-------+------------------------------+---------+--------------+--------------+---------------+---------------+--------------+\n20111108X10934|DCA11WA114|   2010|KE     |Vipingo Ridge                 |        1|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20110406X32218|CEN11WA269|   2010|CA     |Pickle Lake, Ontario          |        0|{CA}          |{CA}          |{NON-US}       |{USA}          |{USA}         |\n20110113X24716|ENG10RA063|   2010|HK     |Hong Kong                     |        0|{HK}          |{CH}          |{NON-US}       |{HK}           |{USA}         |\n20110107X43553|CEN11WA145|   2010|CS     |Bataan                        |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101217X95411|DCA11WA013|   2010|MZ     |Maputo                        |        0|{}            |{}            |{}             |{USA}          |{MZ}          |\n20101213X72824|CEN11WA107|   2010|UK     |Finningley                    |        0|{UK}          |{UK}          |{NON-US}       |{USA}          |{USA}         |\n20101213X65626|CEN11WA105|   2010|FR     |Tourrettes-sur-Loup           |        2|{FR}          |{FR}          |{NON-US}       |{USA}          |{USA}         |\n20101213X14827|ERA11WA086|   2010|CI     |Taltal                        |        1|{CI}          |{CI}          |{NON-US}       |{USA}          |{CI}          |\n20101206X53337|CEN11WA096|   2010|SP     |Alcora                        |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101206X04031|CEN11WA094|   2010|SW     |Link\u00f6ping                     |        1|{SW}          |{SW}          |{NON-US}       |{USA}          |{USA}         |\n20101130X61641|ERA11WA075|   2010|BR     |Tapurah City                  |        1|{BR}          |{BR}          |{NON-US}       |{USA}          |{USA}         |\n20101126X14552|ERA11WA073|   2010|PE     |Andahuayias                   |        0|{PE}          |{PE}          |{NON-US}       |{USA}          |{PE}          |\n20101125X11507|WPR11FA059|   2010|USA    |Hollister                     |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{AS}          |\n20101123X92602|CEN11WA080|   2010|PL     |Sekowice                      |        2|{GE}          |{GE}          |{NON-US}       |{USA}          |{USA}         |\n20101122X00226|ERA11WA068|   2010|PE     |Huanuco                       |        0|{PE}          |{PE}          |{USA}          |{USA}          |{PE}          |\n20101116X32303|DCA11WA008|   2010|PK     |Karachi                       |       21|{PK}          |{USA}         |{NON-US}       |{PK}           |{PK}          |\n20101116X12908|WPR11LA049|   2010|USA    |Marana                        |        0|{USA}         |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101115X31938|CEN11WA070|   2010|MX     |Minatitlan Veracruz           |        8|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20101110X42226|WPR11WA043|   2010|AS     |Rolleston, Australia          |        1|{AS}          |{AS}          |{NON-US}       |{USA}          |{USA}         |\n20101108X91241|CEN11CA059|   2010|USA    |Breakenridge                  |        0|{USA}         |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101031X30917|ERA11LA044|   2010|USA    |Fort Lauderdale               |        0|{CA}          |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101025X42125|WPR11CA028|   2010|USA    |Wells                         |        0|{USA}         |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101020X41300|WPR11WA020|   2010|AS     |Durham Downs, Australia       |        2|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101012X13907|CEN11WA013|   2010|MX     |Veracruz                      |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101004X40949|ENG10WA057|   2010|RS     |Izhma                         |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20101004X24052|DCA11WA002|   2010|UK     |Bristol                       |        0|{MX}          |{UK}          |{NON-US}       |{USA}          |{UK}          |\n20101001X32228|ENG10RA056|   2010|AF     |Shakar Darah District         |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100930X30111|DCA10WA101|   2010|VE     |Cuidad Guayana                |        0|{VE}          |{USA}         |{NON-US}       |{USA}          |{VE}          |\n20100929X01447|CEN10WA574|   2010|MX     |Tuxtlas                       |        2|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100928X21707|CEN10CA570|   2010|USA    |Sarcoxie                      |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100919X72723|ERA10LA488|   2010|USA    |Halifax                       |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100919X42634|WPR10WA460|   2010|AS     |Geraldton Aerodrome, Australia|        1|{USA}         |{USA}         |{NON-US}       |{AU}           |{AU}          |\n20100918X12923|CEN10WA546|   2010|HO     |San Pedro Sula                |        1|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100916X85029|CEN10CA541|   2010|USA    |Mineola                       |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100914X01342|CEN10WA538|   2010|UK     |Ryde                          |        2|{UK,UK}       |{UK,UK}       |{NON-US,NON-US}|{UK,USA}       |{UK,USA}      |\n20100912X75605|CEN10WA534|   2010|GP     |Pointe a Pitre                |        0|{GP}          |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100901X85159|CEN10RA511|   2010|CS     |San Jose                      |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100901X65026|DCA10WA091|   2010|UK     |London                        |        0|{NO}          |{UK}          |{NON-US}       |{USA}          |{USA}         |\n20100901X11325|WPR10WA443|   2010|PP     |Bugoiya                       |        4|{PP}          |{PP}          |{NON-US}       |{USA}          |{PP}          |\n20100901X01739|DCA10FA090|   2010|USA    |Dulles                        |        0|{UK}          |{USA}         |{NON-US}       |{UK}           |{USA}         |\n20100825X10814|DCA10WA087|   2010|CH     |Yichun                        |       42|{CH}          |{CH}          |{NON-US}       |{USA}          |{USA}         |\n20100817X40515|ERA10WA430|   2010|AR     |Mercedes                      |        0|{AR}          |{AR}          |{NON-US}       |{USA}          |{USA}         |\n20100803X33417|DCA10WA081|   2010|PK     |Islamabad                     |      157|{PK}          |{PK}          |{NON-US}       |{USA}          |{PK}          |\n20100730X85358|DCA10WA080|   2010|GV     |Conakry                       |        0|{}            |{}            |{}             |{USA}          |{MR}          |\n20100721X34052|DCA10RA079|   2010|SA     |Riyadh                        |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100714X03542|DCA10WA074|   2010|SP     |Girona                        |        0|{SP}          |{UK}          |{NON-US}       |{USA}          |{USA}         |\n20100708X84328|CEN10WA374|   2010|MX     |Piedras Negras                |        8|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100630X72411|ERA10WA340|   2010|CI     |San Felipe                    |        0|{CI}          |{CI}          |{NON-US}       |{USA}          |{USA}         |\n20100627X20107|CEN10RA345|   2010|MX     |Campeche                      |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100624X50945|WPR10WA309|   2010|AS     |Broken Hill                   |        1|{AS}          |{AS}          |{NON-US}       |{AS}           |{USA}         |\n20100623X13907|DCA10WA070|   2010|CF     |Dima                          |       11|{}            |{}            |{}             |{USA}          |{CF}          |\n20100621X12612|CEN10WA331|   2010|NO     |Sirdal                        |        0|{NO}          |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100615X95126|DCA10WA068|   2010|SF     |Johannesburg                  |        0|{}            |{}            |{NON-US}       |{USA}          |{SF}          |\n20100614X12305|CEN10RA319|   2010|MX     |Felipe Carrillo Puerto        |        9|{MX}          |{USA}         |{NON-US}       |{MX}           |{MX}          |\n20100603X92434|CEN10WA293|   2010|GE     |Bielefeld                     |        4|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100603X85900|CEN10WA292|   2010|FI     |Em\u00e4salo                       |        1|{}            |{}            |{NON-US}       |{FI}           |{USA}         |\n20100522X50538|DCA10RA063|   2010|IN     |Manglaore                     |      158|{}            |{}            |{NON-US}       |{USA}          |{IN}          |\n20100521X23753|WPR10WA249|   2010|AS     |Traralgon, Australia          |        1|{AS}          |{AS}          |{NON-US}       |{AS}           |{USA}         |\n20100519X65147|ERA10WA272|   2010|BR     |Manaus                        |        6|{BR}          |{BR}          |{NON-US}       |{USA}          |{BR}          |\n20100519X44533|WPR10WA245|   2010|RP     |Lucena City, Philippines      |        4|{RP}          |{RP}          |{NON-US}       |{RP}           |{USA}         |\n20100516X61819|ERA10LA267|   2010|USA    |Clearwater                    |        0|{USA}         |{HA}          |{NON-US}       |{MX}           |{MX}          |\n20100512X53621|DCA10RA059|   2010|LY     |Tripoli                       |      103|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100511X23826|CEN10WA248|   2010|UK     |Old Buckenham                 |        1|{GE}          |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100511X03836|DCA10WA057|   2010|CO     |Mitu                          |        0|{CO}          |{CO}          |{NON-US}       |{CO}           |{USA}         |\n20100503X31325|CEN10LA234|   2010|USA    |Haysville                     |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100503X01600|ERA10WA252|   2010|BR     |Resende                       |        2|{BR}          |{BR}          |{NON-US}       |{USA}          |{BR}          |\n20100429X00503|ENG10RA025|   2010|RS     |Smolensk                      |       89|{PL}          |{RS}          |{NON-US}       |{USA}          |{USA}         |\n20100428X20315|CEN10CA229|   2010|USA    |Amarillo                      |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100414X92635|DCA10RA053|   2010|MX     |Monterrey                     |        5|{MX}          |{MX}          |{NON-US}       |{USA}          |{USA}         |\n20100414X90838|DCA10WA051|   2010|ID     |Manokwari                     |        0|{ID}          |{ID}          |{NON-US}       |{USA}          |{ID}          |\n20100414X53531|CEN10WA205|   2010|GT     |Guatemala City                |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100414X14446|ENG10RA022|   2010|AS     |Darwin Aerodrome              |        2|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100413X85237|ERA10WA226|   2010|IT     |Vigne                         |        3|{IT}          |{AU}          |{NON-US}       |{USA}          |{USA}         |\n20100412X43956|DCA10WA050|   2010|WA     |Wlotzkasbaken                 |        1|{}            |{}            |{}             |{USA}          |{USA}         |\n20100412X21857|DCA10WA049|   2010|FR     |Paris                         |        0|{HK}          |{FR}          |{NON-US}       |{USA}          |{USA}         |\n20100409X22252|WPR10RA197|   2010|MY     |Kota Bahru                    |        0|{MY}          |{MY}          |{NON-US}       |{USA}          |{USA}         |\n20100405X44344|DCA10WA045|   2010|CF     |Kinshasa                      |        0|{}            |{}            |{}             |{CF}           |{USA}         |\n20100323X54139|WPR10LA174|   2010|USA    |Hollister                     |        0|{USA}         |{USA}         |{NON-US}       |{AS}           |{AS}          |\n20100312X94247|CEN10WA153|   2010|FR     |Chambery                      |        1|{FR}          |{FR}          |{NON-US}       |{SZ}           |{USA}         |\n20100305X54655|DCA10WA036|   2010|TW     |Taipai                        |        0|{USA}         |{TW}          |{NON-US}       |{TW}           |{TW}          |\n20100203X01641|CEN10WA112|   2010|NL     |Schiphol                      |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100129X92638|DCA10WA025|   2010|LU     |Luxembourg                    |        0|{SP}          |{LU}          |{NON-US}       |{USA}          |{USA}         |\n20100119X95202|ERA10LA119|   2010|USA    |Palmetto                      |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100118X42210|WPR10WA114|   2010|PW     |Palau International Airport   |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100111X10557|CEN10LA093|   2010|USA    |Eagle                         |        0|{USA}         |{MX}          |{NON-US}       |{MX}           |{MX}          |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-io-avstats-db-always-contains-more-events-than-are-included-in-worksheet-no-10","title":"Conclusion: IO-AVSTATS-DB always contains more events than are included in Worksheet no. 10!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#4worksheet-no-29-vs-io-avstats","title":"4.Worksheet no. 29 vs. IO-AVSTATS","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-1-missing-in-io-avstats","title":"Observation 1 - Missing in IO-AVSTATS","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-of-worksheet-no-29-contained-in-io-avstats","title":"Observation: Are all events of worksheet no. 29 contained in IO-AVSTATS:","text":"<pre><code>SELECT ntsb_number, ev_year, city, state_or_region, country, fatal_injuries\nFROM io_ntsb_2002_2021 in3\nWHERE ntsb_number NOT IN (SELECT ntsb_no FROM events)\nORDER BY ev_year, ntsb_number\n</code></pre> <pre><code>ntsb_number|ev_year|city    |state_or_region|country      |fatal_injuries|\n-----------+-------+--------+---------------+-------------+--------------+\nCEN21LA236 |   2021|Longmont|Colorado       |United States|              |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-this-minimal-difference-can-certainly-be-explained-by-a-subsequent-correction","title":"Conclusion: This minimal difference can certainly be explained by a subsequent correction.","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-2-missing-in-worksheet","title":"Observation 2 - Missing in Worksheet","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-of-io-avstats-contained-in-worksheet-no-29","title":"Observation: Are all events of IO-AVSTATS contained in worksheet no. 29:","text":"<pre><code>SELECT ntsb_no, ev_id, ev_year, ev_site_zipcode, ev_city, ev_country, inj_tot_f\nFROM events e\nWHERE ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nAND ntsb_no NOT IN (SELECT ntsb_number FROM io_ntsb_2002_2021 in2)\nORDER BY ev_year, ev_id\n</code></pre> <pre><code>ntsb_no   |ev_id         |ev_year|ev_site_zipcode|ev_city                                    |ev_country|inj_tot_f|\n----------+--------------+-------+---------------+-------------------------------------------+----------+---------+\nWAS02WA015|20020109X00049|   2002|00000          |Tarapoto                                   |PE        |         |\nMIA02LA054|20020201X00157|   2002|34142          |Immokalee                                  |USA       |        1|\nLAX02LA072|20020201X00161|   2002|92145          |San Diego                                  |USA       |        2|\nWAS02RA017|20020212X00207|   2002|00000          |Ishpingo                                   |EC        |         |\nWAS02WA019|20020220X00235|   2002|00000          |Santa Elena                                |VE        |         |\nWAS02RA021|20020221X00240|   2002|00000          |CACKCHILA                                  |GT        |        2|\nCHI02WA080|20020225X00253|   2002|               |Libourne                                   |FR        |        3|\nDCA02WA023|20020226X00261|   2002|               |San Juan                                   |AR        |         |\nSEA02LA039|20020228X00289|   2002|97009          |Boring                                     |USA       |        1|\nSEA02LA042|20020228X00290|   2002|98282          |Concrete                                   |USA       |         |\nWAS02WA023|20020301X00296|   2002|               |Indore                                     |IN        |         |\nIAD02WA031|20020302X00298|   2002|               |Zernez                                     |SZ        |        2|\nWAS02WA026|20020306X00311|   2002|00000          |San Antonio                                |PE        |        2|\nMIA02WA065|20020308X00318|   2002|               |Montevideo                                 |UY        |         |\nWAS02RA025|20020308X00319|   2002|00000          |El Tigre                                   |CO        |       26|\n</code></pre> <pre><code>SELECT count(*), ev_year\nFROM (SELECT ntsb_no, ev_id, ev_year, ev_site_zipcode, ev_city, ev_country, inj_tot_f\nFROM events e\nWHERE ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nAND ntsb_no NOT IN (SELECT ntsb_number FROM io_ntsb_2002_2021 in2)\nORDER BY ev_year, ev_id) g\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>count|ev_year|\n-----+-------+\n  115|   2002|\n  128|   2003|\n  141|   2004|\n  147|   2005|\n  141|   2006|\n  152|   2007|\n  130|   2008|\n  124|   2009|\n  140|   2010|\n  175|   2011|\n  177|   2012|\n  166|   2013|\n  162|   2014|\n  206|   2015|\n  207|   2016|\n  196|   2017|\n  218|   2018|\n  203|   2019|\n  169|   2020|\n  291|   2021|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-3388-events-of-io-avstats-are-not-included-in-worksheet-no-29","title":"Conclusion: 3388 Events of IO-AVSTATS are not included in worksheet no. 29!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-3-non-us-aircraft-registration-number","title":"Observation 3 - Non-US aircraft registration number","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-all-events-involving-only-aircraft-with-missing-or-non-us-registration-numbers-are-missing-from-worksheet-no-29","title":"Observation: All events involving only aircraft with missing or non-U.S. registration numbers are missing from Worksheet No. 29.:","text":"<pre><code>SELECT ntsb_number,\nevent_date,\ncity,\nstate_or_region,\ncountry,\naircraft_number,\nregistration_number,\nfatal_injuries\nFROM io_ntsb_2002_2021 in2\nWHERE ntsb_number IN (SELECT e.ntsb_no\nFROM events e\nINNER JOIN aircraft a ON (e.ev_id = a.ev_id)\nWHERE ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nAND (a.regis_no IS NULL\nor upper(a.regis_no) = 'NONE'\nor a.regis_no NOT LIKE 'N%')\nAND RTRIM(a.owner_country) != 'USA'\nAND RTRIM(a.oper_country) != 'USA'\nAND RTRIM(a.dprt_country) != 'USA'\nAND RTRIM(a.dest_country) != 'USA')\nORDER BY ev_year, ntsb_number\n</code></pre> <pre><code>ntsb_number|event_date             |city           |state_or_region|country   |aircraft_number|registration_number|fatal_injuries|\n-----------+-----------------------+---------------+---------------+----------+---------------+-------------------+--------------+\nANC08TA028 |2007-12-20 00:00:00.000|McMurdo Station|               |Antarctica|              1|C-FMKB             |              |\n</code></pre> <pre><code>SELECT e.ev_id,\na.aircraft_key,\na.regis_no,\na.dprt_country,\na.dest_country,\na.owner_country,\na.oper_country\nFROM events e\nINNER JOIN aircraft a ON (e.ev_id = a.ev_id)\nWHERE e.ev_year &gt;= 2002\nAND e.ev_year &lt;= 2021\nAND a.regis_no LIKE 'N%'\nAND rtrim(a.dest_country) != 'USA'\nAND rtrim(a.dprt_country) != 'USA'\nAND rtrim(a.owner_country) != 'USA'\nAND rtrim(a.oper_country) != 'USA'\n</code></pre> <pre><code>ev_id         |aircraft_key|regis_no|dprt_country|dest_country|owner_country|oper_country|\n--------------+------------+--------+------------+------------+-------------+------------+\n20081202X25642|           1|N400SA  |BR          |BR          |BR           |BR          |\n20081230X00408|           1|N104BN  |BP          |BP          |NH           |NH          |\n20120327X14319|           1|N27TR   |AR          |AR          |AR           |AR          |\n20130305X21219|           1|N471M   |PP          |PP          |NH           |NH          |\n20140922X90145|           1|N1027G  |FR          |UK          |UK           |UK          |\n20150707X14422|           1|N642RM  |RS          |RS          |RS           |RS          |\n20150903X44600|           1|N9068F  |KR          |KR          |NH           |NH          |\n20151112X63511|           1|N692BE  |TU          |LY          |AS           |AS          |\n20160630X91359|           1|N188RU  |CO          |CO          |CO           |CO          |\n20170308X31846|           1|N805LA  |UN          |UN          |NH           |NH          |\n20170728X93637|           1|N1001R  |BR          |BR          |BR           |BR          |\n20180301X63457|           1|N3AD    |CA          |GL          |GE           |GE          |\n20180329X93928|           1|N561LC  |SZ          |UN          |UN           |UN          |\n20180813X53624|           1|N2451J  |DR          |DR          |DR           |DR          |\n20181029X14552|           1|N474CG  |GE          |SZ          |UK           |SZ          |\n20190212X72918|           1|N842CD  |FR          |FR          |FR           |FR          |\n20190708X33047|           1|N3294P  |IC          |IC          |IC           |IC          |\n20190805X10835|           1|N989AE  |CO          |CO          |CB           |CO          |\n20200924X51906|           1|N9056K  |SA          |SA          |SA           |SA          |\n20061214X01789|           1|N79KD   |AU          |GE          |UK           |GE          |\n20090512X15548|           1|N1116G  |CO          |CO          |CO           |CO          |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-only-events-where-either-an-aircraft-with-a-us-registration-number-n1-n99999-n1a-n9999z-n1aa-n999zz-is-involved-or-the-us-is-either-the-departure-country-destination-country-owner-country-or-operator-country-are-considered","title":"Conclusion: Only events where either an aircraft with a U.S. registration number (N1 - N99999, N1A - N9999Z, N1AA - N999ZZ) is involved or the U.S. is either the departure country, destination country, owner country or operator country are considered.","text":""},{"location":"data_analyis_ntsb_accident_data.html","title":"Data Analysis: Aviation Event Data Sets","text":"<p>Note: The <code>IO-AVSTATS</code> database used here contains NTSB aircraft accident data as of January 1, 2023.</p> <p>This report is about comparing the NTSB Census of US Civil Aviation Events and the <code>IO-AVSTATS</code> database  for consistency.  </p> <p>The NTSB provides U.S. aviation accident data in Microsoft Acces format on its website at the following link. There are three file types to distinguish:</p> <ul> <li><code>Pre2008</code>: contains the data from 1982 to 2008 with some older data,</li> <li><code>avall</code>: contains the data since 2008</li> <li><code>upDDMON</code>: contains update data on the 1st, 8th, 15th and 22nd of each month. </li> </ul> <p>IO-Aero migrated the data from MS Access files <code>Pre2008</code> and <code>avall</code> to a PostgreSQL database on November 5, 2022, and has been processing new update files <code>upDDMON</code> since that time.</p> <pre><code>file_name |first_processed        |last_processed         |counter|\n----------+-----------------------+-----------------------+-------+\nPre2008   |2022-11-05 10:44:38.868|2022-11-05 11:49:12.766|      2|\navall     |2022-11-05 11:59:49.223|2022-11-05 20:31:00.556|      2|\nup01NOV   |2022-12-12 11:57:31.862|                       |      1|\nup08NOV   |2022-12-12 12:05:13.850|                       |      1|\nup15NOV   |2022-12-12 12:07:16.557|                       |      1|\nup22NOV   |2022-11-27 13:40:18.094|2022-12-12 12:08:15.915|      2|\nup01DEC   |2022-12-12 13:26:03.872|                       |      1|\nup08DEC   |2022-12-12 13:29:14.703|                       |      1|\nup15DEC   |2022-12-18 03:03:24.994|                       |      1|\nup22DEC   |2022-12-23 02:41:07.220|                       |      1|\nup01JAN   |2023-01-02 22:19:57.376|                       |      1|\n</code></pre> <p>This process is based on the assumption that by processing the two files <code>Pre2008</code> and <code>avall</code> once and regularly processing all update files since then, the NTSB data and the IO-Aero data match. Unfortunately, this is not the case.</p>"},{"location":"data_analyis_ntsb_accident_data.html#1-cross-check-of-the-number-of-stored-rows","title":"1. Cross check of the number of stored rows","text":"<p>A comparison of the current versions of the two files <code>Pre2008</code> and <code>avall</code> with the <code>IO-AVSTATS</code> database gives the following picture:</p> <p></p> <p>From this, one can clearly conclude that the NTSB is making data deletions without reflecting this in the update files.</p>"},{"location":"data_analyis_ntsb_accident_data.html#2-consistency-check-of-ms-access-file-avall","title":"2. Consistency check of MS Access file <code>avall</code>","text":"<p>One should expect as a result of loading the NTSB files <code>Pre2008</code>, <code>avall</code> and all subsequent update files that the data in the current NTSB file <code>avall</code> and the <code>IO-AVSTATS</code> database match. This can be easily checked by reloading the current NTSB file <code>avall</code> into the <code>IO-AVSTATS</code> database.  This is possible because in the <code>IO-AVSTATS</code> database a change is only made in a row if one of the columns has changed.</p> <p>However, from the following log it is unfortunately evident that 3 changes in the NTSB database table <code>events</code> are not included in the change files.</p> <pre><code>Progress update 2023-01-08 10:54:57.926471 : ===============================================================================.\nProgress update 2023-01-08 10:54:57.926471 : INFO.00.004 Start Launcher.\nProgress update 2023-01-08 10:54:57.928471 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-08 10:54:57.936971 : INFO.00.008 Arguments task='l_n_a' msaccess='avall'.\nProgress update 2023-01-08 10:54:57.936971 : -------------------------------------------------------------------------------.\nProgress update 2023-01-08 10:54:57.936971 : INFO.00.049 Loading NTSB MS Access database data from file 'avall'.\nProgress update 2023-01-08 10:54:57.937472 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 10:54:57.937472 : INFO.00.054 ODBC driver='DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\avall.mdb;'.\nProgress update 2023-01-08 10:54:58.124971 : INFO.00.021 The following database table is not processed: 'MSysAccessObjects'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysACEs'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysIMEXColumns'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysIMEXSpecs'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysModules2'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupCategories'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroups'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupToObjects'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysNavPaneObjectIDs'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysObjects'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysQueries'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysRelationships'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'Country'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'ct_iaids'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'ct_seqevt'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'eADMSPUB_DataDictionary'.\nProgress update 2023-01-08 10:54:58.126472 : INFO.00.021 The following database table is not processed: 'states'.\nProgress update 2023-01-08 10:54:58.126472 :\nProgress update 2023-01-08 10:54:58.126472 : Database table       : events              &lt;-----------------------------------.\nProgress update 2023-01-08 10:55:05.520972 : Number of rows so far read :   5000.\nProgress update 2023-01-08 10:55:12.226010 : Number of rows so far read :  10000.\nProgress update 2023-01-08 10:55:18.856471 : Number of rows so far read :  15000.\nProgress update 2023-01-08 10:55:25.430471 : Number of rows so far read :  20000.\nProgress update 2023-01-08 10:55:32.083403 : Number of rows so far read :  25000.\nProgress update 2023-01-08 10:55:32.152403 : Number rows selected :  25053.\nProgress update 2023-01-08 10:55:32.152403 : Number rows updated  :      3.\nProgress update 2023-01-08 10:55:32.171903 :\nProgress update 2023-01-08 10:55:32.171903 : Database table       : aircraft            &lt;-----------------------------------.\nProgress update 2023-01-08 10:59:44.049422 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:03:55.709177 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:08:07.079556 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:12:18.158872 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:16:29.489073 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:16:51.969021 : Number rows selected :  25448.\nProgress update 2023-01-08 11:16:51.992520 :\nProgress update 2023-01-08 11:16:51.992520 : Database table       : dt_events           &lt;-----------------------------------.\nProgress update 2023-01-08 11:16:56.112522 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:17:00.062021 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:17:04.009521 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:17:07.971827 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:17:11.947351 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:17:15.920851 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:17:19.910351 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:17:23.956872 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:17:28.006459 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:17:31.985360 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:17:36.006304 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:17:40.029105 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:17:44.082605 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:17:48.120527 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:17:52.097052 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:17:56.148091 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:18:00.158587 : Number rows selected :  84875.\nProgress update 2023-01-08 11:18:00.167086 :\nProgress update 2023-01-08 11:18:00.167086 : Database table       : ntsb_admin          &lt;-----------------------------------.\nProgress update 2023-01-08 11:18:04.299087 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:18:08.354587 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:18:12.397087 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:18:16.441587 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:18:20.477758 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:18:20.526759 : Number rows selected :  25055.\nProgress update 2023-01-08 11:18:20.528759 :\nProgress update 2023-01-08 11:18:20.528759 : Database table       : dt_aircraft         &lt;-----------------------------------.\nProgress update 2023-01-08 11:18:25.120259 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:18:29.163736 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:18:33.278735 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:18:37.303235 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:18:41.307235 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:18:45.302735 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:18:49.414235 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:18:53.486735 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:18:57.497234 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:19:01.475167 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:19:05.450167 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:19:09.479167 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:19:13.533167 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:19:17.643945 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:19:21.688945 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:19:25.742069 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:19:29.785071 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:19:33.842569 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:19:37.808569 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:19:41.772069 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:19:45.770178 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:19:49.722678 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:19:53.745178 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:19:57.727178 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:20:01.755178 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:20:05.910679 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:20:09.945678 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:20:13.965285 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:20:17.994762 : Number of rows so far read : 145000.\nProgress update 2023-01-08 11:20:21.985261 : Number of rows so far read : 150000.\nProgress update 2023-01-08 11:20:26.051761 : Number of rows so far read : 155000.\nProgress update 2023-01-08 11:20:30.140762 : Number of rows so far read : 160000.\nProgress update 2023-01-08 11:20:34.184261 : Number of rows so far read : 165000.\nProgress update 2023-01-08 11:20:38.170761 : Number of rows so far read : 170000.\nProgress update 2023-01-08 11:20:42.181261 : Number of rows so far read : 175000.\nProgress update 2023-01-08 11:20:46.199261 : Number of rows so far read : 180000.\nProgress update 2023-01-08 11:20:50.216762 : Number of rows so far read : 185000.\nProgress update 2023-01-08 11:20:54.232387 : Number of rows so far read : 190000.\nProgress update 2023-01-08 11:20:58.254460 : Number of rows so far read : 195000.\nProgress update 2023-01-08 11:21:02.275612 : Number of rows so far read : 200000.\nProgress update 2023-01-08 11:21:06.309111 : Number of rows so far read : 205000.\nProgress update 2023-01-08 11:21:10.315400 : Number of rows so far read : 210000.\nProgress update 2023-01-08 11:21:11.126900 : Number rows selected : 211020.\nProgress update 2023-01-08 11:21:11.149399 :\nProgress update 2023-01-08 11:21:11.149399 : Database table       : engines             &lt;-----------------------------------.\nProgress update 2023-01-08 11:21:15.703845 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:21:20.078960 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:21:24.511459 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:21:28.959459 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:21:31.813459 : Number rows selected :  23220.\nProgress update 2023-01-08 11:21:31.819959 :\nProgress update 2023-01-08 11:21:31.820459 : Database table       : events_sequence     &lt;-----------------------------------.\nProgress update 2023-01-08 11:21:36.214959 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:21:40.382959 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:21:44.580459 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:21:48.780298 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:21:52.972298 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:21:57.171033 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:22:01.358439 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:22:05.542086 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:22:09.698086 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:22:13.884087 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:22:17.898086 : Number rows selected :  54812.\nProgress update 2023-01-08 11:22:17.906086 :\nProgress update 2023-01-08 11:22:17.906086 : Database table       : findings            &lt;-----------------------------------.\nProgress update 2023-01-08 11:22:22.540089 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:22:26.864086 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:22:31.184492 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:22:35.492492 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:22:39.780492 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:22:44.130992 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:22:48.454677 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:22:52.789844 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:22:57.120637 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:23:01.419796 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:23:05.766431 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:23:09.791340 : Number rows selected :  59658.\nProgress update 2023-01-08 11:23:09.805840 :\nProgress update 2023-01-08 11:23:09.805840 : Database table       : flight_crew         &lt;-----------------------------------.\nProgress update 2023-01-08 11:23:14.958784 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:23:19.820268 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:23:24.729594 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:23:29.622084 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:23:34.540084 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:23:35.199084 : Number rows selected :  25673.\nProgress update 2023-01-08 11:23:35.208584 :\nProgress update 2023-01-08 11:23:35.208584 : Database table       : injury              &lt;-----------------------------------.\nProgress update 2023-01-08 11:23:39.735841 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:23:43.896539 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:23:47.861665 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:23:51.935371 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:23:55.984372 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:24:00.036871 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:24:04.101597 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:24:08.135097 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:24:12.153455 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:24:16.246138 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:24:20.300638 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:24:24.341138 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:24:28.366638 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:24:32.397569 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:24:36.310164 : Number rows selected :  74810.\nProgress update 2023-01-08 11:24:36.318164 :\nProgress update 2023-01-08 11:24:36.318664 : Database table       : narratives          &lt;-----------------------------------.\nProgress update 2023-01-08 11:25:06.658888 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:25:38.351141 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:26:14.370031 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:26:41.030434 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:26:52.552326 : Number rows selected :  24170.\nProgress update 2023-01-08 11:26:52.576323 :\nProgress update 2023-01-08 11:26:52.576323 : Database table       : occurrences         &lt;-----------------------------------.\nProgress update 2023-01-08 11:26:52.576824 : Number rows selected :      0.\nProgress update 2023-01-08 11:26:52.576824 :\nProgress update 2023-01-08 11:26:52.576824 : Database table       : dt_flight_crew      &lt;-----------------------------------.\nProgress update 2023-01-08 11:26:57.021429 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:27:01.116839 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:27:05.160588 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:27:09.299411 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:27:13.347448 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:27:17.359906 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:27:21.401896 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:27:25.572195 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:27:29.662676 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:27:33.798273 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:27:37.851519 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:27:41.919623 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:27:46.008191 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:27:50.072306 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:27:54.155886 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:27:58.186193 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:28:02.246693 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:28:06.272698 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:28:10.298302 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:28:14.333921 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:28:18.352599 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:28:22.371189 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:28:26.522324 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:28:30.583703 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:28:34.645931 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:28:38.709503 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:28:42.754553 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:28:46.829771 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:28:49.203271 : Number rows selected : 142895.\nProgress update 2023-01-08 11:28:49.217771 :\nProgress update 2023-01-08 11:28:49.217771 : Database table       : flight_time         &lt;-----------------------------------.\nProgress update 2023-01-08 11:28:54.286174 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:28:58.389961 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:29:02.508078 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:29:06.645259 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:29:10.783724 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:29:14.909806 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:29:19.026191 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:29:23.150194 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:29:27.367274 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:29:31.566274 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:29:35.726611 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:29:39.869869 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:29:43.982202 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:29:48.071534 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:29:52.189364 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:29:56.321801 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:30:00.433774 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:30:04.542272 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:30:08.643190 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:30:12.731690 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:30:16.840690 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:30:20.935190 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:30:25.021998 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:30:29.117324 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:30:33.218599 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:30:37.348908 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:30:41.463377 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:30:45.552042 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:30:49.702545 : Number of rows so far read : 145000.\nProgress update 2023-01-08 11:30:53.813622 : Number of rows so far read : 150000.\nProgress update 2023-01-08 11:30:57.958047 : Number of rows so far read : 155000.\nProgress update 2023-01-08 11:31:02.064574 : Number of rows so far read : 160000.\nProgress update 2023-01-08 11:31:06.185597 : Number of rows so far read : 165000.\nProgress update 2023-01-08 11:31:10.347399 : Number of rows so far read : 170000.\nProgress update 2023-01-08 11:31:14.460899 : Number of rows so far read : 175000.\nProgress update 2023-01-08 11:31:18.566522 : Number of rows so far read : 180000.\nProgress update 2023-01-08 11:31:22.656724 : Number of rows so far read : 185000.\nProgress update 2023-01-08 11:31:26.759541 : Number of rows so far read : 190000.\nProgress update 2023-01-08 11:31:30.850994 : Number of rows so far read : 195000.\nProgress update 2023-01-08 11:31:34.977994 : Number of rows so far read : 200000.\nProgress update 2023-01-08 11:31:39.104760 : Number of rows so far read : 205000.\nProgress update 2023-01-08 11:31:43.224278 : Number of rows so far read : 210000.\nProgress update 2023-01-08 11:31:47.343758 : Number of rows so far read : 215000.\nProgress update 2023-01-08 11:31:51.473308 : Number of rows so far read : 220000.\nProgress update 2023-01-08 11:31:55.610395 : Number of rows so far read : 225000.\nProgress update 2023-01-08 11:31:59.722655 : Number of rows so far read : 230000.\nProgress update 2023-01-08 11:32:03.829224 : Number of rows so far read : 235000.\nProgress update 2023-01-08 11:32:07.926916 : Number of rows so far read : 240000.\nProgress update 2023-01-08 11:32:12.021113 : Number of rows so far read : 245000.\nProgress update 2023-01-08 11:32:16.121738 : Number of rows so far read : 250000.\nProgress update 2023-01-08 11:32:20.230809 : Number of rows so far read : 255000.\nProgress update 2023-01-08 11:32:24.428988 : Number of rows so far read : 260000.\nProgress update 2023-01-08 11:32:28.552488 : Number of rows so far read : 265000.\nProgress update 2023-01-08 11:32:32.683488 : Number of rows so far read : 270000.\nProgress update 2023-01-08 11:32:36.809492 : Number of rows so far read : 275000.\nProgress update 2023-01-08 11:32:40.943466 : Number of rows so far read : 280000.\nProgress update 2023-01-08 11:32:45.062966 : Number of rows so far read : 285000.\nProgress update 2023-01-08 11:32:49.188608 : Number of rows so far read : 290000.\nProgress update 2023-01-08 11:32:53.319314 : Number of rows so far read : 295000.\nProgress update 2023-01-08 11:32:57.395559 : Number of rows so far read : 300000.\nProgress update 2023-01-08 11:33:01.511843 : Number of rows so far read : 305000.\nProgress update 2023-01-08 11:33:05.647894 : Number of rows so far read : 310000.\nProgress update 2023-01-08 11:33:09.775894 : Number of rows so far read : 315000.\nProgress update 2023-01-08 11:33:13.911762 : Number of rows so far read : 320000.\nProgress update 2023-01-08 11:33:14.060262 : Number rows selected : 320177.\nProgress update 2023-01-08 11:33:14.105399 :\nProgress update 2023-01-08 11:33:14.105399 : Database table       : seq_of_events       &lt;-----------------------------------.\nProgress update 2023-01-08 11:33:14.105899 : Number rows selected :      0.\nProgress update 2023-01-08 11:33:14.205984 : INFO.00.065 Cleansing PostgreSQL data.\nProgress update 2023-01-08 11:33:14.206484 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:14.248984 : INFO.00.066 Cleansing table 'aircraft' column 'acft_category'.\nProgress update 2023-01-08 11:33:16.897611 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:16.897611 : INFO.00.066 Cleansing table 'aircraft' column 'far_part'.\nProgress update 2023-01-08 11:33:19.546798 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:19.547298 : INFO.00.066 Cleansing table 'events' column 'ev_city'.\nProgress update 2023-01-08 11:33:20.870836 : Number cols trimmed  :      3.\nProgress update 2023-01-08 11:33:22.121143 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:22.121143 : INFO.00.066 Cleansing table 'events' column 'ev_site_zipcode'.\nProgress update 2023-01-08 11:33:24.665371 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:24.665928 : INFO.00.066 Cleansing table 'events' column 'latitude'.\nProgress update 2023-01-08 11:33:27.213439 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:27.213439 : INFO.00.066 Cleansing table 'events' column 'longitude'.\nProgress update 2023-01-08 11:33:29.755180 : -------------------------------------------------------------------------------.\nProgress update 2023-01-08 11:33:29.755180 :    2,311,946,209,000 ns - Total time launcher.\nProgress update 2023-01-08 11:33:29.755180 : INFO.00.006 End   Launcher.\nProgress update 2023-01-08 11:33:29.755679 : ===============================================================================.\n</code></pre>"},{"location":"data_analyis_ntsb_accident_data.html#3-conclusions","title":"3. Conclusions","text":"<p>The following actions should address these issues:</p> <ol> <li>A new column <code>last_seen_in_avall</code> of format timestamp is added for all NTSB database tables stored in the <code>IO-AVSTATS</code> database.</li> <li>The <code>avall</code> file is reloaded instead of the current update file at a rate to be defined.  Thereby all rows of the NTSB file in the IO-AVSTATS database are provided with the same timestamp in the column <code>last_seen_in_avall</code>.  After loading the NTSB data, all rows since 2008 in the <code>IO-AVSTATS</code> database that do not contain this timestamp are deleted. </li> <li>It is checked when loading the data that no data from before 2008 is affected.</li> </ol>"},{"location":"data_analyis_ntsb_accident_data.html#4","title":"4.","text":"<p><code>`sql SELECT 'aircraft'                                                                                      \"DB Table\",        (SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM aircraft)                                                                 \"Total\" UNION SELECT 'dt_aircraft'                                                                                      \"DB Table\",        (SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM dt_aircraft)                                                                 \"Total\" UNION SELECT 'dt_events'                                                                                      \"DB Table\",        (SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM dt_events)                                                                 \"Total\" UNION SELECT 'dt_flight_crew'                                                                                      \"DB Table\",        (SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM dt_flight_crew)                                                                 \"Total\" UNION SELECT 'engines'                                                                                      \"DB Table\",        (SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM engines)                                                                 \"Total\" UNION SELECT 'events'                                            \"DB Table\",        (SELECT count(*) FROM events WHERE ev_year &lt; 2008)  \"&lt; 2008\",        (SELECT count(*) FROM events WHERE ev_year &gt;= 2008) \"&gt;= 2008\",        (SELECT count(*) FROM events)                       \"Total\" union SELECT 'events_sequence'                                                                                      \"DB Table\",        (SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM events_sequence)                                                                 \"Total\" union SELECT 'findings'                                                                                      \"DB Table\",        (SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM findings)                                                                 \"Total\" union SELECT 'flight_crew'                                                                                      \"DB Table\",        (SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM flight_crew)                                                                 \"Total\" union SELECT 'flight_time'                                                                                      \"DB Table\",        (SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM flight_time)                                                                 \"Total\" union SELECT 'injury'                                                                                      \"DB Table\",        (SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM injury)                                                                 \"Total\" union SELECT 'narratives'                                                                                      \"DB Table\",        (SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM narratives)                                                                 \"Total\" union SELECT 'ntsb_admin'                                                                                      \"DB Table\",        (SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM ntsb_admin)                                                                 \"Total\" union SELECT 'occurrences'                                                                                      \"DB Table\",        (SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM occurrences)                                                                 \"Total\" union SELECT 'seq_of_events'                                                                                      \"DB Table\",        (SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM seq_of_events)                                                                 \"Total\" ORDER BY 1</code></p> <p><code>SELECT 'aircraft' AS db_table,        count(*)   AS total FROM aircraft UNION SELECT 'dt_aircraft' AS db_table,        count(*)      AS total FROM dt_aircraft UNION SELECT 'dt_events' AS db_table,        count(*)    AS total FROM dt_events UNION SELECT 'dt_flight_crew' AS db_table,        count(*)         AS total FROM dt_flight_crew UNION SELECT 'engines' AS db_table,        count(*)  AS total FROM engines UNION SELECT 'events' AS db_table,        count(*) AS total FROM events UNION SELECT 'events_sequence' AS db_table,        count(*)          AS total FROM events_sequence UNION SELECT 'findings' AS db_table,        count(*)   AS total FROM findings UNION SELECT 'flight_crew' AS db_table,        count(*)      AS total FROM flight_crew UNION SELECT 'flight_time' AS db_table,        count(*)      AS total FROM flight_time UNION SELECT 'injury' AS db_table,        count(*) AS total FROM injury UNION SELECT 'narratives' AS db_table,        count(*)     AS total FROM narratives UNION SELECT 'ntsb_admin' AS db_table,        count(*)     AS total FROM ntsb_admin UNION SELECT 'occurrences' AS db_table,        count(*)      AS total FROM occurrences UNION SELECT 'seq_of_events' AS db_table,        count(*)        AS total FROM seq_of_events ORDER BY 1</code></p>"},{"location":"data_reconc_event_related.html","title":"Event-related","text":"<p>Important: All statistics provided below are based on NTSB data as of February 8, 2023 (period 2008 to 2023).</p> <p>The following is provided to verify that the numbers between the data taken over from NTSB and the application view io_app_ae1982 are consistent.</p>"},{"location":"data_reconc_event_related.html#1-number-of-events","title":"1. Number of Events","text":""},{"location":"data_reconc_event_related.html#11-based-on-events","title":"1.1 Based on events","text":""},{"location":"data_reconc_event_related.html#111-db-tables-events","title":"1.1.1 DB Tables <code>events</code>","text":"<pre><code>ev_year|no_rows|\n-------+-------+\n2008   |   1893|\n2009   |   1784|\n2010   |   1786|\n2011   |   1850|\n2012   |   1835|\n2013   |   1561|\n2014   |   1535|\n2015   |   1582|\n2016   |   1665|\n2017   |   1638|\n2018   |   1685|\n2019   |   1625|\n2020   |   1396|\n2021   |   1642|\n2022   |   1635|\n2023   |     64|\n       |  25176|\n</code></pre> <p>Applied SQL statement:</p> <pre><code>SELECT ev_year::text, \n       count(*) no_rows\n  FROM events e\n WHERE ev_year &gt;= 2008\n GROUP BY ROLLUP(ev_year)\n ORDER BY 1\n</code></pre>"},{"location":"data_reconc_event_related.html#112-db-view-io_app_ae1982","title":"1.1.2 DB View <code>io_app_ae1982</code>","text":"<pre><code>ev_year|no_rows|\n-------+-------+\n2008   |   1893|\n2009   |   1784|\n2010   |   1786|\n2011   |   1850|\n2012   |   1835|\n2013   |   1561|\n2014   |   1535|\n2015   |   1582|\n2016   |   1665|\n2017   |   1638|\n2018   |   1685|\n2019   |   1625|\n2020   |   1396|\n2021   |   1642|\n2022   |   1635|\n2023   |     64|\n       |  25176|\n</code></pre> <p>Applied SQL statement:</p> <pre><code>SELECT ev_year::text, \n       count(*) no_rows\n  FROM io_app_ae1982 e\n WHERE ev_year &gt;= 2008\n GROUP BY ROLLUP(ev_year)\n ORDER BY 1\n</code></pre>"},{"location":"data_reconc_event_related.html#12-based-on-cictt-codes","title":"1.2 Based on CICTT codes","text":"<ul> <li>The same event in the <code>events</code> table is associated with one or more aircraft in the <code>aircraft</code> table.</li> <li>The same aircraft in the <code>aircraft</code> table can have multiple entries assigned to it in the <code>events_sequence</code> table.</li> <li>Only the entries in the <code>events_sequence</code> table that have the value <code>true</code> in the <code>defining_ev</code> column and for whose value in the <code>eventsoe_no</code> column there is a value in the <code>cictt_code</code> column in the <code>io_sequence_of_events</code> table are considered.</li> <li>Additionally, the same combination <code>ev_id</code> and <code>cictt_code</code> is considered only once.</li> </ul>"},{"location":"data_reconc_event_related.html#121-db-tables-events-aircraft-events_sequence-and-io_sequence_of_events","title":"1.2.1 DB Tables <code>events</code>, <code>aircraft</code>, <code>events_sequence</code> and <code>io_sequence_of_events</code>","text":"<pre><code>aircraft_key|cictt_code|events|\n------------+----------+------+\n           1|ADRM      |    36|\n           1|AMAN      |   161|\n           1|ARC       |  2966|\n           1|ATM       |    70|\n           1|BIRD      |   168|\n           1|CABIN     |    78|\n           1|CFIT      |   749|\n           1|CTOL      |   590|\n           1|EVAC      |     5|\n           1|EXTL      |    24|\n           1|F-NI      |   285|\n           1|F-POST    |     4|\n           1|FUEL      |  1235|\n           1|GCOL      |   457|\n           1|GTOW      |    14|\n           1|ICE       |    31|\n           1|LALT      |   373|\n           1|LOC-G     |  3202|\n           1|LOC-I     |  4029|\n           1|LOLI      |   156|\n           1|MAC       |   351|\n           1|MED       |    26|\n           1|n/a       |   157|\n           1|NAV       |    39|\n           1|OTHR      |  1347|\n           1|RAMP      |   167|\n           1|RE        |   641|\n           1|SCF-NP    |  1373|\n           1|SCF-PP    |  4085|\n           1|SEC       |    13|\n           1|TURB      |   277|\n           1|UIMC      |   268|\n           1|UNK       |   922|\n           1|USOS      |   289|\n           1|WILD      |    67|\n           1|WSTRW     |    88|\n           1|          | 24743|\n           2|ADRM      |    12|\n           2|AMAN      |     1|\n           2|ATM       |    43|\n           2|CFIT      |     2|\n           2|CTOL      |    25|\n           2|FUEL      |     2|\n           2|GCOL      |   243|\n           2|LALT      |     1|\n           2|LOC-G     |     9|\n           2|LOC-I     |     3|\n           2|MAC       |   337|\n           2|n/a       |    31|\n           2|OTHR      |    11|\n           2|RAMP      |     9|\n           2|SCF-NP    |     2|\n           2|SCF-PP    |     1|\n           2|TURB      |     1|\n           2|UIMC      |     1|\n           2|UNK       |     1|\n           2|USOS      |     2|\n           2|          |   737|\n           3|ATM       |     2|\n           3|FUEL      |     1|\n           3|MAC       |     2|\n           3|          |     5|\n            |          | 25485|\n</code></pre> <ul> <li>For event '20220818105763' the first aircraft is missing (see below), so the number of fatalities for <code>aircraft_key</code> equal to 1 must be corrected to 14655.</li> </ul> <pre><code>SELECT a.aircraft_key ,\n       COALESCE(isoe.cictt_code, 'n/a') cictt_code,\n       count(*) events\n  FROM events e LEFT OUTER JOIN aircraft a \n                ON e.ev_id = a.ev_id\n                LEFT OUTER JOIN events_sequence es \n                ON e.ev_id = es.ev_id\n                LEFT OUTER JOIN io_sequence_of_events isoe \n                ON es.eventsoe_no = isoe.soe_no\n WHERE e.ev_year &gt;= 2008\n   AND es.defining_ev = TRUE\n GROUP BY ROLLUP (a.aircraft_key,\n                  COALESCE(isoe.cictt_code, 'n/a'))\n ORDER BY a.aircraft_key,\n          COALESCE(isoe.cictt_code, 'n/a')\n</code></pre> <pre><code>ev_id         |aircraft_key|far_part|\n--------------+------------+--------+\n20100204X45658|           1|091     |\n20100204X45658|           2|091     |\n20100204X45658|           3|091     |\n20101022X34140|           1|UNK     |\n20101022X34140|           2|UNK     |\n20101022X34140|           3|UNK     |\n20220818105763|           2|091     |\n20220818105763|           3|091     |\n</code></pre> <pre><code>SELECT e.ev_id,\n       a.aircraft_key ,\n       COALESCE (a.far_part ,'n/a') far_part\n  FROM events e INNER JOIN aircraft a \n                ON e.ev_id = a.ev_id\n WHERE e.ev_id IN (SELECT e.ev_id\n                     FROM events e INNER JOIN aircraft a \n                                   ON e.ev_id = a.ev_id\n                     WHERE e.ev_year &gt;= 2008\n                       AND a.aircraft_key = 3)\n ORDER BY e.ev_id,\n          a.aircraft_key\n</code></pre>"},{"location":"data_reconc_event_related.html#122-db-view-io_app_ae1982","title":"1.2.2 DB View <code>io_app_ae1982</code>","text":"<pre><code>no_aircraft|cictt_codes    |events|\n-----------+---------------+------+\n          1|{}             |   953|\n          1|{ADRM}         |    24|\n          1|{AMAN}         |   159|\n          1|{AMAN,UNK}     |     1|\n          1|{ARC}          |  2954|\n          1|{ARC,CTOL}     |     1|\n          1|{ARC,LOC-G}    |     1|\n          1|{ARC,OTHR}     |     2|\n          1|{ARC,RE}       |     1|\n          1|{ARC,SCF-PP}   |     1|\n          1|{ATM}          |    27|\n          1|{BIRD}         |   167|\n          1|{CABIN}        |    78|\n          1|{CFIT}         |   741|\n          1|{CFIT,CTOL}    |     1|\n          1|{CFIT,LALT}    |     1|\n          1|{CFIT,LOC-I}   |     1|\n          1|{CFIT,OTHR}    |     2|\n          1|{CTOL}         |   557|\n          1|{CTOL,LOLI}    |     1|\n          1|{CTOL,OTHR}    |     3|\n          1|{CTOL,RE}      |     1|\n          1|{CTOL,UNK}     |     1|\n          1|{EVAC}         |     5|\n          1|{EXTL}         |    24|\n          1|{F-NI}         |   284|\n          1|{F-NI,OTHR}    |     1|\n          1|{F-POST}       |     4|\n          1|{FUEL}         |  1225|\n          1|{FUEL,OTHR}    |     1|\n          1|{FUEL,SCF-PP}  |     4|\n          1|{FUEL,UNK}     |     2|\n          1|{GCOL}         |   213|\n          1|{GCOL,RAMP}    |     1|\n          1|{GTOW}         |    14|\n          1|{ICE}          |    31|\n          1|{LALT}         |   370|\n          1|{LALT,LOC-I}   |     1|\n          1|{LOC-G}        |  3189|\n          1|{LOC-G,LOC-I}  |     1|\n          1|{LOC-G,OTHR}   |     2|\n          1|{LOC-G,RE}     |     3|\n          1|{LOC-I}        |  4015|\n          1|{LOC-I,NAV}    |     1|\n          1|{LOC-I,OTHR}   |     1|\n          1|{LOC-I,SCF-NP} |     2|\n          1|{LOC-I,SCF-PP} |     1|\n          1|{LOC-I,UNK}    |     6|\n          1|{LOLI}         |   154|\n          1|{LOLI,UNK}     |     1|\n          1|{MAC}          |    15|\n          1|{MED}          |    26|\n          1|{NAV}          |    37|\n          1|{NAV,OTHR}     |     1|\n          1|{OTHR}         |  1320|\n          1|{OTHR,RE}      |     1|\n          1|{OTHR,SCF-PP}  |     1|\n          1|{OTHR,UNK}     |     2|\n          1|{RAMP}         |   157|\n          1|{RE}           |   634|\n          1|{RE,SCF-NP}    |     1|\n          1|{SCF-NP}       |  1370|\n          1|{SCF-NP,SCF-PP}|     1|\n          1|{SCF-PP}       |  4073|\n          1|{SCF-PP,UNK}   |     2|\n          1|{SEC}          |    13|\n          1|{TURB}         |   276|\n          1|{UIMC}         |   267|\n          1|{UNK}          |   904|\n          1|{USOS}         |   287|\n          1|{WILD}         |    67|\n          1|{WSTRW}        |    88|\n          1|NULL           | 24777|\n          2|{}             |    23|\n          2|{ADRM}         |     6|\n          2|{ADRM,MAC}     |     1|\n          2|{AMAN,GCOL}    |     1|\n          2|{ATM}          |    21|\n          2|{ATM,MAC}      |     3|\n          2|{CFIT}         |     1|\n          2|{CTOL}         |    12|\n          2|{CTOL,GCOL}    |     2|\n          2|{CTOL,MAC}     |     1|\n          2|{FUEL}         |     1|\n          2|{GCOL}         |   122|\n          2|{GCOL,LALT}    |     1|\n          2|{GCOL,LOC-G}   |     6|\n          2|{GCOL,MAC}     |     1|\n          2|{GCOL,OTHR}    |     2|\n          2|{GCOL,RAMP}    |     1|\n          2|{GCOL,UIMC}    |     1|\n          2|{GCOL,USOS}    |     1|\n          2|{LOC-G}        |     1|\n          2|{LOC-I,MAC}    |     1|\n          2|{MAC}          |   176|\n          2|{MAC,OTHR}     |     1|\n          2|{OTHR}         |     4|\n          2|{OTHR,UNK}     |     1|\n          2|{RAMP}         |     4|\n          2|{TURB}         |     1|\n          2|{USOS}         |     1|\n          2|NULL           |   397|\n          3|{ATM,FUEL}     |     1|\n          3|{MAC}          |     1|\n          3|NULL           |     2|\n           |NULL           | 25176|\n</code></pre> <ul> <li>This results in the following 80 events as candidates for double counting in the application:</li> </ul> <pre><code>no_aircraft|cictt_codes    |events|\n-----------+---------------+------+\n          1|{AMAN,UNK}     |     1|\n          1|{ARC,CTOL}     |     1|\n          1|{ARC,LOC-G}    |     1|\n          1|{ARC,OTHR}     |     2|\n          1|{ARC,RE}       |     1|\n          1|{ARC,SCF-PP}   |     1|\n          1|{CFIT,CTOL}    |     1|\n          1|{CFIT,LALT}    |     1|\n          1|{CFIT,LOC-I}   |     1|\n          1|{CFIT,OTHR}    |     2|\n          1|{CTOL,LOLI}    |     1|\n          1|{CTOL,OTHR}    |     3|\n          1|{CTOL,RE}      |     1|\n          1|{CTOL,UNK}     |     1|\n          1|{F-NI,OTHR}    |     1|\n          1|{FUEL,OTHR}    |     1|\n          1|{FUEL,SCF-PP}  |     4|\n          1|{FUEL,UNK}     |     2|\n          1|{GCOL,RAMP}    |     1|\n          1|{LALT,LOC-I}   |     1|\n          1|{LOC-G,LOC-I}  |     1|\n          1|{LOC-G,OTHR}   |     2|\n          1|{LOC-G,RE}     |     3|\n          1|{LOC-I,NAV}    |     1|\n          1|{LOC-I,OTHR}   |     1|\n          1|{LOC-I,SCF-NP} |     2|\n          1|{LOC-I,SCF-PP} |     1|\n          1|{LOC-I,UNK}    |     6|\n          1|{LOLI,UNK}     |     1|\n          1|{NAV,OTHR}     |     1|\n          1|{OTHR,RE}      |     1|\n          1|{OTHR,SCF-PP}  |     1|\n          1|{OTHR,UNK}     |     2|\n          1|{RE,SCF-NP}    |     1|\n          1|{SCF-NP,SCF-PP}|     1|\n          1|{SCF-PP,UNK}   |     2|\n          2|{ADRM,MAC}     |     1|\n          2|{AMAN,GCOL}    |     1|\n          2|{ATM,MAC}      |     3|\n          2|{CTOL,GCOL}    |     2|\n          2|{CTOL,MAC}     |     1|\n          2|{GCOL,LALT}    |     1|\n          2|{GCOL,LOC-G}   |     6|\n          2|{GCOL,MAC}     |     1|\n          2|{GCOL,OTHR}    |     2|\n          2|{GCOL,RAMP}    |     1|\n          2|{GCOL,UIMC}    |     1|\n          2|{GCOL,USOS}    |     1|\n          2|{LOC-I,MAC}    |     1|\n          2|{MAC,OTHR}     |     1|\n          2|{OTHR,UNK}     |     1|\n          3|{ATM,FUEL}     |     1|\n           1|Total         |    55| \n           2|Total         |    24| \n           3|Total         |     1| \n            |Total         |    80| \n</code></pre> <pre><code>SELECT no_aircraft,\n       cictt_codes,\n       count(*) events\n  FROM io_app_ae1982 iaa \n WHERE ev_year &gt;= 2008\n GROUP BY ROLLUP (no_aircraft,\n                  cictt_codes)\n ORDER BY no_aircraft,\n          cictt_codes\n</code></pre>"},{"location":"data_reconc_event_related.html#13-conclusion","title":"1.3 Conclusion","text":"<p>The figures on the number of events are in complete agreement.</p>"},{"location":"data_reconc_event_related.html#2-cictt-code","title":"2. CICTT Code","text":""},{"location":"data_reconc_event_related.html#21-bar-chart","title":"2.1 Bar Chart","text":"<pre><code>year  below threshold  ARC        LOC-G      LOC-I      SCF-PP     Total\n2008        677        211        218        298        301        1705\n2009        667        203        231        299        277        1677\n2010        746        215        190        229        274        1654\n2011        668        235        212        329        292        1736\n2012        666        205        247        308        292        1718\n2013        576        194        180        273        251        1474\n2014        539        189        182        299        259        1468\n2015        647        190        186        265        277        1565\n2016        688        217        225        264        261        1655\n2017        675        190        242        279        245        1631\n2018        739        188        245        259        247        1678\n2019        650        186        236        290        258        1620\n2020        609        161        211        226        179        1386\n2021        691        196        184        210        336        1617\n2022        732        178        210        195        319        1634\n2023         34          2          4          7         15          62\nTotal     10004       2960       3203       4030       4083       24280\nDuplicates   58          3          6.5        7.5        5          80\n</code></pre> <ul> <li>Contains the expected duplicates from 1.2.2.</li> </ul>"},{"location":"data_reconc_event_related.html#22-pie-chart","title":"2.2 Pie Chart","text":"below threshold SCF-PP LOC-I LOC-G ARC Total 10004 4083 4030 3203 2960 24280 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_event_related.html#3-event-type","title":"3. Event Type","text":"<p>Event type evaluations must be identical with event evaluations.</p>"},{"location":"data_reconc_event_related.html#31-bar-chart","title":"3.1 Bar Chart","text":"<pre><code>year        Accident    Incident   Total\n2008        1790        103        1893\n2009        1681        103        1784\n2010        1648        138        1786\n2011        1732        118        1850\n2012        1717        118        1835\n2013        1462         99        1561\n2014        1451         84        1535\n2015        1488         94        1582\n2016        1542        123        1665\n2017        1514        124        1638\n2018        1565        120        1685\n2019        1504        121        1625\n2020        1309         87        1396\n2021        1522        120        1642\n2022        1505        130        1635\n2023          58          6          64\nTotal      23488        1688      25176\n</code></pre> <ul> <li>The figures on the number of events are in complete agreement.</li> </ul>"},{"location":"data_reconc_event_related.html#32-pie-chart","title":"3.2 Pie Chart","text":"Accident Incident Total 23488 1688 25176 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_event_related.html#4-highest-injury-level","title":"4. Highest Injury Level","text":"<p>Highest injury level evaluations must be identical with event evaluations.</p>"},{"location":"data_reconc_event_related.html#41-bar-chart","title":"4.1 Bar Chart","text":"<pre><code> fatal      serious    minor     none   no data       Total \n 382        190        269       1030        22        1893\n 359        224        234        937        30        1784\n 363        186        233        949        55        1786\n 398        218        237        953        44        1850\n 389        212        246        936        52        1835\n 344        146        240        783        48        1561\n 361        183        215        731        45        1535\n 365        204        209        749        55        1582\n 341        176        233        825        90        1665\n 338        170        219        831        80        1638\n 360        182        220        840        83        1685\n 379        169        200        785        92        1625\n 295        147        181        703        70        1396\n 322        175        209        817       119        1642\n 313        179        224        811       108        1635\n  14          4          9         24        13          64\n5323       2765       3378      12704      1006       25176\n</code></pre>"},{"location":"data_reconc_event_related.html#42-pie-chart","title":"4.2 Pie Chart","text":"none fatal minor serious no data Total 12704 5323 3378 2765 1006 25176 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_event_related.html#5-required-safety-system","title":"5. Required Safety System","text":"<p>Required safety system depends on the following flags:</p> <ul> <li>is_midair_collision</li> <li>is_rss_forced_landing</li> <li>is_rss_spin_stall_prevention_and_recovery</li> <li>is_rss_terrain_collision_avoidance</li> </ul> <p>Several of these can occur for the same event. This then leads to the multiple counting of an event. In the category 'no data' the events are listed where none of the flags apply.</p> <pre><code>no_rows|airborne_coll|forced_landing|spin_stall|terrain_coll|\n-------+-------------+--------------+----------+------------+\n   1098|             |              |          |            |\n  13689|             |              |          |true        |\n   1002|             |              |true      |true        |\n   8466|             |true          |          |true        |\n    764|             |true          |true      |true        |\n      1|true         |              |          |            |\n    137|true         |              |          |true        |\n     19|true         |true          |          |true        |\n</code></pre> <pre><code>SELECT count(*)                                  AS no_rows,\n       is_midair_collision                       AS airborne_coll,\n       is_rss_forced_landing                     AS forced_landing,\n       is_rss_spin_stall_prevention_and_recovery AS spin_stall,\n       is_rss_terrain_collision_avoidance        AS terrain_coll\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nGROUP BY is_midair_collision,\n         is_rss_forced_landing,  \n         is_rss_spin_stall_prevention_and_recovery,\n         is_rss_terrain_collision_avoidance\nORDER BY 2,3,4,5\n</code></pre>"},{"location":"data_reconc_event_related.html#51-bar-chart","title":"5.1 Bar Chart","text":"<pre><code>year    Terrain Coll... Spin Stall...  Forced Landing  Airborne Coll... no data    Total \n2008    1813            112             663             13              80          2681\n2009    1694            128             676             12              90          2600\n2010    1694            109             658             11              92          2564\n2011    1745            138             675             11             105          2674\n2012    1741            102             663             12              94          2612\n2013    1499            115             576              7              62          2259\n2014    1476            146             593              8              59          2282\n2015    1508            139             651             13              74          2385\n2016    1584            143             661             13              81          2482\n2017    1575            141             618              8              63          2405\n2018    1612            137             623             13              73          2458\n2019    1560            145             632             10              64          2411\n2020    1342             97             484             11              54          1988\n2021    1582             65             579              6              60          2292\n2022    1588             48             481              7              47          2171\n2023      64              1              16              2               0            83\nTotal  24077           1766            9249            157            1098         36347\n</code></pre> <p>Since the flagging for the Required safety systems is done only in the view, a reconciliation with the database tables is not possible. With consideration of this limitation the figures on the number of required safety systems are in complete agreement.</p>"},{"location":"data_reconc_event_related.html#52-pie-chart","title":"5.2 Pie Chart","text":"Terrain Collision Avoidance Forced Landing Spin Stall Prevention and Recovery no data Airborne Collision Avoidance Total 24077 9249 1766 1098 157 36347 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_event_related.html#6-top-level-logical-parameter","title":"6. Top Level Logical Parameter","text":"<p>Top level logical parameter depends on the following flags:</p> <ul> <li>is_altitude_controllable</li> <li>is_altitude_low</li> <li>is_attitude_controllable</li> <li>is_emergency_landing</li> <li>is_pilot_issue</li> <li>is_spin_stall</li> </ul> <p>Several of these can occur for the same event. This then leads to the multiple counting of an event. In the category 'no data' the events are listed where none of the flags apply.</p> <pre><code>no_rows|altitude_contr|altitude_low|attitude_contr|emergency_land|pilot_issue|aerodyn_spin_stall|\n-------+--------------+------------+--------------+--------------+-----------+------------------+\n    889|              |            |              |              |           |                  |\n    157|              |            |              |              |           |true              |\n     43|              |            |              |              |true       |                  |\n     10|              |            |              |              |true       |true              |\n    937|              |            |true          |              |           |true              |\n     65|              |            |true          |              |true       |true              |\n   4549|              |            |true          |true          |           |                  |\n    734|              |            |true          |true          |           |true              |\n    276|              |            |true          |true          |true       |                  |\n     30|              |            |true          |true          |true       |true              |\n    321|              |true        |              |              |           |                  |\n     17|              |true        |              |              |true       |                  |\n   3421|              |true        |true          |true          |           |                  |\n    239|              |true        |true          |true          |true       |                  |\n   8369|true          |            |true          |              |           |                  |\n    783|true          |            |true          |              |true       |                  |\n   3485|true          |true        |true          |              |           |                  |\n    851|true          |true        |true          |              |true       |                  |\n-------+--------------+------------+--------------+--------------+-----------+------------------+\nTotal  |true          |true        |true          |              |true       |                  |\n</code></pre> <pre><code>SELECT count(*)                 AS no_rows,\n       is_altitude_controllable AS altitude_contr,\n       is_altitude_low          AS altitude_low,\n       is_attitude_controllable AS attitude_contr,\n       is_emergency_landing     AS emergency_land,\n       is_pilot_issue           AS pilot_issue,\n       is_spin_stall            AS aerodyn_spin_stall\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nGROUP BY is_altitude_controllable,\n         is_altitude_low,  \n         is_attitude_controllable,\n         is_emergency_landing,\n         is_pilot_issue,\n         is_spin_stall\nORDER BY 2,3,4,5,6,7\n</code></pre>"},{"location":"data_reconc_event_related.html#61-bar-chart","title":"6.1 Bar Chart","text":"<pre><code>year   Attitude Contr. Aircraft Climb Altitude Too Low Aircraft Degr. Contr    no data  Aerodyn. Spin Stall Pilot Unable    Total\n2008   1784              1058            785                663                     66        124                 182        4662\n2009   1678               933            603                676                     72        140                 168        4270\n2010   1673               948            574                658                     77        120                 127        4177 \n2011   1715               965            578                675                     90        150                 121        4294\n2012   1713               994            583                663                     75        115                 128        4271\n2013   1471               824            510                576                     45        129                 142        3697\n2014   1448               784            537                593                     49        155                 190        3756\n2015   1478               765            553                651                     55        155                 130        3787\n2016   1562               821            585                661                     59        159                 210        4057\n2017   1548               849            631                618                     52        150                 207        4055\n2018   1583               874            585                623                     52        155                 192        4064\n2019   1544               830            570                632                     54        154                 170        3954\n2020   1329               790            427                484                     47        103                 127        3307\n2021   1573               948            444                579                     52         72                 137        3805\n2022   1576              1058            360                481                     43         51                  83        3652\n2023     64                47              9                 16                      0          1                   0         137\nTotal 23739             13488           8334               9249                    888       1933                2314       59945\n</code></pre> <p>Since the flagging for the top level logical parameters is done only in the view, a reconciliation with the database tables is not possible. With consideration of this limitation the figures on the number of top level logical parameters are in complete agreement.</p>"},{"location":"data_reconc_event_related.html#62-pie-chart","title":"6.2 Pie Chart","text":"Attitude Contr. Aircraft Climb Aircraft Degr. Contr. Altitude Too Low Pilot Unable Aerodyn. Spin Stall no data Total 23739 13488 9246 8334 2314 1933 888 59945 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_fatality_related.html","title":"Fatality-related","text":"<p>Important: All statistics provided below are based on NTSB data as of February 8, 2023 (period 2008 to 2023).</p> <p>The following is provided to verify that the numbers between the data taken over from NTSB and the application view io_app_ae1982 are consistent.</p>"},{"location":"data_reconc_fatality_related.html#1-number-of-fatalities","title":"1. Number of Fatalities","text":""},{"location":"data_reconc_fatality_related.html#11-based-on-events","title":"1.1 Based on events","text":""},{"location":"data_reconc_fatality_related.html#111-db-table-events","title":"1.1.1 DB Table <code>events</code>","text":"<pre><code>ev_year|fatalities|\n-------+----------+\n2008   |      1201|\n2009   |      1184|\n2010   |      1370|\n2011   |       931|\n2012   |      1035|\n2013   |       822|\n2014   |      1428|\n2015   |      1101|\n2016   |       820|\n2017   |       640|\n2018   |      1044|\n2019   |       964|\n2020   |       776|\n2021   |       643|\n2022   |       675|\n2023   |        21|\n       |     14655|\n</code></pre> <p>Applied SQL statement:</p> <pre><code>SELECT ev_year::text, \n       sum(inj_tot_f) fatalities\n  FROM events e\n WHERE ev_year &gt;= 2008\n GROUP BY ROLLUP(ev_year)\n ORDER BY 1\n</code></pre>"},{"location":"data_reconc_fatality_related.html#112-db-view-io_app_ae1982","title":"1.1.2 DB View <code>io_app_ae1982</code>","text":"<pre><code>ev_year|fatalities|\n-------+----------+\n2008   |      1201|\n2009   |      1184|\n2010   |      1370|\n2011   |       931|\n2012   |      1035|\n2013   |       822|\n2014   |      1428|\n2015   |      1101|\n2016   |       820|\n2017   |       640|\n2018   |      1044|\n2019   |       964|\n2020   |       776|\n2021   |       643|\n2022   |       675|\n2023   |        21|\n       |     14655|\n</code></pre> <p>Applied SQL statement:</p> <pre><code>SELECT ev_year::text, \n       sum(inj_tot_f) fatalities\n  FROM io_app_ae1982 e\n WHERE ev_year &gt;= 2008\n GROUP BY ROLLUP(ev_year)\n ORDER BY 1\n</code></pre>"},{"location":"data_reconc_fatality_related.html#12-based-on-far-operations-parts","title":"1.2 Based on FAR operations parts","text":"<ul> <li>The number of fatalities are stored in the table <code>events</code> in the column <code>inj_tot_f</code>.</li> <li>The same event in the <code>events</code> table is associated with one or more aircraft in the <code>aircraft</code> table.</li> <li>For the view, this results in multiple fatality counts for events involving multiple aircraft with different FAR operations part.</li> </ul>"},{"location":"data_reconc_fatality_related.html#121-db-tables-events-and-aircraft","title":"1.2.1 DB Tables <code>events</code> and <code>aircraft</code>","text":"<pre><code>aircraft_key|far_part|fatalities|\n------------+--------+----------+\n           1|091     |      5501|\n           1|121     |        68|\n           1|125     |         4|\n           1|129     |        55|\n           1|133     |        34|\n           1|135     |       393|\n           1|137     |       119|\n           1|437     |         1|\n           1|ARMF    |         7|\n           1|n/a     |      1420|\n           1|NUSC    |      4185|\n           1|NUSN    |      2239|\n           1|PUBU    |        83|\n           1|UNK     |       543|\n           1|        |     14652|\n           2|091     |       148|\n           2|103     |         2|\n           2|129     |         5|\n           2|135     |        24|\n           2|137     |         5|\n           2|ARMF    |         2|\n           2|n/a     |        10|\n           2|NUSC    |         9|\n           2|NUSN    |        52|\n           2|PUBU    |         3|\n           2|UNK     |        18|\n           2|        |       278|\n           3|091     |         6|\n           3|        |         6|\n            |        |     14936|\n</code></pre> <ul> <li>For event '20220818105763' the first aircraft is missing (see below), so the number of fatalities for <code>aircraft_key</code> equal to 1 must be corrected to 14655.</li> </ul> <pre><code>SELECT a.aircraft_key ,\n       COALESCE(a.far_part, 'n/a') far_part,\n       sum(e.inj_tot_f) fatalities\n  FROM events e INNER JOIN aircraft a \n                ON e.ev_id = a.ev_id\n WHERE e.ev_year &gt;= 2008\n   AND e.inj_tot_f &gt; 0\n GROUP BY ROLLUP (a.aircraft_key,\n                  COALESCE(a.far_part, 'n/a'))\n ORDER BY a.aircraft_key,\n          COALESCE(a.far_part, 'n/a')\n</code></pre> <pre><code>ev_id         |aircraft_key|far_part|inj_tot_f|\n--------------+------------+--------+---------+\n20100204X45658|           1|091     |        3|\n20100204X45658|           2|091     |        3|\n20100204X45658|           3|091     |        3|\n20220818105763|           2|091     |        3|\n20220818105763|           3|091     |        3|\n</code></pre> <pre><code>SELECT e.ev_id,\n       a.aircraft_key ,\n       COALESCE (a.far_part ,'n/a') far_part,\n       e.inj_tot_f\n  FROM events e INNER JOIN aircraft a \n                ON e.ev_id = a.ev_id\n WHERE e.ev_id IN (SELECT e.ev_id\n                     FROM events e INNER JOIN aircraft a \n                                   ON e.ev_id = a.ev_id\n                     WHERE e.ev_year &gt;= 2008\n                       AND e.inj_tot_f &gt; 0\n                       AND a.aircraft_key = 3)\n ORDER BY e.ev_id,\n          a.aircraft_key\n</code></pre>"},{"location":"data_reconc_fatality_related.html#122-db-view-io_app_ae1982","title":"1.2.2 DB View <code>io_app_ae1982</code>","text":"<pre><code>no_aircraft|far_parts  |fatalities|\n-----------+-----------+----------+\n          1|{091}      |      5358|\n          1|{121}      |        68|\n          1|{125}      |         4|\n          1|{129}      |        55|\n          1|{133}      |        34|\n          1|{135}      |       363|\n          1|{137}      |       114|\n          1|{437}      |         1|\n          1|{ARMF}     |         7|\n          1|{n/a}      |      1411|\n          1|{NUSC}     |      4170|\n          1|{NUSN}     |      2187|\n          1|{PUBU}     |        81|\n          1|{UNK}      |       524|\n          1|NULL       |     14377|\n          2|{091}      |       131|\n          2|{091,135}  |        24|\n          2|{091,ARMF} |         2|\n          2|{103,135}  |         2|\n          2|{129,NUSN} |         5|\n          2|{135}      |        14|\n          2|{137}      |         5|\n          2|{n/a}      |         9|\n          2|{n/a,NUSN} |         1|\n          2|{NUSC}     |         8|\n          2|{NUSC,NUSN}|         8|\n          2|{NUSN}     |        45|\n          2|{PUBU}     |         2|\n          2|{PUBU,UNK} |         1|\n          2|{UNK}      |        18|\n          2|NULL       |       275|\n          3|{091}      |         3|\n          3|NULL       |         3|\n           |NULL       |     14655|\n</code></pre> <ul> <li>This results in the following 43 fatalities as candidates for double counting in the application:</li> </ul> <pre><code>          2|{091,135}  |        24|\n          2|{091,ARMF} |         2|\n          2|{103,135}  |         2|\n          2|{129,NUSN} |         5|\n          2|{n/a,NUSN} |         1|\n          2|{NUSC,NUSN}|         8|\n          2|{PUBU,UNK} |         1|\n           |Total      |        43| \n</code></pre> <pre><code>SELECT no_aircraft ,\n       far_parts,\n       sum(inj_tot_f) fatalities\n  FROM io_app_ae1982 iaa \n WHERE ev_year &gt;= 2008\n   AND inj_tot_f &gt; 0\n GROUP BY ROLLUP (no_aircraft,\n                  far_parts)\n ORDER BY no_aircraft,\n          far_parts\n</code></pre>"},{"location":"data_reconc_fatality_related.html#13-conclusion","title":"1.3 Conclusion","text":"<p>The figures on the number of fatalities are in complete agreement.</p>"},{"location":"data_reconc_fatality_related.html#2-far-operations-parts","title":"2. FAR Operations Parts","text":""},{"location":"data_reconc_fatality_related.html#21-bar-chart","title":"2.1 Bar Chart","text":"<pre><code>year  below threshold  091  NUSC  NUSN  no data    Total\n2008        124        447  462   165     3        1201\n2009        104        456  489   144     0        1193\n2010        162        418  643   147     0        1370\n2011         63        422  253   193     1         932\n2012         65        394  383   190     3        1035\n2013        119        341   47   158   157         822\n2014         38        357  584   139   310        1428\n2015         49        361   38   125   530        1103\n2016         61        338   39   121   266         825\n2017         46        313   56   105   121         641\n2018        151        353  396   146     0        1046\n2019        106        382  263   220     0         971\n2020         83        308  288   111     0         790\n2021         88        318   84   146     9         645\n2022         68        296  160   134    17         675\n2023          0         14    1     2     4          21\nTotal      1327       5518 4186  2246  1421       14698\nDuplicates   18.5       13    4     7     0.5        43 \n</code></pre> <ul> <li>Contains the expected duplicates from 1.2.2.</li> </ul>"},{"location":"data_reconc_fatality_related.html#22-pie-chart","title":"2.2 Pie Chart","text":"below threshold no data 091 NUSC NUSN Total 1327 1421 5518 4186 2246 14698 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_fatality_related.html#3-selected-far-operations-parts","title":"3. Selected FAR Operations Parts","text":""},{"location":"data_reconc_fatality_related.html#31-bar-chart","title":"3.1 Bar Chart","text":"<pre><code>year  Parts 091x Parts 135 Parts 121      other       Total\n2008        447        69         1        684        1201\n2009        456        17        51        669        1193\n2010        418        17         2        933        1370\n2011        422        41         0        468         931\n2012        394        12         0        629        1035\n2013        341        30         9        442         822\n2014        357        20         0       1051        1428\n2015        361        28         0        712        1101\n2016        338        27         0        460         825\n2017        313        16         0        311         640\n2018        353        16         1        675        1045\n2019        382        34         4        544         964\n2020        308        26         0        451         785\n2021        318        32         0        293         643\n2022        296        18         0        361         675\n2023         14         0         0          7          21\nTotal      5518       403        68       8690       14679\n</code></pre> <ul> <li>Agrees with the bar chart of 2.1.</li> </ul>"},{"location":"data_reconc_fatality_related.html#32-pie-chart","title":"3.2 Pie Chart","text":"other Parts 091x Parts 121 Parts 135 Total 8690 5518 68 403 14679 <ul> <li>Agrees with the bar chart above.</li> </ul>"},{"location":"data_reconc_ntsb_io_avstats_db.html","title":"NTSB versus IO-AVSTATS-DB","text":""},{"location":"data_reconc_ntsb_io_avstats_db.html#1-general","title":"1. General","text":"<p>The reconciliation of the databases of IO-Aero and NTSB can always be done only at the first of the month, because the NTSB updates the database avall only at this time. The MS Excel file data\\Database Matching\\database_matching.xlsx is used for reconciliation.</p>"},{"location":"data_reconc_ntsb_io_avstats_db.html#2-io-avstats-db","title":"2. IO-AVSTATS-DB","text":"<p>The reconciliation data from the IO-Aero Database IO-AVSTATS-DB is determined with the following database query:</p> <pre><code>SELECT 'aircraft'                                                                                      \"DB Table\",\n(SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM aircraft)                                                                 \"Total\"\nUNION\nSELECT 'dt_aircraft'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_aircraft)                                                                 \"Total\"\nUNION\nSELECT 'dt_events'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_events)                                                                 \"Total\"\nUNION\nSELECT 'dt_flight_crew'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_flight_crew)                                                                 \"Total\"\nUNION\nSELECT 'engines'                                                                                      \"DB Table\",\n(SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM engines)                                                                 \"Total\"\nUNION\nSELECT 'events'                                            \"DB Table\",\n(SELECT count(*) FROM events WHERE ev_year &lt; 2008)  \"&lt; 2008\",\n(SELECT count(*) FROM events WHERE ev_year &gt;= 2008) \"&gt;= 2008\",\n(SELECT count(*) FROM events)                       \"Total\"\nunion\nSELECT 'events_sequence'                                                                                      \"DB Table\",\n(SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM events_sequence)                                                                 \"Total\"\nunion\nSELECT 'findings'                                                                                      \"DB Table\",\n(SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM findings)                                                                 \"Total\"\nunion\nSELECT 'flight_crew'                                                                                      \"DB Table\",\n(SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM flight_crew)                                                                 \"Total\"\nunion\nSELECT 'flight_time'                                                                                      \"DB Table\",\n(SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM flight_time)                                                                 \"Total\"\nunion\nSELECT 'injury'                                                                                      \"DB Table\",\n(SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM injury)                                                                 \"Total\"\nunion\nSELECT 'narratives'                                                                                      \"DB Table\",\n(SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM narratives)                                                                 \"Total\"\nunion\nSELECT 'ntsb_admin'                                                                                      \"DB Table\",\n(SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM ntsb_admin)                                                                 \"Total\"\nunion\nSELECT 'occurrences'                                                                                      \"DB Table\",\n(SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM occurrences)                                                                 \"Total\"\nunion\nSELECT 'seq_of_events'                                                                                      \"DB Table\",\n(SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM seq_of_events)                                                                 \"Total\"\nORDER BY 1\n</code></pre>"},{"location":"data_reconc_ntsb_io_avstats_db.html#3-ntsb","title":"3. NTSB","text":"<p>To do this, these databases must first be downloaded from the NTSB website with task d_n_a. </p> <p>The reconciliation data of both NTSB databases Pre2008 and avall are determined with the following database query:</p> <pre><code>SELECT 'aircraft' AS db_table,\ncount(*)   AS total\nFROM aircraft\nUNION\nSELECT 'dt_aircraft' AS db_table,\ncount(*)      AS total\nFROM dt_aircraft\nUNION\nSELECT 'dt_events' AS db_table,\ncount(*)    AS total\nFROM dt_events\nUNION\nSELECT 'dt_flight_crew' AS db_table,\ncount(*)         AS total\nFROM dt_flight_crew\nUNION\nSELECT 'engines' AS db_table,\ncount(*)  AS total\nFROM engines\nUNION\nSELECT 'events' AS db_table,\ncount(*) AS total\nFROM events\nUNION\nSELECT 'events_sequence' AS db_table,\ncount(*)          AS total\nFROM events_sequence\nUNION\nSELECT 'findings' AS db_table,\ncount(*)   AS total\nFROM findings\nUNION\nSELECT 'flight_crew' AS db_table,\ncount(*)      AS total\nFROM flight_crew\nUNION\nSELECT 'flight_time' AS db_table,\ncount(*)      AS total\nFROM flight_time\nUNION\nSELECT 'injury' AS db_table,\ncount(*) AS total\nFROM injury\nUNION\nSELECT 'narratives' AS db_table,\ncount(*)     AS total\nFROM narratives\nUNION\nSELECT 'ntsb_admin' AS db_table,\ncount(*)     AS total\nFROM ntsb_admin\nUNION\nSELECT 'occurrences' AS db_table,\ncount(*)      AS total\nFROM occurrences\nUNION\nSELECT 'seq_of_events' AS db_table,\ncount(*)        AS total\nFROM seq_of_events\nORDER BY 1\n</code></pre>"},{"location":"data_reconc_ntsb_io_avstats_db.html#4-latest-reconciliation-february-1-2023","title":"4. Latest reconciliation (February 1, 2023)","text":""},{"location":"how_to_add_ntsb_accident_files.html","title":"How to add NTSB accident files","text":"<p>Aviation accident data provided by NTSB can be found at the following website under Downloadable data sets:</p> <p></p> <p>NTSB provides update databases every month on the 1st, 8th 15th, and 22nd.  In addition, an up-to-date avall database is provided on the first of every month.</p> <p>In the database table <code>io_processed_files</code> you can find the files already processed by IO-Aero:</p> <p></p> <p>Any file provided by NTSB can be processed several times with the process described in the following, as long as one processes also afterwards all newer files again.</p> <p>All necessary processing steps can be executed with the <code>run_io_avstats</code> script. The script is available in a version for Windows 10 and 11 cmd and for Ubuntu 22.04 bash shell.</p>"},{"location":"how_to_add_ntsb_accident_files.html#1-quick-reference","title":"1. Quick reference","text":"<p>The following processing steps are performed only on the first of each month:</p> No. Task Description 1 d_s_f Download basic simplemaps files 2 l_s_d Optional: Load simplemaps data into PostgreSQL 3 Download the ZIP Code Database file 4 l_z_d Optional: Load ZIP Code Database data into PostgreSQL 5 l_c_d Optional: Load data from a correction file into PostgreSQL <p>The following processing steps are performed on each of the change files delivered on the 1st, 8th, 15th and 22nd:</p> No. Task Description 11.0 u_p_d Download a NTSB MS Access database file 11.1 Load NTSB MS Access database data into PostgreSQL 11.2 Correct decimal US latitudes and longitudes 11.3 Verify selected NTSB data 11.4 Refresh the PostgreSQL database schema 11.5 Optional data quality checks <p>The following steps are used to back up and to update the database in the cloud:</p> No. Task Description 21 Backup the file directory <code>data/postgres</code> 22 Update the Google Drive 23 c_f_z Zip the files for the cloud"},{"location":"how_to_add_ntsb_accident_files.html#2-detailed-description","title":"2. Detailed description","text":""},{"location":"how_to_add_ntsb_accident_files.html#no-1-d_s_f-download-basic-simplemaps-files","title":"No. 1 - <code>d_s_f</code> - Download basic simplemaps files","text":"<p>Relevant configuration parameters:</p> <pre><code>download_chunk_size = 524288\ndownload_timeout = 10\ndownload_file_simplemaps_us_cities_xlsx = \"uscities.xlsx\"\ndownload_file_simplemaps_us_cities_zip = \"simplemaps_uscities_basicv1.75.zip\"\ndownload_file_simplemaps_us_zips_xlsx = \"uszips.xlsx\"\ndownload_file_simplemaps_us_zips_zip = \"simplemaps_uszips_basicv1.81.zip\"\ndownload_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\nProgress update 2023-01-12 08:52:58.915135 : ===============================================================================.\nProgress update 2023-01-12 08:52:58.915635 : INFO.00.004 Start Launcher.\nProgress update 2023-01-12 08:52:58.917636 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-12 08:52:58.925635 : INFO.00.005 Argument task='d_s_f'.\nProgress update 2023-01-12 08:52:58.925635 : -------------------------------------------------------------------------------.\nProgress update 2023-01-12 08:52:58.926135 : INFO.00.048 Downloading basic simplemaps files.\nProgress update 2023-01-12 08:52:58.926135 : --------------------------------------------------------------------------------\nProgress update 2023-01-12 08:52:59.124166 : INFO.00.030 The connection to the US city file 'simplemaps_uscities_basicv1.75.zip' on the simplemaps download page was successfully established.\nProgress update 2023-01-12 08:52:59.625371 : INFO.00.023 From the file 'simplemaps_uscities_basicv1.75.zip' 8 chunks were downloaded.\nProgress update 2023-01-12 08:52:59.658871 : INFO.00.024 The file 'simplemaps_uscities_basicv1.75.zip' was successfully unpacked.\nProgress update 2023-01-12 08:52:59.736875 : INFO.00.022 The connection to the US zip code file 'simplemaps_uszips_basicv1.81.zip' on the simplemaps download page was successfully established.\nProgress update 2023-01-12 08:52:59.838506 : INFO.00.023 From the file 'simplemaps_uszips_basicv1.81.zip' 8 chunks were downloaded.\nProgress update 2023-01-12 08:52:59.872006 : INFO.00.024 The file 'simplemaps_uszips_basicv1.81.zip' was successfully unpacked.\nProgress update 2023-01-12 08:52:59.872506 : -------------------------------------------------------------------------------.\nProgress update 2023-01-12 08:52:59.872506 :        1,075,371,000 ns - Total time launcher.\nProgress update 2023-01-12 08:52:59.872506 : INFO.00.006 End   Launcher.\nProgress update 2023-01-12 08:52:59.872506 : ===============================================================================.\n</code></pre> <p>The downloaded files <code>uscities.csv</code> and <code>uszips.xlsx</code> must be checked with the reference files in the file directory <code>data/reference</code> for a match. If there is no mismatch, then the next step can be skipped.</p>"},{"location":"how_to_add_ntsb_accident_files.html#no-2-l_s_d-load-simplemaps-data-into-postgresql","title":"No. 2 - <code>l_s_d</code> - Load simplemaps data into PostgreSQL","text":"<p>Only necessary if the file downloaded in the previous step contains changes.</p> <p>TODO</p> <p>Relevant configuration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>TODO\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no3-download-the-zip-code-database-file","title":"No.3 - Download the ZIP Code Database file","text":"<p>The <code>Personal Free</code> version of the ZIP Code Database file must be downloaded manually from the <code>https://www.unitedstateszipcodes.org/zip-code-database/</code> website to the file directory according to the <code>download_work_dir</code> configuration parameter.</p> <p></p> <p>The two formats <code>Excel Format (data only)</code> and <code>CSV Format</code> must be downloaded one after the other. The downloaded file <code>zip_code_database.csv</code> must be checked with the reference files in the file directory <code>data/reference</code> for a match. If there is no mismatch, then the next step can be skipped.</p> <p>Relevant configuration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-4-l_z_d-load-zip-code-database-data-into-postgresql","title":"No. 4 - <code>l_z_d</code> - Load ZIP Code Database data into PostgreSQL","text":"<p>Only necessary if the file downloaded in the previous step contains changes.</p> <p>TODO</p> <p>Relevant configuration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>TODO\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-5-l_c_d-load-data-from-a-correction-file-into-postgresql","title":"No. 5 -  <code>l_c_d</code> - Load data from a correction file into PostgreSQL","text":"<p>This step only needs to be performed if modified or new correction files are available.</p> <p>Relevant configuration parameters:</p> <pre><code>correction_work_dir = \"data/correction\"\n</code></pre> <p>Example protocol:</p> <pre><code>TODO\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-111-d_n_a-download-a-ntsb-ms-access-database-file","title":"No. 11.1 - <code>d_n_a</code> - Download a NTSB MS Access database file","text":"<p>The execution protocol for the entire step 11 is available here under: Applications - Update Log Files</p> <p>Relevant configuration parameters:</p> <pre><code>download_chunk_size = 524288\ndownload_timeout = 10\ndownload_url_ntsb_prefix = \"https://data.ntsb.gov/avdata/FileDirectory/DownloadFile?fileID=C%3A%5Cavdata%5C\"\ndownload_work_dir = \"data/download\"\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-112-l_n_a-load-ntsb-ms-access-database-data-into-postgresql","title":"No. 11.2 - <code>l_n_a</code> - Load NTSB MS Access database data into PostgreSQL","text":"<p>Relevant configuration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-113-c_l_l-correct-decimal-us-latitudes-and-longitudes","title":"No. 11.3 - <code>c_l_l</code> - Correct decimal US latitudes and longitudes","text":""},{"location":"how_to_add_ntsb_accident_files.html#no-114-v_n_d-verify-selected-ntsb-data","title":"No. 11.4 - <code>v_n_d</code> - Verify selected NTSB data","text":"<p>Relevant configuration parameters:</p> <pre><code>max_deviation_latitude = 0.01\nmax_deviation_longitude = 0.01\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-115-r_d_s-refresh-the-postgresql-database-schema","title":"No. 11.5 - <code>r_d_s</code> - Refresh the PostgreSQL database schema","text":""},{"location":"how_to_add_ntsb_accident_files.html#optional-data-quality-check-event-completeness","title":"Optional data quality check: Event completeness","text":"<p>Query:</p> <pre><code>SELECT count(*) \"Count\",\n       'Events Total' \"Description\"\n  FROM events e\n UNION\nSELECT count(*) ,\n       'Events Total with Fatalities'\n  FROM events e\n WHERE inj_tot_f &gt; 0\n UNION\nSELECT count(*) ,\n       'Events US'\n  FROM events e\n WHERE ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) ,\n       'Events US with Fatalities'\n  FROM events e\n WHERE inj_tot_f &gt; 0\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) \"Count\",\n       'Events Total since 1982' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 1982\n UNION\nSELECT count(*) ,\n       'Events Total with Fatalities since 1982'\n  FROM events e\n WHERE ev_year &gt;= 1982\n   AND inj_tot_f &gt; 0\n UNION\nSELECT count(*) ,\n       'Events US since 1982'\n  FROM events e\n WHERE ev_year &gt;= 1982\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) ,\n       'Events US with Fatalities since 1982'\n  FROM events e\n WHERE ev_year &gt;= 1982\n   AND inj_tot_f &gt; 0\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) \"Count\",\n       'Events Total since 2008' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 2008\n UNION\nSELECT count(*) ,\n       'Events Total with Fatalities since 2008'\n  FROM events e\n WHERE ev_year &gt;= 2008\n   AND inj_tot_f &gt; 0\n UNION\nSELECT count(*) ,\n       'Events US since 2008'\n  FROM events e\n WHERE ev_year &gt;= 2008\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) ,\n       'Events US with Fatalities since 2008'\n  FROM events e\n WHERE ev_year &gt;= 2008\n   AND inj_tot_f &gt; 0\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description                            |\n-----+---------------------------------------+\n88137|Events Total                           |\n88130|Events Total since 1982                |\n25101|Events Total since 2008                |\n17585|Events Total with Fatalities           |\n17579|Events Total with Fatalities since 1982|\n 5269|Events Total with Fatalities since 2008|\n81137|Events US                              |\n81130|Events US since 1982                   |\n20780|Events US since 2008                   |\n14695|Events US with Fatalities              |\n14689|Events US with Fatalities since 1982   |\n 3507|Events US with Fatalities since 2008   | \n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#optional-data-quality-check-latitude-longitude","title":"Optional data quality check: Latitude &amp;longitude","text":"<p>Query Total::</p> <pre><code>SELECT count(*) \"Count\",\n       io_dec_lat_lng_actions\n  FROM events \n WHERE io_dec_lat_lng_actions IS NOT NULL \n GROUP BY io_dec_lat_lng_actions \n ORDER BY io_dec_lat_lng_actions\n</code></pre> <p>Results:</p> <pre><code>Count|io_dec_lat_lng_actions                                                                                                                                                                                                                                         |\n-----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n  510|ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                           |\n 4087|ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n  585|ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                                                              |\n    5|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                      |\n    4|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                      |\n   13|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                                                         |\n   14|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                                                         |\n    8|ERROR.00.922 Invalid US state id &amp; INFO.00.033 Correction based on US zip code                                                                                                                                                                                 |\n    3|ERROR.00.922 Invalid US state id &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n   91|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                      |\n    1|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00|\n    2|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                              |\n42684|INFO.00.033 Correction based on US zip code                                                                                                                                                                                                                    |\n 1293|INFO.00.034 Correction based on US state and city                                                                                                                                                                                                              |\n10959|INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                                                         |\n  101|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string                                                                                                                                                                  |\n    4|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                   |\n   64|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; INFO.00.033 Correction based on US zip code                                                                            |\n  123|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                                                                 |  \n</code></pre> <p>Query Total since 1982::</p> <pre><code>SELECT count(*) \"Count\",\n       io_dec_lat_lng_actions\n  FROM events \n WHERE ev_year &gt;= 1982\n   AND io_dec_lat_lng_actions IS NOT NULL \n GROUP BY io_dec_lat_lng_actions \n ORDER BY io_dec_lat_lng_actions\n</code></pre> <p>Results:</p> <pre><code>Count|io_dec_lat_lng_actions                                                                                                                                                                                                                                         |\n-----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n  510|ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                           |\n 4087|ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n  585|ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                                                              |\n    5|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                      |\n    4|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                      |\n   13|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                                                         |\n   14|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                                                         |\n    8|ERROR.00.922 Invalid US state id &amp; INFO.00.033 Correction based on US zip code                                                                                                                                                                                 |\n    3|ERROR.00.922 Invalid US state id &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n   91|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                      |\n    1|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00|\n    2|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                              |\n42680|INFO.00.033 Correction based on US zip code                                                                                                                                                                                                                    |\n 1292|INFO.00.034 Correction based on US state and city                                                                                                                                                                                                              |\n10957|INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                                                         |\n  101|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string                                                                                                                                                                  |\n    4|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                   |\n   64|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; INFO.00.033 Correction based on US zip code                                                                            |\n  123|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                                                                 |  \n</code></pre> <p>Query Total since 2008::</p> <pre><code>SELECT count(*) \"Count\",\n       io_dec_lat_lng_actions\n  FROM events \n WHERE ev_year &gt;= 2008\n   AND io_dec_lat_lng_actions IS NOT NULL \n GROUP BY io_dec_lat_lng_actions \n ORDER BY io_dec_lat_lng_actions\n</code></pre> <p>Results:</p> <pre><code>Count|io_dec_lat_lng_actions                                                                                                                                   |\n-----+---------------------------------------------------------------------------------------------------------------------------------------------------------+\n    1|ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                     |\n    6|ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                                                     |\n    5|ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                        |\n    1|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country|\n    7|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country   |\n   10|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                   |\n   13|INFO.00.033 Correction based on US zip code                                                                                                              |\n   33|INFO.00.034 Correction based on US state and city                                                                                                        |   \n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#optional-data-quality-check-issue-summary","title":"Optional data quality check: Issue summary","text":"<p>Query Total::</p> <pre><code>SELECT count(*) \"Count\",\n       'Latitude deviation' \"Description\"\n  FROM events e\n WHERE io_dec_latitude_deviating IS NOT NULL \n UNION\nSELECT count(*),\n       'Longitude deviation'\n  FROM events e\n WHERE io_dec_longitude_deviating IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Latitude'\n  FROM events e\n WHERE io_invalid_latitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Longitude'\n  FROM events e\n WHERE io_invalid_longitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City'\n  FROM events e\n WHERE io_invalid_us_city IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City &amp; Zipcode'\n  FROM events e\n WHERE io_invalid_us_city_zipcode IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US State'\n  FROM events e\n WHERE io_invalid_us_state IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US Zipcode'\n  FROM events e\n WHERE io_invalid_us_zipcode IS NOT NULL \n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description              |\n-----+-------------------------+\n 3807|Invalid Latitude         |\n 4131|Invalid Longitude        |\n 6042|Invalid US City          |\n16531|Invalid US City &amp; Zipcode|\n  290|Invalid US State         |\n 6039|Invalid US Zipcode       |\n 3726|Latitude deviation       |\n 3655|Longitude deviation      | \n</code></pre> <p>Query US until 2008::</p> <pre><code>SELECT count(*) \"Count\",\n       'Latitude deviation' \"Description\"\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_dec_latitude_deviating IS NOT NULL \n UNION\nSELECT count(*),\n       'Longitude deviation'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_dec_longitude_deviating IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Latitude'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_invalid_latitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Longitude'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_invalid_longitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_invalid_us_city IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City &amp; Zipcode'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_invalid_us_city_zipcode IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US State'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_invalid_us_state IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US Zipcode'\n  FROM events e\n WHERE ev_year &lt; 2008 \n   AND io_invalid_us_zipcode IS NOT NULL \n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description              |\n-----+-------------------------+\n  172|Invalid Latitude         |\n  196|Invalid Longitude        |\n 4851|Invalid US City          |\n12421|Invalid US City &amp; Zipcode|\n  123|Invalid US State         |\n 5113|Invalid US Zipcode       |\n    1|Latitude deviation       |\n    0|Longitude deviation      |    \n</code></pre> <p>Query US Accidents since 2008::</p> <pre><code>SELECT count(*) \"Count\",\n       'Latitude deviation' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_dec_latitude_deviating IS NOT NULL \n UNION\nSELECT count(*),\n       'Longitude deviation'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_dec_longitude_deviating IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Latitude'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_latitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Longitude'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_longitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_city IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City &amp; Zipcode'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_city_zipcode IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US State'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_state IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US Zipcode'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_zipcode IS NOT NULL \n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description              |\n-----+-------------------------+\n 3635|Invalid Latitude         |\n 3935|Invalid Longitude        |\n 1191|Invalid US City          |\n 4110|Invalid US City &amp; Zipcode|\n  167|Invalid US State         |\n  926|Invalid US Zipcode       |\n 3725|Latitude deviation       |\n 3655|Longitude deviation      | \n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#no-21-backup-the-file-directory-datapostgres","title":"No. 21 - Backup the file directory <code>data/postgres</code>","text":"<ul> <li>Stop the Docker container <code>io_avstats_db</code>.</li> <li>Zip the file directory <code>postgres</code> in the file directory <code>data</code> - result is the file <code>postgres.zip</code>.</li> <li>Rename the file <code>postgres.sql</code> to <code>yy.mm.dd_postgres_upDDMON.zip</code>.</li> <li>Create a copy of the file <code>yy.mm.dd_postgres_upDDMON.zip</code> with the name <code>latest_postgres.zip</code>.</li> </ul>"},{"location":"how_to_add_ntsb_accident_files.html#no-22-update-the-google-drive","title":"No. 22 - Update the Google Drive","text":"<ul> <li>Log in to Google Drive with the Google Account <code>io-avstats.io-aero@gmail.com</code>.</li> <li>Upload the file <code>yy.mm.dd_postgres_upDDMON.zip</code>.</li> <li>Share the newly uploaded file.</li> </ul>"},{"location":"how_to_add_ntsb_accident_files.html#no-23-c_f_z-zip-the-files-for-the-cloud","title":"No. 23 -  <code>c_f_z</code> - Zip the files for the cloud","text":"<ul> <li>Upload the resulting <code>cloud.zip</code> file to the cloud and process it there.</li> </ul> <p>Example protocol:</p> <pre><code>=======================================================================\nStart scripts\\run_cloud_files_zip\n-----------------------------------------------------------------------\nFile Collection for AWS\n-----------------------------------------------------------------------\nThe current time is: 13:01:26.05\nEnter the new time:\n=======================================================================\n\n7-Zip (a) [32] 15.14 : Copyright (c) 1999-2015 Igor Pavlov : 2015-12-31\n\nScanning the drive:\n3 files, 339154065 bytes (324 MiB)\n\nCreating archive: cloud.zip\n\nItems to compress: 3\n\nFiles read from disk: 3\nArchive size: 328965173 bytes (314 MiB)\nEverything is Ok\n\n=======================================================================\nArchive Content\n-----------------------------------------------------------------------\n\n7-Zip (a) [32] 15.14 : Copyright (c) 1999-2015 Igor Pavlov : 2015-12-31\n\nScanning the drive for archives:\n1 file, 328965173 bytes (314 MiB)\n\nListing archive: cloud.zip\n\n--\nPath = cloud.zip\nType = zip\nPhysical Size = 328965173\n\n   Date      Time    Attr         Size   Compressed  Name\n------------------- ----- ------------ ------------  ------------------------\n2023-01-31 12:57:21 ....A    339143116    328962979  data\\latest_postgres.zip\n2023-01-27 06:55:21 ....A         2070          453  docker-compose.yml\n2023-01-27 12:31:21 ....A         8879         1241  scripts\\run_docker_compose.sh\n------------------- ----- ------------ ------------  ------------------------\n2023-01-31 12:57:21          339154065    328964673  3 files\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is: 13:01:35.98\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_cloud_files_zip\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is: 13:01:35.99\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_compare_ntsb_and_io_db.html","title":"How to compare NTSB and IO-AVSTATS-DB","text":""},{"location":"how_to_compare_ntsb_and_io_db.html#1-general","title":"1. General","text":"<p>The reconciliation of the databases of IO-Aero and NTSB can always be done only at the first of the month, because the NTSB updates the database avall only at this time. The MS Excel file data\\Database Matching\\database_matching.xlsx is used for reconciliation.</p>"},{"location":"how_to_compare_ntsb_and_io_db.html#2-io-avstats-db","title":"2. IO-AVSTATS-DB","text":"<p>The reconciliation data from the IO-Aero Database IO-AVSTATS-DB is determined with the following database query:</p> <pre><code>SELECT 'aircraft'                                                                                      \"DB Table\",\n(SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM aircraft)                                                                 \"Total\"\nUNION\nSELECT 'dt_aircraft'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_aircraft)                                                                 \"Total\"\nUNION\nSELECT 'dt_events'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_events)                                                                 \"Total\"\nUNION\nSELECT 'dt_flight_crew'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_flight_crew)                                                                 \"Total\"\nUNION\nSELECT 'engines'                                                                                      \"DB Table\",\n(SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM engines)                                                                 \"Total\"\nUNION\nSELECT 'events'                                            \"DB Table\",\n(SELECT count(*) FROM events WHERE ev_year &lt; 2008)  \"&lt; 2008\",\n(SELECT count(*) FROM events WHERE ev_year &gt;= 2008) \"&gt;= 2008\",\n(SELECT count(*) FROM events)                       \"Total\"\nunion\nSELECT 'events_sequence'                                                                                      \"DB Table\",\n(SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM events_sequence)                                                                 \"Total\"\nunion\nSELECT 'findings'                                                                                      \"DB Table\",\n(SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM findings)                                                                 \"Total\"\nunion\nSELECT 'flight_crew'                                                                                      \"DB Table\",\n(SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM flight_crew)                                                                 \"Total\"\nunion\nSELECT 'flight_time'                                                                                      \"DB Table\",\n(SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM flight_time)                                                                 \"Total\"\nunion\nSELECT 'injury'                                                                                      \"DB Table\",\n(SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM injury)                                                                 \"Total\"\nunion\nSELECT 'narratives'                                                                                      \"DB Table\",\n(SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM narratives)                                                                 \"Total\"\nunion\nSELECT 'ntsb_admin'                                                                                      \"DB Table\",\n(SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM ntsb_admin)                                                                 \"Total\"\nunion\nSELECT 'occurrences'                                                                                      \"DB Table\",\n(SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM occurrences)                                                                 \"Total\"\nunion\nSELECT 'seq_of_events'                                                                                      \"DB Table\",\n(SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM seq_of_events)                                                                 \"Total\"\nORDER BY 1\n</code></pre>"},{"location":"how_to_compare_ntsb_and_io_db.html#3-ntsb","title":"3. NTSB","text":"<p>To do this, these databases must first be downloaded from the NTSB website with task d_n_a. </p> <p>The reconciliation data of both NTSB databases Pre2008 and avall are determined with the following database query:</p> <pre><code>SELECT 'aircraft' AS db_table,\ncount(*)   AS total\nFROM aircraft\nUNION\nSELECT 'dt_aircraft' AS db_table,\ncount(*)      AS total\nFROM dt_aircraft\nUNION\nSELECT 'dt_events' AS db_table,\ncount(*)    AS total\nFROM dt_events\nUNION\nSELECT 'dt_flight_crew' AS db_table,\ncount(*)         AS total\nFROM dt_flight_crew\nUNION\nSELECT 'engines' AS db_table,\ncount(*)  AS total\nFROM engines\nUNION\nSELECT 'events' AS db_table,\ncount(*) AS total\nFROM events\nUNION\nSELECT 'events_sequence' AS db_table,\ncount(*)          AS total\nFROM events_sequence\nUNION\nSELECT 'findings' AS db_table,\ncount(*)   AS total\nFROM findings\nUNION\nSELECT 'flight_crew' AS db_table,\ncount(*)      AS total\nFROM flight_crew\nUNION\nSELECT 'flight_time' AS db_table,\ncount(*)      AS total\nFROM flight_time\nUNION\nSELECT 'injury' AS db_table,\ncount(*) AS total\nFROM injury\nUNION\nSELECT 'narratives' AS db_table,\ncount(*)     AS total\nFROM narratives\nUNION\nSELECT 'ntsb_admin' AS db_table,\ncount(*)     AS total\nFROM ntsb_admin\nUNION\nSELECT 'occurrences' AS db_table,\ncount(*)      AS total\nFROM occurrences\nUNION\nSELECT 'seq_of_events' AS db_table,\ncount(*)        AS total\nFROM seq_of_events\nORDER BY 1\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html","title":"How to create a new Streamlit app checklist","text":""},{"location":"how_to_create_new_streamlit_app.html#1-naming-conventions","title":"1. Naming Conventions","text":"Identification Header ae1982 Aircraft Accidents in the US since 1982 pd1982 Profiling Data for the US since 1982"},{"location":"how_to_create_new_streamlit_app.html#2-coding","title":"2. Coding","text":"<p>Adherence to the following recommendations will ensure consistent usability across all of IO-Aero's Streamlit applications:</p> <ul> <li>Use the sidebar for task and filter related controls</li> <li>Position the task-related controls in the sidebar at the top and the global filter elements at the bottom</li> <li>Make the task-related control elements visible only after the associated task has been selected</li> </ul> <pre><code>choice_data_profile = st.sidebar.checkbox(\n    help=\"Pandas profiling of the dataset.\",\n    label=\"**`Show data profile`**\",\n    value=False,\n)\n\nif choice_data_profile:\n    choice_data_profile_type = st.sidebar.radio(\n        help=\"explorative: thorough but also slow - minimal: minimal but faster.\",\n        index=1,\n        label=\"Data profile type\",\n        options=(\n            [\n                \"explorative\",\n                \"minimal\",\n            ]\n        ),\n    )\n    choice_data_profile_file = st.sidebar.checkbox(\n        help=\"Export the Pandas profile into a file.\",\n        label=\"Export profile to file\",\n        value=False,\n    )\n</code></pre> <ul> <li>Separate the individual tasks and the filter elements with separator line</li> </ul> <pre><code>st.sidebar.markdown(\"\"\"---\"\"\")\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#3-documentation","title":"3. Documentation","text":"<p>see file directory <code>docs</code></p>"},{"location":"how_to_create_new_streamlit_app.html#31-config_io_avstatsmd","title":"3.1 config_io_avstats.md","text":"<pre><code>...\n| streamlit_server_port_ae1982          | 8501                                          | Streamlit port number for application ae1982                           |\n| streamlit_server_port_pd1982          | 8502                                          | Streamlit port number for application pd1982                           |\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#32-how_to_setup_aws_instancemd","title":"3.2 how_to_setup_aws_instance.md","text":"<pre><code>...\n## 2. Open port numbers\n\nEach Streamlit application must be assigned its own port number so that they can run simultaneously.\nCurrently, the following Streamlit applications are supported:\n\n| Port | Application                                        |\n|------|----------------------------------------------------|\n| 8501 | ae1982 - Aircraft Accidents in the US since 1982 |\n| 8502 | pd1982 - Profiling Data for the US since 1982    |\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#33-how_to_update_avstats_on_awsmd","title":"3.3 how_to_update_avstats_on_aws.md","text":"<pre><code>...\n## 1. Docker images\n\nCurrently, the following Streamlit applications are supported:\n\n| Application | Description                             |\n|-------------|-----------------------------------------|\n| ae1982    | Aircraft Accidents in the US since 1982 |\n| pd1982    | Profiling Data for the US since 1982    |\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#34-indexmd","title":"3.4 index.md","text":"<pre><code>...\nCurrently, it includes the following applications:\n\n- ae1982 - Aircraft Accidents in the US since 1982\n- pd1982 - Profiling Data for the US since 1982\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#35-operationmd","title":"3.5 Operation.md","text":"<pre><code>...\nTODO\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#4-parameterization","title":"4. Parameterization","text":""},{"location":"how_to_create_new_streamlit_app.html#41-docker-composeyml","title":"4.1 docker-compose.yml","text":"<pre><code>...\n  # ------------------------------------------------------------------------------\n  # ae1982 - Aircraft Accidents in the US since 1982.\n  # ------------------------------------------------------------------------------\n  app_ae1982:\n    container_name: ae1982\n    depends_on:\n      - db\n    image: ioaero/ae1982:latest\n    ports:\n      - \"${IO_AVSTATS_STREAMLIT_SERVER_PORT_AE1982}:${IO_AVSTATS_STREAMLIT_SERVER_PORT}\"\n    restart: always\n\n  # ------------------------------------------------------------------------------\n  # pd1982 - Profiling Data for the US since 1982.\n  # ------------------------------------------------------------------------------\n  app_pd1982:\n    container_name: pd1982\n    depends_on:\n      - db\n    image: ioaero/pd1982:latest\n    ports:\n      - \"${IO_AVSTATS_STREAMLIT_SERVER_PORT_PD1982}:${IO_AVSTATS_STREAMLIT_SERVER_PORT}\"\n    restart: always\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#42-settingsio_avstatstoml-settingsio_avstats_4_dockerfiletoml","title":"4.2 settings.io_avstats.toml / settings.io_avstats_4_dockerfile.toml","text":"<pre><code>...\nstreamlit_server_port_ae1982 = 8501\nstreamlit_server_port_pd1982 = 8502\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#5-scripts","title":"5. Scripts","text":""},{"location":"how_to_create_new_streamlit_app.html#51-run_io_avstats","title":"5.1 run_io_avstats","text":"<p>cmd:</p> <pre><code>...\nif [\"%IO_AVSTATS_TASK%\"] EQU [\"r_s_a\"] (\n    if [\"%2\"] EQU [\"\"] (\n        echo =========================================================\n        echo ae1982 - Aircraft Accidents in the US since 1982\n        echo pd1982 - Profiling Data for the US since 1982\n        echo ---------------------------------------------------------\n        set /P IO_AVSTATS_APPLICATION=\"Enter the Streamlit application name \"\n    ) else (\n        set IO_AVSTATS_APPLICATION=%2\n    )\n)\n...\n</code></pre> <p>bash:</p> <pre><code>...\nif [ \"${IO_AVSTATS_TASK}\" = \"r_s_a\" ]; then\n    if [ -z \"$2\" ]; then\n        echo \"=========================================================\"\n        echo \"ae1982 - Aircraft Accidents in the US since 1982\"\n        echo \"pd1982 - Profiling Data for the US since 1982\"\n        echo \"---------------------------------------------------------\"\n        # shellcheck disable=SC2162\n        read -p \"Enter the Streamlit application name \" IO_AVSTATS_APPLICATION\n        export IO_AVSTATS_APPLICATION=${IO_AVSTATS_APPLICATION}\n    else\n        export IO_AVSTATS_APPLICATION=$2\n    fi\nfi\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#52-see-file-directory-scripts","title":"5.2 See file directory <code>scripts</code>","text":""},{"location":"how_to_create_new_streamlit_app.html#521-scriptsrun_create_image","title":"5.2.1 scripts/run_create_image","text":"<p>cmd:</p> <pre><code>...\nif [\"%1\"] EQU [\"\"] (\n    echo =========================================================\n    echo ae1982 - Aircraft Accidents in the US since 1982\n    echo pd1982 - Profiling Data for the US since 1982\n    echo ---------------------------------------------------------\n    set /P APPLICATION=\"Enter the desired application name [default: %APPLICATION_DEFAULT%] \"\n\n    if [\"!APPLICATION!\"] EQU [\"\"] (\n        set APPLICATION=%APPLICATION_DEFAULT%\n    )\n) else (\n    set APPLICATION=%1\n)\n...\n</code></pre> <p>bash:</p> <pre><code>...\nif [ -z \"$1\" ]; then\n    echo \"=========================================================\"\n    echo \"ae1982 - Aircraft Accidents in the US since 1982\"\n    echo \"pd1982 - Profiling Data for the US since 1982\"\n    echo \"---------------------------------------------------------\"\n    read -p \"Enter the desired application name [default: ${APPLICATION_DEFAULT}] \" APPLICATION\n    export APPLICATION=${APPLICATION}\n\n    if [ -z \"${APPLICATION}\" ]; then\n        export APPLICATION=${APPLICATION_DEFAULT}\n    fi\nelse\n    export APPLICATION=$1\nfi\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#522-scriptsrun_docker_compose","title":"5.2.2 scripts/run_docker_compose","text":"<p>cmd:</p> <pre><code>...\nset IO_AVSTATS_STREAMLIT_SERVER_PORT_AE1982=8501\nset IO_AVSTATS_STREAMLIT_SERVER_PORT_PD1982=8502\n...\necho STREAMLIT_SRRVER_PORT_AE1982 : %IO_AVSTATS_STREAMLIT_SERVER_PORT_AE1982%\necho STREAMLIT_SERVER_PORT_PD1982 : %IO_AVSTATS_STREAMLIT_SERVER_PORT_PD1982%\n...\n</code></pre> <p>bash:</p> <pre><code>...\nexport IO_AVSTATS_STREAMLIT_SERVER_PORT_AE1982=8501\nexport IO_AVSTATS_STREAMLIT_SERVER_PORT_PD1982=8502\n...\necho \"STREAMLIT_SRRVER_PORT_AE1982 : ${IO_AVSTATS_STREAMLIT_SERVER_PORT_AE1982}\"\necho \"STREAMLIT_SERVER_PORT_PD1982 : ${IO_AVSTATS_STREAMLIT_SERVER_PORT_PD1982}\"\n...\n</code></pre>"},{"location":"how_to_setup_aws_instance.html","title":"How to set up an AWS instance","text":"<p>Creating an AWS instance requires access to an AWS account as a root user or as an IAM user with appropriate permissions.</p> <p>IO-AVSTATS can be run on EC2 instances by default.  The EC2 instances are managed on the EC2 Dashboard.</p> <p></p>"},{"location":"how_to_setup_aws_instance.html#1-instance-creation","title":"1. Instance creation","text":"<p>On the EC2 dashboard, select Instances and then Launch instance.</p> <p></p>"},{"location":"how_to_setup_aws_instance.html#11-name-and-tags","title":"1.1 Name and tags","text":"<ul> <li><code>IO-AVSTATS</code></li> </ul>"},{"location":"how_to_setup_aws_instance.html#12-application-and-os-images","title":"1.2 Application and OS Images","text":"<ul> <li><code>Ubuntu Server 20.04 LTS (HVM), SSD Volume Type</code></li> </ul>"},{"location":"how_to_setup_aws_instance.html#13-instance-type","title":"1.3 Instance type","text":"<ul> <li><code>t3a.medium</code></li> </ul>"},{"location":"how_to_setup_aws_instance.html#14-key-pair-login","title":"1.4 Key pair (login)","text":"<ul> <li>Either choose an existing one or create a new one.</li> </ul>"},{"location":"how_to_setup_aws_instance.html#15-network-settings","title":"1.5 Network settings","text":""},{"location":"how_to_setup_aws_instance.html#16-configure-storage","title":"1.6 Configure Storage","text":"<ul> <li>1x <code>30</code> GiB</li> </ul>"},{"location":"how_to_setup_aws_instance.html#17-launch-instance","title":"1.7 Launch instance","text":""},{"location":"how_to_setup_aws_instance.html#2-open-port-numbers","title":"2. Open port numbers","text":"<p>Each Streamlit application must be assigned its own port number so that they can run simultaneously. Currently, the following Streamlit applications are supported:</p> Port Application 8501 ae1982 - Aircraft Accidents in the US since 1982 8502 pd1982 - Profiling Data for the US since 1982"},{"location":"how_to_setup_aws_instance.html#21-determine-the-security","title":"2.1 Determine the security","text":"<p>To determine the security group assigned to the intance: on the EC2 dashboard, select Instances and then Security.</p> <p></p>"},{"location":"how_to_setup_aws_instance.html#22-choose-the-security-group","title":"2.2 Choose the security group","text":"<p>To choose the security group assigned to the instance: on the EC2 dashboard, select Security Groups and Security.</p> <p></p>"},{"location":"how_to_setup_aws_instance.html#23-open-the-port-numbers","title":"2.3 Open the port numbers","text":"<p>For each streamline application port number press <code>Add rule</code> and enter the data.</p> <p></p>"},{"location":"how_to_setup_aws_instance.html#24-finsh-with-save-rules","title":"2.4 Finsh with <code>Save rules</code>","text":""},{"location":"how_to_setup_aws_instance.html#3-upload-installation-script","title":"3. Upload installation script","text":"<p>On Windows, the WinSCP program can be used to upload data from the local system to the AWS Cloud. The script to be uploaded is called <code>run_cloud_setup_instance.sh</code>.</p> <p></p> <p></p>"},{"location":"how_to_setup_aws_instance.html#4-run-installation-script","title":"4. Run installation script","text":""},{"location":"how_to_setup_aws_instance.html#41-load-terminal-window","title":"4.1 Load terminal window","text":""},{"location":"how_to_setup_aws_instance.html#42-run_cloud_setup_instance","title":"4.2 <code>run_cloud_setup_instance</code>","text":"<p><code>chmod +x run_cloud_setup_instance.sh</code> </p> <p><code>./run_cloud_setup_instance.sh</code> </p> <p>Example protocol:</p> <pre><code>ubuntu@ip-172-31-89-93:~$ chmod +x run_cloud_setup_instance.sh\nubuntu@ip-172-31-89-93:~$ ./run_cloud_setup_instance.sh\n==============================================================================\nStart ./run_cloud_setup_instance.sh\n------------------------------------------------------------------------------\nDATE TIME : 19.12.2022 10:49:15\n==============================================================================\nSupplement necessary system software\n------------------------------------------------------------------------------\nHit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease\nGet:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]\nGet:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]\nGet:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]\nGet:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 Packages [8628 kB]\nGet:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe Translation-en [5124 kB]\nGet:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]\nGet:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [144 kB]\nGet:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse Translation-en [104 kB]\nGet:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n-f Metadata [9136 B]\nGet:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2269 kB]\nGet:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [395 kB]\nGet:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [16.1 kB]\nGet:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1476 kB]\nGet:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted Translation-en [208 kB]\nGet:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [592 B]\nGet:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1009 kB]\nGet:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [234 kB]\nGet:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [23.2 kB]\nGet:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [24.5 kB]\nGet:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse Translation-en [7380 B]\nGet:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [592 B]\nGet:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [45.7 kB]\nGet:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main Translation-en [16.3 kB]\nGet:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 c-n-f Metadata [1420 B]\nGet:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/restricted amd64 c-n-f Metadata [116 B]\nGet:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [24.9 kB]\nGet:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe Translation-en [16.3 kB]\nGet:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [880 B]\nGet:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/multiverse amd64 c-n-f Metadata [116 B]\nGet:31 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1895 kB]\nGet:32 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [311 kB]\nGet:33 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [11.5 kB]\nGet:34 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1385 kB]\nGet:35 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-en [195 kB]\nGet:36 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [596 B]\nGet:37 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [778 kB]\nGet:38 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en [150 kB]\nGet:39 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [16.8 kB]\nGet:40 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [22.2 kB]\nGet:41 http://security.ubuntu.com/ubuntu focal-security/multiverse Translation-en [5464 B]\nGet:42 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [516 B]\nFetched 25.2 MB in 4s (5617 kB/s)\nReading package lists...\n\n...\n\n=============================================================================&gt; Version  Docker Compose:\n\nCurrent version of Docker Compose: docker-compose version 1.25.0, build unknown\ndocker-py version: 4.1.0\nCPython version: 3.8.10\nOpenSSL version: OpenSSL 1.1.1f  31 Mar 2020\n\n==============================================================================\n\n=============================================================================&gt; Version  Docker Desktop:\n\nCurrent version of Docker Desktop: Client: Docker Engine - Community\n Version:           20.10.22\n API version:       1.41\n Go version:        go1.18.9\n Git commit:        3a2c30b\n Built:             Thu Dec 15 22:28:08 2022\n OS/Arch:           linux/amd64\n Context:           default\n Experimental:      true\n\nServer: Docker Engine - Community\n Engine:\n  Version:          20.10.22\n  API version:      1.41 (minimum version 1.12)\n  Go version:       go1.18.9\n  Git commit:       42c8b31\n  Built:            Thu Dec 15 22:25:58 2022\n  OS/Arch:          linux/amd64\n  Experimental:     false\n containerd:\n  Version:          1.6.13\n  GitCommit:        78f51771157abb6c9ed224c22013cdf09962315d\n runc:\n  Version:          1.1.4\n  GitCommit:        v1.1.4-0-g5fd4c4d\n docker-init:\n  Version:          0.19.0\n  GitCommit:        de40ad0\n\n==============================================================================\n\n=============================================================================&gt; Version  dos2unix:\n\nCurrent version of dos2unix: dos2unix 7.4.0 (2017-10-10)\nWith Unicode UTF-16 support.\nWith native language support.\nWith support to preserve the user and group ownership of files.\nLOCALEDIR: /usr/share/locale\nhttp://waterlan.home.xs4all.nl/dos2unix.html\n\n==============================================================================\n\n=============================================================================&gt; Version  unzip:\n\nCurrent version of unzip: UnZip 6.00 of 20 April 2009, by Debian. Original by Info-ZIP.\n\nLatest sources and executables are at ftp://ftp.info-zip.org/pub/infozip/ ;\nsee ftp://ftp.info-zip.org/pub/infozip/UnZip.html for other sites.\n\nCompiled with gcc 9.4.0 for Unix (Linux ELF).\n\nUnZip special compilation options:\n        ACORN_FTYPE_NFS\n        COPYRIGHT_CLEAN (PKZIP 0.9x unreducing method not supported)\n        SET_DIR_ATTRIB\n        SYMLINKS (symbolic links supported, if RTL and file system permit)\n        TIMESTAMP\n        UNIXBACKUP\n        USE_EF_UT_TIME\n        USE_UNSHRINK (PKZIP/Zip 1.x unshrinking method supported)\n        USE_DEFLATE64 (PKZIP 4.x Deflate64(tm) supported)\n        UNICODE_SUPPORT [wide-chars, char coding: UTF-8] (handle UTF-8 paths)\n        LARGE_FILE_SUPPORT (large files over 2 GiB supported)\n        ZIP64_SUPPORT (archives using Zip64 for large files supported)\n        USE_BZIP2 (PKZIP 4.6+, using bzip2 lib version 1.0.8, 13-Jul-2019)\n        VMS_TEXT_CONV\n        WILD_STOP_AT_DIR\n        [decryption, version 2.11 of 05 Jan 2007]\n\nUnZip and ZipInfo environment options:\n           UNZIP:  [none]\n        UNZIPOPT:  [none]\n         ZIPINFO:  [none]\n      ZIPINFOOPT:  [none]\n\n==============================================================================\n\n--------------------------------------------------------------------------------\nDATE TIME : 19.12.2022 10:50:52\n--------------------------------------------------------------------------------\nEnd   ./run_cloud_setup_instance.sh\n================================================================================\n</code></pre>"},{"location":"how_to_update_avstats_on_aws.html","title":"How to update IO-AVSTATS in an AWS instance","text":"<p>The cloud version of IO-AVSTATS consists of a series of docker containers that are launched using Docker Compose. For the PostgreSQL database, the official DockerHub image from here is used. A separate Docker image is created for each of the Streamlit applications. </p>"},{"location":"how_to_update_avstats_on_aws.html#1-docker-images","title":"1. Docker images","text":"<p>Currently, the following Streamlit applications are supported:</p> Application Description all All Streamlit applications ae1982 Aircraft Accidents in the US since 1982 pd1982 Profiling Data for the US since 1982 <p>The script <code>run_io_avstats</code> with task <code>c_d_i</code> can be used to create or update the necessary Docker images.</p> <p>Example protocol:</p> <pre><code>...&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nc_d_i   - Create or update a Docker image\nc_d_c   - Run Docker Compose tasks\nc_f_z   - Zip the files for the cloud\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] c_d_i\n=========================================================\nall      - All Streamlit applications\n---------------------------------------------------------\nae1982 - Aircraft Accidents in the US since 1982\npd1982 - Profiling Data for the US since 1982\n---------------------------------------------------------\nEnter the Streamlit application name all\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Event Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : c_d_i\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  5:26:55.43\nEnter the new time:\n=======================================================================\n\nScript scripts\\run_create_image is now running - Application: all\n\nYou can find the run log in the file run_create_image.log\n\nPlease wait ...\n\n=======================================================================\nStart scripts\\run_create_image\n-----------------------------------------------------------------------\nCreate a Docker image for application all\n-----------------------------------------------------------------------\nDOCKER_CLEAR_CACHE       : yes\nDOCKER_HUB_PUSH          : yes\nSTREAMLIT_SERVER_PORT    : 8501\n-----------------------------------------------------------------------\nThe current time is:  5:26:55.49\nEnter the new time:\n=======================================================================\n\nScript scripts\\run_create_image is now running - Application: ae1982\n\nYou can find the run log in the file run_create_image.log\n\nPlease wait ...\n\n=======================================================================\nStart scripts\\run_create_image\n-----------------------------------------------------------------------\nCreate a Docker image for application ae1982\n-----------------------------------------------------------------------\nDOCKER_CLEAR_CACHE       : yes\nDOCKER_HUB_PUSH          : yes\nSTREAMLIT_SERVER_PORT    : 8501\n-----------------------------------------------------------------------\nThe current time is:  5:26:55.51\nEnter the new time:\n=======================================================================\nDeleted build cache objects:\nuzxx25i0lxo6i63dn7x6m43sf\nk6ij499naa2h1rato1wusqsnb\nybs0ov6x6brbw3mza4ebom3tn\njrl57t6dmkmh16a8cr05eel4v\nmr3hfgjbcvgownt6cgt42hhj8\nv1cew3osiidfg3zjw7oefaxz3\nudbfolcspdf4533lc9km5tlx6\nmpwj560p2a3iao6zvntnb9bmd\najtls8cd4v7c2j0145wpdt62m\nqyva0m4glms5i06qpk50ngydn\n0m34yyo0nfo0njcenkvxgbzuo\ncykj0j5z3dspf7qkltlgiehcx\njhduefpbk7sfzdp3vvw39mcgh\nxee28brnh8940r3yvbt2rvygj\n6b57pxquyoxvqemkpgtwhh0s1\nsvwrr9owakmy9jywyvm3zo0zc\nwjiwh0jvnfkv721221wjbmnjd\nuhf3bsyz66ya2dgg812bxpmj3\n8fq8uoy7bul7us3xbc4y7notj\nodzccrtlsypmao8i86phdqbem\nis2due0y1dwyos9twpcy88qmu\n\nTotal reclaimed space: 2.785GB\nDocker stop/rm ae1982 ................................ before containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                    PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Up 24 minutes             0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 24 minutes (healthy)   0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 24 minutes             0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. after containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                    PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Up 24 minutes             0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 24 minutes (healthy)   0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 24 minutes             0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. before images:\nREPOSITORY               TAG       IMAGE ID       CREATED        SIZE\nioaero/pd1982          latest    21178cc3b8bc   36 hours ago   3.71GB\nioaero/ae1982          latest    55595e574018   36 hours ago   3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago     382MB\npostgres                 latest    a26eb6069868   11 days ago    379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago   350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago   285MB\nioaero/ae1982          latest    55595e574018   36 hours ago   3.71GB\nUntagged: ioaero/ae1982:latest\nUntagged: ioaero/ae1982@sha256:8e0508754352cf9fbfd5c1957df825aab5703d8ec7ed85d6c44358f0bc701e2d\nDeleted: sha256:55595e574018ea4759bb7a13e51aaea8e869fe84e49c17ff05f5234b0b65f6b0\nDeleted: sha256:119fc70cf352a239f7e323ba1d9b7603fb77e899ca0db5b4bc994b577cb55f45\nDeleted: sha256:8922e3751ae2b60d598394358173719c4043d29ae71e8d709a305a5432f70f36\nDeleted: sha256:6a95257bdb25543436f2741138e8e4cdee6121409b665f51d2f2fdcb3228a8bc\nDeleted: sha256:7c6422e12c7c23e441493c9177661519dd616a418c7cd9ea6c3acfab981b5279\nDeleted: sha256:3539296c13a8b190f45a4d7d66330d3396e5b1d5e81200ae492b0a0b1fe8b914\nDeleted: sha256:06758fe39d1e7343a30e0f4d62d57abd997164a4840c6af6136953f12953f81d\nDeleted: sha256:6a2295de770bec3782f572ee92533e5c120dda4a7a8f07faea3fe21a8fa5b9d2\nDeleted: sha256:82fa1f4f9b491d32fa8f2fda71e7c8223f2ea66d85b92b19869554e4342f2a55\n............................................................. after images:\nREPOSITORY               TAG       IMAGE ID       CREATED        SIZE\nioaero/pd1982          latest    21178cc3b8bc   36 hours ago   3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago     382MB\npostgres                 latest    a26eb6069868   11 days ago    379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago   350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago   285MB\n[+] Building 126.0s (16/16) FINISHED\n =&gt; [internal] load build definition from Dockerfile                                                                                                                                  0.1s\n =&gt; =&gt; transferring dockerfile: 685B                                                                                                                                                  0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                     0.1s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                       0.0s\n =&gt; [internal] load metadata for docker.io/library/python:3.10.9                                                                                                                      1.6s\n =&gt; [auth] library/python:pull token for registry-1.docker.io                                                                                                                         0.0s\n =&gt; [internal] load build context                                                                                                                                                     0.1s\n =&gt; =&gt; transferring context: 54.51kB                                                                                                                                                  0.0s\n =&gt; [ 1/10] FROM docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                              0.3s\n =&gt; =&gt; resolve docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                                0.0s\n =&gt; =&gt; sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6 2.36kB / 2.36kB                                                                                        0.0s\n =&gt; =&gt; sha256:3aae3bded9cfb06e92d7342abf1833b156fe197522ffbde031363194c429c8d5 8.53kB / 8.53kB                                                                                        0.0s\n =&gt; =&gt; sha256:08dfb526b02f1b849ca4ce479b51f100448053a67b64905a63dcdad2fe6802c5 2.22kB / 2.22kB                                                                                        0.0s\n =&gt; [ 2/10] WORKDIR /home                                                                                                                                                             0.0s\n =&gt; [ 3/10] COPY .settings.io_avstats.toml ./                                                                                                                                         0.0s\n =&gt; [ 4/10] COPY .streamlit/config.toml ./.streamlit/                                                                                                                                 0.0s\n =&gt; [ 5/10] COPY .streamlit/secrets_4_dockerfile.toml ./.streamlit/secrets.toml                                                                                                       0.0s\n =&gt; [ 6/10] COPY Makefile ./                                                                                                                                                          0.0s\n =&gt; [ 7/10] COPY Pipfile ./                                                                                                                                                           0.0s\n =&gt; [ 8/10] COPY settings.io_avstats_4_dockerfile.toml ./settings.io_avstats.toml                                                                                                     0.0s\n =&gt; [ 9/10] COPY src/streamlit_apps/ae1982.py ./ae1982.py                                                                                                                         0.0s\n =&gt; [10/10] RUN make pipenv-prod                                                                                                                                                    116.1s\n =&gt; exporting to image                                                                                                                                                                7.6s\n =&gt; =&gt; exporting layers                                                                                                                                                               7.6s\n =&gt; =&gt; writing image sha256:9c52d19f49cab5d423d3829c9bf9a275646a6c8102664798439d2f6a8a36ec70                                                                                          0.0s\n =&gt; =&gt; naming to docker.io/ioaero/ae1982                                                                                                                                            0.0s\nUsing default tag: latest\nThe push refers to repository [docker.io/ioaero/ae1982]\ne0d3af52dd2a: Pushed\n02cd2263f756: Pushed\n4303b7702627: Pushed\n09bdea621e5d: Pushed\n4fa461cf256d: Pushed\n36b2ed23b0c8: Pushed\nbf522582bcc8: Pushed\n568d53719d94: Pushed\n5f70bf18a086: Layer already exists\n6cda7fb97c48: Layer already exists\na5ea5c85f053: Layer already exists\n86ee53f76eff: Layer already exists\n248397b6b856: Layer already exists\nfa1175420e6f: Layer already exists\nbb2453e12947: Layer already exists\n7354e83da007: Layer already exists\nc284f546974c: Layer already exists\n4efcd4003c84: Layer already exists\nlatest: digest: sha256:7a10f6e705635ba099fc1e7751ce8ba7e8ab42a3effd1c85e5e391e87b3d7713 size: 4090\n-----------------------------------------------------------------------\nThe current time is:  5:29:48.32\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_create_image\n=======================================================================\n\nScript scripts\\run_create_image is now running - Application: pd1982\n\nYou can find the run log in the file run_create_image.log\n\nPlease wait ...\n\n=======================================================================\nStart scripts\\run_create_image\n-----------------------------------------------------------------------\nCreate a Docker image for application pd1982\n-----------------------------------------------------------------------\nDOCKER_CLEAR_CACHE       : yes\nDOCKER_HUB_PUSH          : yes\nSTREAMLIT_SERVER_PORT    : 8501\n-----------------------------------------------------------------------\nThe current time is:  5:29:48.34\nEnter the new time:\n=======================================================================\nDeleted build cache objects:\nthhicfsjzega5hhfsfhgazo5f\nc0hrwt7xm4gqwku594jwovtxy\nmj3v2y03lne206mx98ck6bs5q\nt91qc536n2yxg4khxtg8ujpy7\nmxil38rm6bwdx496jkxz7mlao\nd8yhfp8fu7c8pyswiomy19unw\nypkmd6a84ytbkimlxvc5hge2r\ntbn52lkr2rwt8kgl4taocwdq9\n0hhmtdy5632ayhrwjbknd6wmu\nv9nu6ong6kpge0wgy5hw7msd0\n5wab3qctjhthudw31strfmcas\ncvx5a4vxg4wl96bm66r65c3im\n05e4dt4o8ts5myzatdapc3zbp\nrei1avwchsi7rcwwwxyqj5bek\nuuz6tgeqx4aakkd5rk6mviwqw\nkuiq5mq3o4fdr7t1fjh59kf3z\nsz0a79o1lfbfjoffp2xad68d9\np5srd861jgkz1jim3hlagwy5k\nk9hr87wufmsxkrcn95mvzncx9\nd0y2kal9jkigo3d1iwmnv6c5x\ncop4h1ejwr20j5i6ilnjm2udh\n\nTotal reclaimed space: 2.787GB\nDocker stop/rm pd1982 ................................ before containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                          PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Exited (0) About a minute ago                                                              io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 27 minutes (healthy)         0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 27 minutes                   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. after containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                          PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Exited (0) About a minute ago                                                              io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 27 minutes (healthy)         0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 27 minutes                   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. before images:\nREPOSITORY               TAG       IMAGE ID       CREATED          SIZE\nioaero/ae1982          latest    9c52d19f49ca   53 seconds ago   3.71GB\nioaero/pd1982          latest    21178cc3b8bc   36 hours ago     3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago       382MB\npostgres                 latest    a26eb6069868   11 days ago      379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago     350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago     285MB\nioaero/pd1982          latest    21178cc3b8bc   36 hours ago     3.71GB\nUntagged: ioaero/pd1982:latest\nUntagged: ioaero/pd1982@sha256:81275d3926397906a73a897d067081b957a94c944c01fede413eb998916abdb3\nDeleted: sha256:21178cc3b8bc68774299f0015c9aff0ff819078d62174db6e13da31fe8253ece\nDeleted: sha256:b0403dd2d4728d6cdb151bdd2e182b3170de1b0cbf5f0b7e00c17dddcc389f5b\nDeleted: sha256:10742399ddf223a435aaf2674a553baf3c5a1345aad7d6a4f5dabe4a4398ad25\nDeleted: sha256:154ad29ff275517ad1f803aa1efc0bb372ea9f37d7f0273b432ae1dfa8af87c2\nDeleted: sha256:2ffd78873dbaec78fbcf969f45396338bdb809f38c04a41862f74c4d18ded62e\nDeleted: sha256:faf980ada2cc0547773a54a6a55bae285088dd9afb7f29a0f1f36a6230f406c9\nDeleted: sha256:9bbb505d8de414f3da1416a76cd56e6e8144e35652bf06b9b2f389d5ade00aea\nDeleted: sha256:ccd5b1ddd9e1cfb8897f307f303097fafd12e1cf3220603419c03a4394138653\nDeleted: sha256:2be71d95e8f20b84ab51375e52afc7665926a2ac52e22b32b82bb8f374082d13\n............................................................. after images:\nREPOSITORY               TAG       IMAGE ID       CREATED          SIZE\nioaero/ae1982          latest    9c52d19f49ca   54 seconds ago   3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago       382MB\npostgres                 latest    a26eb6069868   11 days ago      379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago     350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago     285MB\n[+] Building 125.4s (15/15) FINISHED\n =&gt; [internal] load build definition from Dockerfile                                                                                                                                  0.0s\n =&gt; =&gt; transferring dockerfile: 685B                                                                                                                                                  0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                     0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                       0.0s\n =&gt; [internal] load metadata for docker.io/library/python:3.10.9                                                                                                                      1.0s\n =&gt; [ 1/10] FROM docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                              0.4s\n =&gt; =&gt; resolve docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                                0.0s\n =&gt; =&gt; sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6 2.36kB / 2.36kB                                                                                        0.0s\n =&gt; =&gt; sha256:08dfb526b02f1b849ca4ce479b51f100448053a67b64905a63dcdad2fe6802c5 2.22kB / 2.22kB                                                                                        0.0s\n =&gt; =&gt; sha256:3aae3bded9cfb06e92d7342abf1833b156fe197522ffbde031363194c429c8d5 8.53kB / 8.53kB                                                                                        0.0s\n =&gt; [internal] load build context                                                                                                                                                     0.0s\n =&gt; =&gt; transferring context: 43.50kB                                                                                                                                                  0.0s\n =&gt; [ 2/10] WORKDIR /home                                                                                                                                                             0.0s\n =&gt; [ 3/10] COPY .settings.io_avstats.toml ./                                                                                                                                         0.1s\n =&gt; [ 4/10] COPY .streamlit/config.toml ./.streamlit/                                                                                                                                 0.0s\n =&gt; [ 5/10] COPY .streamlit/secrets_4_dockerfile.toml ./.streamlit/secrets.toml                                                                                                       0.0s\n =&gt; [ 6/10] COPY Makefile ./                                                                                                                                                          0.0s\n =&gt; [ 7/10] COPY Pipfile ./                                                                                                                                                           0.0s\n =&gt; [ 8/10] COPY settings.io_avstats_4_dockerfile.toml ./settings.io_avstats.toml                                                                                                     0.1s\n =&gt; [ 9/10] COPY src/streamlit_apps/pd1982.py ./pd1982.py                                                                                                                         0.0s\n =&gt; [10/10] RUN make pipenv-prod                                                                                                                                                    116.0s\n =&gt; exporting to image                                                                                                                                                                7.6s\n =&gt; =&gt; exporting layers                                                                                                                                                               7.6s\n =&gt; =&gt; writing image sha256:352591832f346b0b30d89f33e01572eb1710024841c0d6fecd53a74b22ca5c09                                                                                          0.0s\n =&gt; =&gt; naming to docker.io/ioaero/pd1982                                                                                                                                            0.0s\nUsing default tag: latest\nThe push refers to repository [docker.io/ioaero/pd1982]\nfcd1849b77ee: Pushed\n9b8fc3075985: Pushed\n23c8d1891816: Pushed\nadebe552f5a4: Pushed\n1dddc5e9e66a: Pushed\nad5de2585a3a: Pushed\nbf4ee8dfaa14: Pushed\n3e99a612e0bf: Pushed\n5f70bf18a086: Layer already exists\n6cda7fb97c48: Layer already exists\na5ea5c85f053: Layer already exists\n86ee53f76eff: Layer already exists\n248397b6b856: Layer already exists\nfa1175420e6f: Layer already exists\nbb2453e12947: Layer already exists\n7354e83da007: Layer already exists\nc284f546974c: Layer already exists\n4efcd4003c84: Layer already exists\nlatest: digest: sha256:466fe6edd661ee9067d0e77e0fbd1f44acbce0cc6e7f5468dd7e8bf1b6bf05ec size: 4090\n-----------------------------------------------------------------------\nThe current time is:  5:32:40.32\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_create_image\n=======================================================================\n-----------------------------------------------------------------------\nThe current time is:  5:32:40.33\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_create_image\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is:  5:32:40.34\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_update_avstats_on_aws.html#2-zip-local-files","title":"2. Zip local files","text":"<p>The script <code>run_io_avstats</code> with task <code>c_f_z</code> zips the required files into the <code>cloud.zip</code> file. The very first thing the script does is stop the PostgreSQL database so that the database files are in a consistent state. Then zip the file directory <code>data/postgres</code> and rename the zipped file <code>postgres.zip</code> to <code>latest_postgres.zip</code>.</p> <p>Example protocol:</p> <pre><code>D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nc_d_i   - Create or update a Docker image\nc_d_c   - Run Docker Compose tasks\nc_f_z   - Zip the files for the cloud\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] c_f_z\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Event Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : c_f_z\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  5:35:14.64\nEnter the new time:\n=======================================================================\n=======================================================================\nStart scripts\\run_cloud_files_zip\n-----------------------------------------------------------------------\nFile Collection for AWS\n-----------------------------------------------------------------------\nThe current time is:  5:35:14.67\nEnter the new time:\n=======================================================================\n\n7-Zip (a) [32] 15.14 : Copyright (c) 1999-2015 Igor Pavlov : 2015-12-31\n\nScanning the drive:\n3 files, 290463129 bytes (278 MiB)\n\nCreating archive: cloud.zip\n\nItems to compress: 3\n\nFiles read from disk: 3\nArchive size: 280942218 bytes (268 MiB)\nEverything is Ok\n\n=======================================================================\nArchive Content\n-----------------------------------------------------------------------\n\n7-Zip (a) [32] 15.14 : Copyright (c) 1999-2015 Igor Pavlov : 2015-12-31\n\nScanning the drive for archives:\n1 file, 280942218 bytes (268 MiB)\n\nListing archive: cloud.zip\n\n--\nPath = cloud.zip\nType = zip\nPhysical Size = 280942218\n\n   Date      Time    Attr         Size   Compressed  Name\n------------------- ----- ------------ ------------  ------------------------\n2023-01-02 23:47:48 ....A    290453357    280940090  data\\latest_postgres.zip\n2022-12-27 01:44:14 ....A         1666          441  docker-compose.yml\n2023-01-01 16:40:06 ....A         8106         1187  scripts\\run_docker_compose.sh\n------------------- ----- ------------ ------------  ------------------------\n2023-01-02 23:47:48          290463129    280941718  3 files\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is:  5:35:23.32\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_cloud_files_zip\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is:  5:35:23.33\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_update_avstats_on_aws.html#3-upload-zip-file","title":"3. Upload zip file","text":"<p>On Windows, the WinSCP program can be used to upload the <code>cloud.zip</code> file from the local system to the AWS Cloud.</p> <p></p> <p></p>"},{"location":"how_to_update_avstats_on_aws.html#4-connect-to-the-aws-instance","title":"4. Connect to the AWS instance","text":""},{"location":"how_to_update_avstats_on_aws.html#5-unzip-in-the-cloud","title":"5. Unzip in the cloud","text":"<p>First, the file <code>cloud.zip</code> is unzipped.</p> <ul> <li><code>unzip cloud.zip</code></li> </ul> <p>Subsequently, the shell script must be made executable:</p> <ul> <li><code>chmod +x scripts/*.sh</code></li> </ul> <p>Afterwards , a possibly running IO-AVSTATS is terminated.</p> <ul> <li><code>./scripts/run_docker_compose.sh down</code></li> </ul> <p>Next, unzip the database files.</p> <ul> <li><code>cd data</code></li> <li><code>sudo rm -rf postgres</code></li> <li><code>unzip latest_postgres.zip</code></li> </ul> <p>Finally, clean up unnecessary files.</p> <ul> <li><code>rm latest_postgres.zip</code></li> <li><code>cd ..</code></li> <li><code>rm cloud.zip</code></li> </ul>"},{"location":"how_to_update_avstats_on_aws.html#5-restart-io-avstats","title":"5. Restart *IO-AVSTATS","text":"<ul> <li><code>./scripts/run_docker_compose.sh up</code></li> </ul>"},{"location":"how_to_update_avstats_on_aws.html#6-test-the-streamlit-applications","title":"6. Test the Streamlit applications","text":""},{"location":"operation.html","title":"Operation","text":"<p>Please see here</p> <p>The main tool for operating IO-AVSTATS is the <code>run_io_avstats</code> script.  The script is available in a Windows command line version and in a Linux bash shell version.</p> <p>The following tasks can be executed with this script:</p> Code Task Additional parameter(s) <code>c_d_s</code> Create the PostgreSQL database schema <code>c_l_l</code> Correct decimal US latitudes and longitudes <code>c_p_d</code> Cleansing PostgreSQL data <code>d_d_f</code> Delete the PostgreSQL database files <code>d_d_s</code> Drop the PostgreSQL database schema <code>d_n_a</code> Download a NTSB MS Access database file -m / -msaccess <code>d_s_f</code> Download basic simplemaps files <code>d_z_f</code> Download the ZIP Code Database file <code>l_c_d</code> Load data from a correction file into PostgreSQL -c / -correction <code>l_c_s</code> Load country and state data into PostgreSQL <code>l_n_a</code> Load NTSB MS Access database data into PostgreSQL -m / -msaccess <code>l_s_d</code> Load simplemaps data into PostgreSQL <code>l_z_d</code> Load ZIP Code Database data into PostgreSQL <code>r_d_s</code> Refresh the PostgreSQL database schema <code>s_d_c</code> Set up the PostgreSQL database container <code>u_d_s</code> Update the PostgreSQL database schema <code>v_n_d</code> Verify selected NTSB data"},{"location":"operation.html#1-detailed-task-list","title":"1. Detailed task list","text":""},{"location":"operation.html#11-c_d_s-create-the-postgresql-database-schema","title":"1.1 <code>c_d_s</code> - Create the PostgreSQL database schema","text":"<p>The creation of the database schema includes the following steps, among others:</p> <ol> <li>creation of a new database user, and</li> <li>creation of a new database, and</li> <li>creation of database objects such as database tables and so on.</li> </ol> <p>The following parameters are used when creating the database schema:</p> <ul> <li><code>postgres_dbname_admin</code> - administration database name</li> <li><code>postgres_password_admin</code> - administration database password</li> <li><code>postgres_user_admin</code> - administration database username</li> </ul> <p>Subsequently, the task <code>u_d_s</code> (Update the PostgreSQL database schema) is also executed.</p> <p>Successful creation of a new database schema requires that neither the user to be created nor the database to be created exists in the PostgreSQL DBMS. This is achieved by the previous execution of the following task:</p> <ul> <li><code>d_d_s</code> - Drop the PostgreSQL database schema</li> </ul> <p>Example protocol:</p> <pre><code>Progress update 2022-11-26 02:25:26.802413 : ===============================================================================.\nProgress update 2022-11-26 02:25:26.802413 : INFO.00.004 Start Launcher.\nProgress update 2022-11-26 02:25:26.804413 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-26 02:25:26.812413 : INFO.00.005 Argument task='c_d_s'.\nProgress update 2022-11-26 02:25:26.812413 : -------------------------------------------------------------------------------.\nProgress update 2022-11-26 02:25:26.812413 : INFO.00.044 Creating the database schema.\nProgress update 2022-11-26 02:25:26.812913 : --------------------------------------------------------------------------------\nProgress update 2022-11-26 02:25:26.899052 : INFO.00.016 Database user is available: io_aero.\nProgress update 2022-11-26 02:25:27.874113 : INFO.00.017 Database is available: io_avstats_dev_db.\nProgress update 2022-11-26 02:25:28.024496 : INFO.00.007 Database table is available: events.\nProgress update 2022-11-26 02:25:28.132516 : INFO.00.007 Database table is available: aircraft.\nProgress update 2022-11-26 02:25:28.191012 : INFO.00.007 Database table is available: dt_events.\nProgress update 2022-11-26 02:25:28.241033 : INFO.00.007 Database table is available: ntsb_admin.\nProgress update 2022-11-26 02:25:28.298867 : INFO.00.007 Database table is available: dt_aircraft.\nProgress update 2022-11-26 02:25:28.357619 : INFO.00.007 Database table is available: engines.\nProgress update 2022-11-26 02:25:28.415529 : INFO.00.007 Database table is available: events_sequence.\nProgress update 2022-11-26 02:25:28.465931 : INFO.00.007 Database table is available: findings.\nProgress update 2022-11-26 02:25:28.666134 : INFO.00.007 Database table is available: flight_crew.\nProgress update 2022-11-26 02:25:28.757239 : INFO.00.007 Database table is available: injury.\nProgress update 2022-11-26 02:25:28.840655 : INFO.00.007 Database table is available: narratives.\nProgress update 2022-11-26 02:25:28.890426 : INFO.00.007 Database table is available: occurrences.\nProgress update 2022-11-26 02:25:28.940723 : INFO.00.007 Database table is available: dt_flight_crew.\nProgress update 2022-11-26 02:25:28.990598 : INFO.00.007 Database table is available: flight_time.\nProgress update 2022-11-26 02:25:29.057116 : INFO.00.007 Database table is available: seq_of_events.\nProgress update 2022-11-26 02:25:29.107615 : INFO.00.007 Database table is available: io_countries.\nProgress update 2022-11-26 02:25:29.157116 : INFO.00.007 Database table is available: io_states.\nProgress update 2022-11-26 02:25:29.224119 : INFO.00.007 Database table is available: io_lat_lng.\nProgress update 2022-11-26 02:25:29.290617 : INFO.00.007 Database table is available: io_processed_files.\nProgress update 2022-11-26 02:25:29.290617 : --------------------------------------------------------------------------------\nProgress update 2022-11-26 02:25:29.290617 : INFO.00.045 Updating the database schema.\nProgress update 2022-11-26 02:25:29.291115 : --------------------------------------------------------------------------------\nProgress update 2022-11-26 02:25:29.407115 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_city'.\nProgress update 2022-11-26 02:25:29.432118 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_country'.\nProgress update 2022-11-26 02:25:29.457114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_lat_lng_actions'.\nProgress update 2022-11-26 02:25:29.482114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_latitude'.\nProgress update 2022-11-26 02:25:29.507115 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_longitude'.\nProgress update 2022-11-26 02:25:29.532116 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_latitude'.\nProgress update 2022-11-26 02:25:29.557114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_longitude'.\nProgress update 2022-11-26 02:25:29.582115 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_latitude'.\nProgress update 2022-11-26 02:25:29.607614 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_longitude'.\nProgress update 2022-11-26 02:25:29.632114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_city'.\nProgress update 2022-11-26 02:25:29.657614 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_state'.\nProgress update 2022-11-26 02:25:29.682117 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_zipcode'.\nProgress update 2022-11-26 02:25:29.707116 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_latitude'.\nProgress update 2022-11-26 02:25:29.731616 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_longitude'.\nProgress update 2022-11-26 02:25:29.756848 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_site_zipcode'.\nProgress update 2022-11-26 02:25:29.781847 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_state'.\nProgress update 2022-11-26 02:25:29.806863 : INFO.00.032 Database view is available: io_accidents_us_1982.\nProgress update 2022-11-26 02:25:29.831848 : INFO.00.032 Database view is available: io_lat_lng_issues.\nProgress update 2022-11-26 02:25:29.831848 : -------------------------------------------------------------------------------.\nProgress update 2022-11-26 02:25:29.832351 :        3,172,935,000 ns - Total time launcher.\nProgress update 2022-11-26 02:25:29.832351 : INFO.00.006 End   Launcher.\nProgress update 2022-11-26 02:25:29.832351 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#12-c_l_l-correct-decimal-us-latitudes-and-longitudes","title":"1.2 <code>c_l_l</code> - Correct decimal US latitudes and longitudes","text":"<p>TODO</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 14:26:53.195199 : ===============================================================================.\nProgress update 2022-11-29 14:26:53.195199 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 14:26:53.197199 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 14:26:53.205699 : INFO.00.005 Argument task='c_l_l'.\nProgress update 2022-11-29 14:26:53.205699 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:26:53.205699 : INFO.00.040 Correct decimal US latitudes and longitudes.\nProgress update 2022-11-29 14:26:53.205699 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:26:56.179717 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:26:56.217217 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:26:56.255218 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:26:56.350217 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:26:56.418218 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:26:56.506301 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:26:56.544302 : Number of rows so far read :  35000.\nProgress update 2022-11-29 14:26:56.582301 : Number of rows so far read :  40000.\nProgress update 2022-11-29 14:26:58.644218 : Number of rows so far read :  45000.\nProgress update 2022-11-29 14:27:04.165484 : Number of rows so far read :  50000.\nProgress update 2022-11-29 14:27:04.202984 : Number of rows so far read :  55000.\nProgress update 2022-11-29 14:27:04.264984 : Number of rows so far read :  60000.\nProgress update 2022-11-29 14:27:04.302484 : Number of rows so far read :  65000.\nProgress update 2022-11-29 14:27:04.340484 : Number of rows so far read :  70000.\nProgress update 2022-11-29 14:27:04.378484 : Number of rows so far read :  75000.\nProgress update 2022-11-29 14:27:04.416985 : Number of rows so far read :  80000.\nProgress update 2022-11-29 14:27:04.454984 : Number of rows so far read :  85000.\nProgress update 2022-11-29 14:27:04.494488 : Number of rows so far read :  90000.\nProgress update 2022-11-29 14:27:04.533484 : Number of rows so far read :  95000.\nProgress update 2022-11-29 14:27:26.444050 : Number of rows so far read : 100000.\nProgress update 2022-11-29 14:28:59.310881 : Number of rows so far read : 105000.\nProgress update 2022-11-29 14:29:13.783233 : Number of rows so far read : 110000.\nProgress update 2022-11-29 14:30:30.710774 : Number of rows so far read : 115000.\nProgress update 2022-11-29 14:32:47.465443 : Number of rows so far read : 120000.\nProgress update 2022-11-29 14:35:07.660574 : Number of rows so far read : 125000.\nProgress update 2022-11-29 14:37:26.256310 : Number of rows so far read : 130000.\nProgress update 2022-11-29 14:39:43.194030 : Number of rows so far read : 135000.\nProgress update 2022-11-29 14:39:43.332530 : Number rows selected : 135081.\nProgress update 2022-11-29 14:39:43.332530 : Number rows updated  :  26989.\nProgress update 2022-11-29 14:39:43.333028 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:39:43.333028 :      770,285,829,500 ns - Total time launcher.\nProgress update 2022-11-29 14:39:43.333028 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 14:39:43.333028 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#13-c_p_d-cleansing-postgresql-data","title":"1.3 <code>c_p_d</code> - Cleansing PostgreSQL data","text":"<p>The task cleans up data abnormalities in the database.  This includes the following activities:</p> <ul> <li>remove trailing whitespace in string data types (trimming),</li> <li>converting string data types that contain only whitespace to NULL (nullifying).</li> </ul> <p>As a result, a much simplified simplification of data is possible, e.g. for comparisons.</p> <p>The functionality is limited to the following database columns:</p> DB table DB columns events ev_city, ev_site_zipcode, latitude, longitude <p>On the one hand, the task can be executed explicitly with the <code>run_io_avstats_db</code> script (task <code>c_p_d</code>) and, on the other hand, it always runs after loading NTSB MS Access data into the PostgreSQL database (task <code>l_n_a</code>).</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 13:03:13.182527 : ===============================================================================.\nProgress update 2022-11-29 13:03:13.182527 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 13:03:13.184528 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 13:03:13.192529 : INFO.00.005 Argument task='c_p_d'.\nProgress update 2022-11-29 13:03:13.193028 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 13:03:13.193028 : INFO.00.065 Cleansing PostgreSQL data.\nProgress update 2022-11-29 13:03:13.193028 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:13.264027 : INFO.00.066 Cleansing table 'events' column 'ev_city'.\nProgress update 2022-11-29 13:03:14.812228 : Number cols trimmed  :  47967.\nProgress update 2022-11-29 13:03:14.853583 : Number cols nullified:      4.\nProgress update 2022-11-29 13:03:14.854085 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:14.854085 : INFO.00.066 Cleansing table 'events' column 'ev_site_zipcode'.\nProgress update 2022-11-29 13:03:15.795002 : Number cols trimmed  :  48691.\nProgress update 2022-11-29 13:03:15.870127 : Number cols nullified:   2299.\nProgress update 2022-11-29 13:03:15.870127 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:15.870632 : INFO.00.066 Cleansing table 'events' column 'latitude'.\nProgress update 2022-11-29 13:03:16.720436 : Number cols trimmed  :  42292.\nProgress update 2022-11-29 13:03:17.979937 : Number cols nullified:  42292.\nProgress update 2022-11-29 13:03:17.980436 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:17.980436 : INFO.00.066 Cleansing table 'events' column 'longitude'.\nProgress update 2022-11-29 13:03:19.136341 : Number cols trimmed  :  42292.\nProgress update 2022-11-29 13:03:21.218871 : Number cols nullified:  42292.\nProgress update 2022-11-29 13:03:21.218871 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 13:03:21.218871 :        8,180,840,400 ns - Total time launcher.\nProgress update 2022-11-29 13:03:21.219372 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 13:03:21.219372 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#14-d_d_f-delete-the-postgresql-database-files","title":"1.4 <code>d_d_f</code> - Delete the PostgreSQL database files","text":"<p>This task deletes all PostgreSQL database files. The execution requires administration rights. Subsequently, the PostgreSQL database must be completely rebuilt.</p> <p>Tip: The administration password is required to use the administration rights.  This can be difficult with the Windows operating system, as there seems to be no functionality to set the administration password.  The use of the Windows Subsystem for Linux can help here. </p>"},{"location":"operation.html#15-d_d_s-drop-the-postgresql-database-schema","title":"1.5 <code>d_d_s</code> - Drop the PostgreSQL database schema","text":"<p>Successful execution of this task requires that no other process uses the database defined with the <code>postgres_dbname</code> parameter. After execution, the database with all objects and the database user defined with the <code>postgres_user</code> parameter are deleted.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-22 19:40:05.757556 : ===============================================================================.\nProgress update 2022-11-22 19:40:05.757556 : INFO.00.004 Start Launcher.\nProgress update 2022-11-22 19:40:05.762558 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-22 19:40:05.771056 : INFO.00.005 Argument task='d_d_s'.\nProgress update 2022-11-22 19:40:05.771558 : -------------------------------------------------------------------------------.\nProgress update 2022-11-22 19:40:05.771558 : INFO.00.046 Dropping the database schema.\nProgress update 2022-11-22 19:40:05.771558 : -------------------------------------------------------------------------------.\nProgress update 2022-11-22 19:40:06.742328 : INFO.00.019 Database is dropped: io_avstats_db.\nProgress update 2022-11-22 19:40:06.775829 : INFO.00.018 Database user is dropped: io_aero.\nProgress update 2022-11-22 19:40:06.775829 : -------------------------------------------------------------------------------.\nProgress update 2022-11-22 19:40:06.775829 :        1,186,272,600 ns - Total time launcher.\nProgress update 2022-11-22 19:40:06.775829 : INFO.00.006 End   Launcher.\nProgress update 2022-11-22 19:40:06.776329 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#16-d_n_a-download-a-ntsb-ms-access-database-file","title":"1.6 <code>d_n_a</code> - Download a NTSB MS Access database file","text":"<p>This task allows files containing aviation accident data to be downloaded from the NTSB download site. These files are there as MS Access databases in a compressed format. The following subtasks are executed:</p> <ol> <li>A connection to the NTSB download page is established.</li> <li>The selected file is downloaded to the local system in chunks. </li> <li>The downloaded file is then unpacked. </li> <li>A script with the database schema definition is created with RazorSQL from the downloaded database.</li> <li>The newly created script is then compared with a reference script for matching.</li> </ol> <p>Subsequently, the downloaded data can be loaded into the PostgreSQL database with the task <code>l_n_a</code> (Load NTSB MS Access database data into PostgreSQL).</p> <p>Further details can be found here.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-23 12:20:05.623207 : ===============================================================================.\nProgress update 2022-11-23 12:20:05.623207 : INFO.00.004 Start Launcher.\nProgress update 2022-11-23 12:20:05.625207 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-23 12:20:05.633207 : INFO.00.008 Arguments task='d_n_a' msaccess='up22oct'.\nProgress update 2022-11-23 12:20:05.633707 : -------------------------------------------------------------------------------.\nProgress update 2022-11-23 12:20:05.633707 : INFO.00.047 Downloading NTSB MS Access database file 'up22OCT'.\nProgress update 2022-11-23 12:20:05.633707 : --------------------------------------------------------------------------------\nProgress update 2022-11-23 12:20:06.163453 : INFO.00.013 The connection to the MS Access database file 'up22OCT.zip' on the NTSB download page was successfully established.\nProgress update 2022-11-23 12:20:07.188487 : INFO.00.014 From the file 'up22OCT.zip' 2 chunks were downloaded.\nProgress update 2022-11-23 12:20:07.206986 : INFO.00.015 The file 'up22OCT.zip' was successfully unpacked.\nProgress update 2022-11-23 12:20:07.218987 : INFO.00.051 msaccess_file     ='D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\IO-AVSTATS.mdb'.\nProgress update 2022-11-23 12:20:07.219487 : INFO.00.051 msaccess_file     ='D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\up22OCT.sql'.\nProgress update 2022-11-23 12:20:07.219487 : INFO.00.052 razorsql_jar_file ='C:\\Program Files\\RazorSQL\\razorsql.jar'.\nProgress update 2022-11-23 12:20:07.219487 : INFO.00.053 razorsql_java_path='C:\\Program Files\\RazorSQL\\jre11\\bin\\java'.\n1669202407306: launching RazorSQL . . .\n1669202407307: args . . .\n-backup\nIO-AVSTATS\nnull\nnull\n;\nnull\nD:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\up22OCT.sql\nNO\ntables\nYES\nnull\nNO\nNO\n1669202407342: userName: walte\n1669202407342: libraryPath: C:\\Program Files\\RazorSQL\\jre11\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Users\\walte\\.virtualenvs\\io-avstats-db-NXLRYNgF\\Scripts;C:\\Program Files (x86)\\VMware\\VMware Player\\bin\\;C:\\Program Files (x86)\\infogridpacific\\AZARDI;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Calibre2\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Git LFS;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files\\Pandoc\\;C:\\Program Files\\TortoiseGit\\bin;C:\\Software\\GnuWin32\\bin;C:\\WINDOWS;C:\\WINDOWS\\system32;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Users\\walte\\.nimble\\bin;C:\\Windows;C:\\Windows\\system32;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Software\\.cargo\\bin;%GRADLE_HOME%\\bin;%HOME_ELIXIR%\\bin;%HOME_ERLANG%\\bin;%HOME_GO%\\bin;%HOME_JULIA%\\bin;%HOME_NIM%\\bin;C:\\Software\\PostgreSQL\\15\\bin;C:\\Software\\poppler-0.68.0\\bin;C:\\Software\\Python\\Python310;C:\\Software\\Python\\Python310\\Scripts;C:\\Software\\rebar3;%HOME_RUST%\\bin;C:\\Software\\Tesseract-OCR;C:\\Software\\jdk-18.0.2\\bin;%KOTLIN_HOME%\\bin;C:\\Software\\oracle\\instantclient_21_6;C:\\Software\\Gpg4win\\..\\GnuPG\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\LLVM\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Users\\walte\\.cargo\\bin;C:\\Users\\walte\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Software\\Microsoft VS Code\\bin;C:\\Users\\walte\\go\\bin;C:\\Software\\texlive\\2021\\bin\\win32;c:\\users\\walte\\.local\\bin;C:\\Users\\walte\\AppData\\Local\\JetBrains\\Toolbox\\scripts;C:\\Users\\walte\\AppData\\Roaming\\npm;.\n1669202407343: javaVersion: 11.0.13\n1669202407343:\n1669202407343: Verifying RazorSQL resources location.\n1669202407343:\n1669202407343: testing base url: / = file:/C:/Program%20Files/RazorSQL/\n1669202407343:\n1669202407344: testString1: file:/C:/Program%20Files/RazorSQL/razorsql.jar\n1669202407344: testString2: file:/C:/Program%20Files/RazorSQL/data/base.ssql\n1669202407344: testFile1: C:\\Program Files\\RazorSQL\\razorsql.jar\n1669202407344: testFile2: C:\\Program Files\\RazorSQL\\data\\base.ssql\n1669202407344: both test file exists.  Base URL found.\n1669202407344: resource directory: file:/C:/Program%20Files/RazorSQL/\n1669202407344: user home: C:\\Users\\walte\n1669202407346: user profile: C:\\Users\\walte\n1669202407346: app data: C:\\Users\\walte\\AppData\\Roaming\n1669202407346: checking write access to: C:\\Users\\walte\\AppData\\Roaming\n1669202407346: write dir: C:\\Users\\walte\\AppData\\Roaming\\RichardsonSoftware\n1669202407346: can write to C:\\Users\\walte\\AppData\\Roaming\n1669202407346: user.home: C:\\Users\\walte\\AppData\\Roaming\n1669202407346: RazorSQL Scratch Directory: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\n1669202407347: RazorSQL Scratch Directory exists\n1669202407347: checking for sub directories\n1669202407347: razorsql launch log: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\razorsql_launch_log.txt\n1669202407347: launch log file = C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\razorsql_launch_log.txt\n1669202407347: Checking for graphics properties\n1669202407348: graphics properties file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\graphics_properties.txt\n1669202407348: gOverride: null\n1669202407348: not disabling advanced graphics\n1669202407348: path0: file:/C:/Program%20Files/RazorSQL/data/run.ssql\n1669202407348: path1: file:/C:/Program%20Files/RazorSQL/razorsql.jar\n1669202407348: runArgs: true\n1669202407348: showScreen: false\n1669202407349: args[0]: -backup\n1669202407349: args[1]: IO-AVSTATS\n1669202407349: args[2]: null\n1669202407349: args[3]: null\n1669202407349: args[4]: ;\n1669202407349: args[5]: null\n1669202407349: args[6]: D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\up22OCT.sql\n1669202407349: args[7]: NO\n1669202407349: args[8]: tables\n1669202407349: args[9]: YES\n1669202407349: args[10]: null\n1669202407349: args[11]: NO\n1669202407349: args[12]: NO\n1669202407349: Command: -backup\n1669202407350: Running -backup\nh: name = C:\\Program Files\\RazorSQL\\data\\run.ssql\nh: name = C:\\Program Files\\RazorSQL\\razorsql.jar\n1669202407356: Attempting to load . . .\ncommand found\nuOne: file:/C:/Program%20Files/RazorSQL/\nh: name = C:\\Program Files\\RazorSQL\\data\\run.ssql\n1669202407367reading file . . .C:\\Program Files\\RazorSQL\\data\\base.ssql\n1669202407392done reading . . .\n1669202407401done converting\n1669202407401starting lib load.\n1669202407413lib load complete.\nIn command line processor\nMax Memory: 30688.0\nCurrent Total Memory: 2048.0\nFree Memory: 1957.998046875\n1669202407486: r init\n1669202407486: d init\n1669202407487: get default file encoding\n1669202407487: end d init\ncustom home directory: null\nChecking for user data from old versions\n1669202407488: user home: C:\\Users\\walte\n1669202407489: user profile: C:\\Users\\walte\n1669202407489: app data: C:\\Users\\walte\\AppData\\Roaming\n1669202407489: checking write access to: C:\\Users\\walte\\AppData\\Roaming\n1669202407489: write dir: C:\\Users\\walte\\AppData\\Roaming\\RichardsonSoftware\n1669202407489: can write to C:\\Users\\walte\\AppData\\Roaming\nnewHome: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\ndataHome: C:\\Users\\walte\\AppData\\Roaming/RazorSQL/data/\npreferences file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\preferences.txt\nProfiles Exist\n1669202407499: loading icons\n1669202407663: done r init\nGetting connection data from: IO-AVSTATS\n1669202407665: r init\n1669202407665: d init\n1669202407665: get default file encoding\n1669202407665: end d init\ncustom home directory: null\nChecking for user data from old versions\nnewHome: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\ndataHome: C:\\Users\\walte\\AppData\\Roaming/RazorSQL/data/\npreferences file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\preferences.txt\nProfiles Exist\n1669202407666: loading icons\n1669202407675: done r init\ngetting connection . . .\nNot using SSH Tunnel\ndriver: sun.jdbc.odbc.JdbcOdbcDriver\nclassLocation: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nloadedCommonJars: false\ncommonURL: file:/C:/Program%20Files/RazorSQL/drivers/common/\ncommonDir: C:\\Program Files\\RazorSQL\\drivers\\common\ncommonFiles[0]: file:/C:/Program%20Files/RazorSQL/drivers/common/activation.jar\ncommonFiles[1]: file:/C:/Program%20Files/RazorSQL/drivers/common/common.jar\ncommonFiles[2]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-api.jar\ncommonFiles[3]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-core.jar\ncommonFiles[4]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-impl.jar\ncommonFiles[6]: file:/C:/Program%20Files/RazorSQL/drivers/common/odbc.jar\nconnection type: ODBC\nfinal classLocation: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nclassLocation file: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nbuilding sql manager\nLoading driver\nDone loading driver\nGetting connection with no login info\nJdbcOdbcDriver: in initialize\nOdbcApi == null\nCreating new OdbcApi, nativePrefix:\nJdbcOdbc constructor\nAttempting to load JdbcOdbc library\nGot OdbcApi: sun.jdbc.odbc.JdbcOdbc@2d127a61\nGetting charset\nJdbcOdbcDriver.OdbcApi.charSet: Cp1252\nConnection obtained\nobtained connection\ndatabase major version = 2\ndatabase product name: ACCESS\nmultiValueInsert: false\nincludeIdentifyColumns: false\nCalling backup . . .\nRetrieving Tables . . .\nGenerating Table DDL . . .\n1 of 20\nnumber of columns 93\ncolumn map size: 93\nfoundNull: false\n2 of 20\nnumber of columns 2\ncolumn map size: 2\nfoundNull: false\n3 of 20\nnumber of columns 11\ncolumn map size: 11\nfoundNull: false\n4 of 20\nnumber of columns 2\ncolumn map size: 2\nfoundNull: false\n5 of 20\nnumber of columns 6\ncolumn map size: 6\nfoundNull: false\n6 of 20\nnumber of columns 5\ncolumn map size: 5\nfoundNull: false\n7 of 20\nnumber of columns 7\ncolumn map size: 7\nfoundNull: false\n8 of 20\nnumber of columns 13\ncolumn map size: 13\nfoundNull: false\n9 of 20\nnumber of columns 17\ncolumn map size: 17\nfoundNull: false\n10 of 20\nnumber of columns 73\ncolumn map size: 73\nfoundNull: false\n11 of 20\nnumber of columns 10\ncolumn map size: 10\nfoundNull: false\n12 of 20\nnumber of columns 13\ncolumn map size: 13\nfoundNull: false\n13 of 20\nnumber of columns 33\ncolumn map size: 33\nfoundNull: false\n14 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n15 of 20\nnumber of columns 7\ncolumn map size: 7\nfoundNull: false\n16 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n17 of 20\nnumber of columns 5\ncolumn map size: 5\nfoundNull: false\n18 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n19 of 20\nnumber of columns 11\ncolumn map size: 11\nfoundNull: false\n20 of 20\nnumber of columns 3\ncolumn map size: 3\nfoundNull: false\nGenerating Alter Table DDL . . .\n1 of 20\n2 of 20\n3 of 20\n4 of 20\n5 of 20\n6 of 20\n7 of 20\n8 of 20\n9 of 20\n10 of 20\n11 of 20\n12 of 20\n13 of 20\n14 of 20\n15 of 20\n16 of 20\n17 of 20\n18 of 20\n19 of 20\n20 of 20\nbackup finished\nclosing connection . . .\nconnection closed.\nShutting down logging streams\nDone shutting down logging streams\nExiting . . .\nProgress update 2022-11-23 12:20:08.292807 : INFO.00.011 The DDL script for the MS Access database 'up22OCT.mdb' was created successfully.\nProgress update 2022-11-23 12:20:08.297807 : INFO.00.012 The DDL script for the MS Access database 'up22OCT.mdb' is identical to the reference script.\nProgress update 2022-11-23 12:20:08.297807 : -------------------------------------------------------------------------------.\nProgress update 2022-11-23 12:20:08.297807 :        2,816,100,200 ns - Total time launcher.\nProgress update 2022-11-23 12:20:08.297807 : INFO.00.006 End   Launcher.\nProgress update 2022-11-23 12:20:08.298305 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#17-d_s_f-download-basic-simplemaps-files","title":"1.7 <code>d_s_f</code> - Download basic simplemaps files","text":"<p>This task downloads the basic versions of the two databases <code>United States Cities</code> and <code>US Zip Codes</code> from the simplemaps website to the file directory defined in <code>download_work_dir</code>.</p> <p>Subsequently, the downloaded data can be loaded into the PostgreSQL database with the task <code>l_s_d</code> (Load simplemaps data into PostgreSQL).</p> <p>Further details can be found here.</p> <p>Example protocol:</p> <pre><code>Progress update 2023-01-16 08:52:42.402122 : ===============================================================================.\nProgress update 2023-01-16 08:52:42.402622 : INFO.00.004 Start Launcher.\nProgress update 2023-01-16 08:52:42.407122 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-16 08:52:42.416122 : INFO.00.005 Argument task='d_s_f'.\nProgress update 2023-01-16 08:52:42.416122 : -------------------------------------------------------------------------------.\nProgress update 2023-01-16 08:52:42.416122 : INFO.00.048 Downloading basic simplemaps files.\nProgress update 2023-01-16 08:52:42.416122 : --------------------------------------------------------------------------------\nProgress update 2023-01-16 08:52:42.614735 : INFO.00.030 The connection to the US city file 'simplemaps_uscities_basicv1.75.zip' on the simplemaps download page was successfully established.\nProgress update 2023-01-16 08:52:42.707338 : INFO.00.023 From the file 'simplemaps_uscities_basicv1.75.zip' 8 chunks were downloaded.\nProgress update 2023-01-16 08:52:42.740839 : INFO.00.024 The file 'simplemaps_uscities_basicv1.75.zip' was successfully unpacked.\nProgress update 2023-01-16 08:52:42.907725 : INFO.00.022 The connection to the US zip code file 'simplemaps_uszips_basicv1.81.zip' on the simplemaps download page was successfully established.\nProgress update 2023-01-16 08:52:43.003439 : INFO.00.023 From the file 'simplemaps_uszips_basicv1.81.zip' 8 chunks were downloaded.\nProgress update 2023-01-16 08:52:43.037441 : INFO.00.024 The file 'simplemaps_uszips_basicv1.81.zip' was successfully unpacked.\nProgress update 2023-01-16 08:52:43.037441 : -------------------------------------------------------------------------------.\nProgress update 2023-01-16 08:52:43.037441 :          787,318,600 ns - Total time launcher.\nProgress update 2023-01-16 08:52:43.037441 : INFO.00.006 End   Launcher.\nProgress update 2023-01-16 08:52:43.037939 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#18-d_z_f-download-the-zip-code-database-file","title":"1.8 <code>d_z_f</code> - Download the ZIP Code Database file","text":"<p>With this task, the free version of the file ZIP Code Database can be downloaded from the website United States Zip Codes.org. However, since a license window appears first before the actual download, it is better to download the file manually. Therefore, this task is currently not offered in the <code>run_io_avstats_db</code> shell script menu.</p> <p></p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-26 07:12:23.326957 : ===============================================================================.\nProgress update 2022-11-26 07:12:23.326957 : INFO.00.004 Start Launcher.\nProgress update 2022-11-26 07:12:23.328958 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-26 07:12:23.336956 : INFO.00.005 Argument task='d_z_f'.\nProgress update 2022-11-26 07:12:23.337457 : -------------------------------------------------------------------------------.\nProgress update 2022-11-26 07:12:23.337457 : INFO.00.055 Downloading ZIP Code Database file.\nProgress update 2022-11-26 07:12:23.337457 : --------------------------------------------------------------------------------\n\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\launcher.py\", line 416, in &lt;module&gt;\n    main(sys.argv)\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\launcher.py\", line 376, in main\n    avstats.download_zip_code_db_file()\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\io_avstats_db\\avstats.py\", line 98, in download_zip_code_db_file\n    db_dml_base.download_zip_code_db_file()\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\io_avstats_db\\db_dml_base.py\", line 4052, in download_zip_code_db_file\n    io_utils.terminate_fatal(\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\io_avstats_db\\io_utils.py\", line 99, in terminate_fatal\n    traceback.print_stack()\n\nFATAL ERROR: program abort =====&gt;\nFATAL ERROR: program abort =====&gt; ERROR.00.906 Unexpected response status code='403' &lt;===== FATAL ERROR\nFATAL ERROR: program abort =====&gt;\nProcessing of the script run_io_avstats was aborted, error code=0\n</code></pre>"},{"location":"operation.html#19-l_c_d-load-data-from-a-correction-file-into-postgresql","title":"1.9 <code>l_c_d</code> - Load data from a correction file into PostgreSQL","text":"<p>TODO</p> <p>This task allows files containing aviation accident data to be downloaded from the NTSB download site. These files are there as MS Access databases in a compressed format. The following subtasks are executed:</p> <ol> <li>A connection to the NTSB download page is established.</li> <li>The selected file is downloaded to the local system in chunks. </li> <li>The downloaded file is then unpacked. </li> <li>A script with the database schema definition is created with RazorSQL from the downloaded database.</li> <li>The newly created script is then compared with a reference script for matching.</li> </ol>"},{"location":"operation.html#110-l_c_s-load-country-and-state-data-into-postgresql","title":"1.10 <code>l_c_s</code> - Load country and state data into PostgreSQL","text":"<p>TODO</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 14:15:55.817859 : ===============================================================================.\nProgress update 2022-11-27 14:15:55.817859 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 14:15:55.819858 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.005 Argument task='l_c_s'.\nProgress update 2022-11-27 14:15:55.827859 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.057 Loading country and state data.\nProgress update 2022-11-27 14:15:55.828359 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.894605 : INFO.00.059 Loading country data.\nProgress update 2022-11-27 14:15:55.894605 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954085 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:55.954597 : Number rows inserted :      1.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954597 : INFO.00.060 Loading state data.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:57.545443 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:57.545443 : Number rows inserted :     51.\nProgress update 2022-11-27 14:15:57.570593 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:57.570593 :        1,896,734,300 ns - Total time launcher.\nProgress update 2022-11-27 14:15:57.570593 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 14:15:57.571096 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#111-l_n_a-load-ntsb-ms-access-database-data-into-postgresql","title":"1.11 <code>l_n_a</code> - Load NTSB MS Access database data into PostgreSQL","text":"<p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database. The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database. The initial loading is done with both NTSB MS Access databases Pre2008 ubd avall. After that only the monthly updates are then transferred. </p> <p>Further details can be found here.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 14:15:55.817859 : ===============================================================================.\nProgress update 2022-11-27 14:15:55.817859 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 14:15:55.819858 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.005 Argument task='l_c_s'.\nProgress update 2022-11-27 14:15:55.827859 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.057 Loading country and state data.\nProgress update 2022-11-27 14:15:55.828359 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.894605 : INFO.00.059 Loading country data.\nProgress update 2022-11-27 14:15:55.894605 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954085 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:55.954597 : Number rows inserted :      1.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954597 : INFO.00.060 Loading state data.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:57.545443 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:57.545443 : Number rows inserted :     51.\nProgress update 2022-11-27 14:15:57.570593 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:57.570593 :        1,896,734,300 ns - Total time launcher.\nProgress update 2022-11-27 14:15:57.570593 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 14:15:57.571096 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#112-l_n_s-load-ntsb-ms-excel-statistic-data-into-postgresql","title":"1.12 <code>l_n_s</code> - Load NTSB MS Excel statistic data into PostgreSQL","text":"<p>TODO</p> <p>Example protocol:</p> <pre><code>Progress update 2023-01-15 12:46:10.973510 : ===============================================================================.\nProgress update 2023-01-15 12:46:10.973510 : INFO.00.004 Start Launcher.\nProgress update 2023-01-15 12:46:10.979008 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-15 12:46:18.297008 : INFO.00.041 Arguments task='l_n_s' {msexecel}='AviationAccidentStatistics_2002-2021_20221208'.\nProgress update 2023-01-15 12:46:18.297008 : -------------------------------------------------------------------------------.\nProgress update 2023-01-15 12:46:18.297008 : INFO.00.072 Loading NTSB MS Ecel statistic data from file 'AviationAccidentStatistics_2002-2021_20221208'.\nProgress update 2023-01-15 12:46:18.297508 : --------------------------------------------------------------------------------\nUnprocessed row #     1: Table 29. Accident Aircraft, 2002 through 2021, US Civil Aviation | None | None | ...\nUnprocessed row #     2: None | None | None | ...\nUnprocessed row #     3: NTSB Number | Accident Report | Event Date | ...\nProgress update 2023-01-15 12:48:30.355445 : Number of rows so far read :   5000.\nProgress update 2023-01-15 12:50:35.554697 : Number of rows so far read :  10000.\nProgress update 2023-01-15 12:52:39.895361 : Number of rows so far read :  15000.\nProgress update 2023-01-15 12:54:44.828003 : Number of rows so far read :  20000.\nProgress update 2023-01-15 12:56:47.277567 : Number of rows so far read :  25000.\nProgress update 2023-01-15 12:58:50.693799 : Number of rows so far read :  30000.\nUnprocessed row # 30245: None | None | None | ...\n...\nUnprocessed row # 30729: None | None | None | ...\nProgress update 2023-01-15 12:58:59.416221 : Number rows selected :  30729.\nProgress update 2023-01-15 12:58:59.416723 : Number rows inserted :  30241.\nProgress update 2023-01-15 12:58:59.416723 : Number rows updated  :  90723.\nProgress update 2023-01-15 12:58:59.416723 : -------------------------------------------------------------------------------.\nProgress update 2023-01-15 12:58:59.417222 :      768,612,714,000 ns - Total time launcher.\nProgress update 2023-01-15 12:58:59.417222 : INFO.00.006 End   Launcher.\nProgress update 2023-01-15 12:58:59.417222 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#113-l_s_d-load-simplemaps-data-into-postgresql","title":"1.13 <code>l_s_d</code> - Load simplemaps data into PostgreSQL","text":"<p>TODO</p> <p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database. The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database. The initial loading is done with both MS Access databases Pre2008 ubd avall. After that only the monthly updates are then transferred. </p> <p>Example protocol:</p> <pre><code>    Progress update 2022-11-21 18:52:41.629692 : ===============================================================================.\n    Progress update 2022-11-21 18:52:41.629692 : INFO.00.004 Start Launcher.\n    Progress update 2022-11-21 18:52:41.631692 : INFO.00.001 The logger is configured and ready.\n    Progress update 2022-11-21 18:52:41.640190 : INFO.00.005 Argument task='l_s_d'.\n    Progress update 2022-11-21 18:52:41.640190 : -------------------------------------------------------------------------------.\n    Progress update 2022-11-21 18:52:41.685192 : INFO.00.039 Database table io_lat_lng: Loading the zipcode data from file uscities.xlsx.\n    Progress update 2022-11-21 18:55:11.254186 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 18:57:31.973745 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 18:59:47.094776 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:02:08.097587 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:04:27.858850 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:06:49.294785 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:09:07.306370 : Number of rows so far read :  35000.\n    Progress update 2022-11-21 19:11:28.117981 : Number of rows so far read :  40000.\n    Progress update 2022-11-21 19:12:10.470503 : Number rows selected :  41620.\n    Progress update 2022-11-21 19:12:10.470503 : Number rows inserted :  41620.\n    Progress update 2022-11-21 19:12:10.530003 : INFO.00.025 Database table io_lat_lng: Loading the zipcode data from file uszips.xlsx.\n    Progress update 2022-11-21 19:14:41.797284 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 19:17:10.506606 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 19:19:38.757474 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:22:08.373896 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:24:29.851643 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:26:58.685870 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:28:47.784316 : Number rows selected :  33788.\n    Progress update 2022-11-21 19:28:47.784316 : Number rows inserted :   9651.\n    Progress update 2022-11-21 19:28:47.784316 : Number rows updated  :  24133.\n    Progress update 2022-11-21 19:28:47.784815 : INFO.00.026 Database table io_us_stats: Loading data.\n    Progress update 2022-11-21 19:28:49.122315 : Number rows selected :     56.\n    Progress update 2022-11-21 19:28:49.122315 : Number rows inserted :     51.\n    Progress update 2022-11-21 19:28:49.122315 : INFO.00.027 Database table io_lat_lng: Loading the city data.\n    Progress update 2022-11-21 19:31:05.759170 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 19:33:29.969709 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 19:35:42.591083 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:38:00.961652 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:40:21.097913 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:42:39.434729 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:45:05.010766 : Number of rows so far read :  35000.\n    Progress update 2022-11-21 19:46:26.359902 : Number rows selected :  37982.\n    Progress update 2022-11-21 19:46:26.360403 : Number rows inserted :  37982.\n    Progress update 2022-11-21 19:46:26.360403 : INFO.00.028 Database table io_lat_lng: Loading the state data.\n    Progress update 2022-11-21 19:46:28.312902 : Number rows selected :     56.\n    Progress update 2022-11-21 19:46:28.312902 : Number rows inserted :     56.\n    Progress update 2022-11-21 19:46:28.313404 : INFO.00.029 Database table io_lat_lng: Loading the country data.\n    Progress update 2022-11-21 19:46:28.346407 : Number rows inserted :      1.\n    Progress update 2022-11-21 19:46:28.391904 : INFO.00.027 Database table io_lat_lng: Loading the city data.\n    Progress update 2022-11-21 19:48:23.972756 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 19:50:01.546746 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 19:51:44.317761 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:53:32.879336 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:55:18.566257 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:56:46.677403 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:56:52.002902 : Number rows selected :  30409.\n    Progress update 2022-11-21 19:56:52.003409 : Number rows updated  :  20621.\n    Progress update 2022-11-21 19:56:52.003409 : -------------------------------------------------------------------------------.\n    Progress update 2022-11-21 19:56:52.003409 :    3,850,528,217,800 ns - Total time launcher.\n    Progress update 2022-11-21 19:56:52.003903 : INFO.00.006 End   Launcher.\n    Progress update 2022-11-21 19:56:52.003903 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#114-l_z_d-load-zip-code-database-data-into-postgresql","title":"1.14 <code>l_z_d</code> - Load ZIP Code Database data into PostgreSQL","text":"<p>TODO</p> <p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database. The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database. The initial loading is done with both MS Access databases Pre2008 ubd avall. After that only the monthly updates are then transferred. </p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 14:12:25.117005 : ===============================================================================.\nProgress update 2022-11-29 14:12:25.117502 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 14:12:25.119503 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 14:12:25.128005 : INFO.00.005 Argument task='l_z_d'.\nProgress update 2022-11-29 14:12:25.128005 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:12:25.128005 : INFO.00.056 Loading ZIP Code Database data.\nProgress update 2022-11-29 14:12:25.128005 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:12:25.179505 : INFO.00.061 Database table io_lat_lng: Loading the estimated zip code data.\nProgress update 2022-11-29 14:12:25.179505 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:13:21.866512 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:14:16.970167 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:15:10.266064 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:16:08.694846 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:16:47.652646 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:17:32.877233 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:18:06.643788 : Number of rows so far read :  35000.\nProgress update 2022-11-29 14:18:55.944095 : Number of rows so far read :  40000.\nProgress update 2022-11-29 14:19:13.847623 : Number rows selected :  42735.\nProgress update 2022-11-29 14:19:13.848123 : Number rows inserted :  10115.\nProgress update 2022-11-29 14:19:13.848123 : Number rows duplicate:  32660.\nProgress update 2022-11-29 14:19:13.848123 : Number rows updated  :   3252.\nProgress update 2022-11-29 14:19:13.848123 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:19:13.919921 : INFO.00.063 Processed data source 'average'.\nProgress update 2022-11-29 14:19:13.919921 : Number rows deleted  :   7631.\nProgress update 2022-11-29 14:19:13.919921 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:19:13.919921 : INFO.00.062 Database table io_lat_lng: Loading the averaged city data.\nProgress update 2022-11-29 14:19:13.919921 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:20:03.226487 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:20:49.819656 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:21:36.281703 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:22:22.562620 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:23:04.766437 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:23:48.995380 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:24:37.784042 : Number of rows so far read :  35000.\nProgress update 2022-11-29 14:25:21.929065 : Number of rows so far read :  40000.\nProgress update 2022-11-29 14:26:07.064444 : Number rows selected :  44743.\nProgress update 2022-11-29 14:26:07.064444 : Number rows inserted :  14392.\nProgress update 2022-11-29 14:26:07.064444 : Number rows duplicate:  30351.\nProgress update 2022-11-29 14:26:07.090743 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:26:07.090743 :      822,117,242,100 ns - Total time launcher.\nProgress update 2022-11-29 14:26:07.090743 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 14:26:07.090743 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#115-r_d_s-refresh-the-postgresql-database-schema","title":"1.15 <code>r_d_s</code> - Refresh the PostgreSQL database schema","text":"<p>Hereby changes can be made to the database schema. The task can be executed several times without problems, since before a change is always first checked whether this has already been done.</p> <ol> <li> <p>Materialized database view</p> </li> <li> <p><code>io_app_ae1982</code> - provides the data for processing the task <code>c_l_l</code> (Correct decimal US latitudes and longitudes).</p> </li> </ol> <p>Example protocol:</p> <pre><code>Progress update 2022-12-19 08:37:09.337180 : INFO.00.004 Start Launcher.\nProgress update 2022-12-19 08:37:09.342679 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-19 08:37:09.352180 : INFO.00.005 Argument task='r_d_s'.\nProgress update 2022-12-19 08:37:09.352180 : -------------------------------------------------------------------------------.\nProgress update 2022-12-19 08:37:09.352180 : INFO.00.071 Refreshing the database schema.\nProgress update 2022-12-19 08:37:09.352180 : --------------------------------------------------------------------------------\nProgress update 2022-12-19 08:37:19.366370 : INFO.00.069 Materialized database view is refreshed: io_app_ae1982.\nProgress update 2022-12-19 08:37:19.366370 : -------------------------------------------------------------------------------.\nProgress update 2022-12-19 08:37:19.366370 :       10,187,690,800 ns - Total time launcher.\nProgress update 2022-12-19 08:37:19.366370 : INFO.00.006 End   Launcher.\nProgress update 2022-12-19 08:37:19.366370 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#116-s_d_c-set-up-the-postgresql-database-container","title":"1.16 <code>s_d_c</code> - Set up the PostgreSQL database container","text":"<p>The default installation of the PostgreSQL database is done using the official Docker images from Dockerhub - see here.</p> <p>This task consists of the following steps:</p> <ol> <li>any running Docker container is stopped.</li> <li>any existing Docker container is deleted.</li> <li>if not already present, the file directory for the PostgreSQL database files is created.</li> <li>the Docker network for the PostgreSQL database is created if it does not already exist.</li> <li>the PostgreSQL Docker image is either created or updated based on DockerHub.</li> <li>a new PostgreSQL Docker container is started.</li> </ol> <p>Example protocol:</p> <pre><code>Docker stop/rm io_avstats_db_dev_container .................... before:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED       STATUS        PORTS                                                      NAMES\n66c741493677   postgres:latest          \"docker-entrypoint.s\u2026\"   8 hours ago   Up 8 hours    0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container\na4469ea39fdd   postgres:latest          \"docker-entrypoint.s\u2026\"   2 weeks ago   Up 10 hours   0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             4 weeks ago   Up 10 hours   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n66c741493677   postgres:latest          \"docker-entrypoint.s\u00d4\u00c7\u00aa\"   8 hours ago   Up 8 hours    0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container\nio_avstats_db_dev_container\n66c741493677   postgres:latest          \"docker-entrypoint.s\u00d4\u00c7\u00aa\"   8 hours ago   Exited (0) Less than a second ago                                                              io_avstats_db_dev_container\nio_avstats_db_dev_container\n............................................................. after:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED       STATUS        PORTS                                                      NAMES\na4469ea39fdd   postgres:latest          \"docker-entrypoint.s\u2026\"   2 weeks ago   Up 10 hours   0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             4 weeks ago   Up 10 hours   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\nTimer 4.0 - Command Line Timer - www.Gammadyne.com\nCopyright (C) 2007-2017 by Greg Wittmeyer - All Rights Reserved\nTimer started: 22.11.2022 19:35:22\nPostgreSQL\n--------------------------------------------------------------------------------\nDocker create io_avstats_db_dev_container (PostgreSQL latest)\nDocker network io_avstats_db_dev_net already existing\n93a1342e70d367bee07fa9b021293324d7ce04a8113563a3d995d63f9d5b6172\nDocker start io_avstats_db_dev_container (PostgreSQL ) ...\nio_avstats_db_dev_container\nNETWORK ID     NAME                    DRIVER    SCOPE\n6c9fa25a23dc   AVSTATS_POSTGRES_NET    bridge    local\nad56537ead3f   bridge                  bridge    local\nda3331b29cb2   host                    host      local\nd6ad44ee9141   io_avstats_db_dev_net   bridge    local\ne33d9f5149d3   io_avstats_net          bridge    local\n3df9e6ac5dfa   none                    null      local\n[\n    {\n        \"Name\": \"io_avstats_db_dev_net\",\n        \"Id\": \"d6ad44ee9141424aec5d8e5643d4f4349e13482935a594f2553f4a7fd4648446\",\n        \"Created\": \"2022-11-06T12:04:36.9326894Z\",\n        \"Scope\": \"local\",\n        \"Driver\": \"bridge\",\n        \"EnableIPv6\": false,\n        \"IPAM\": {\n            \"Driver\": \"default\",\n            \"Options\": {},\n            \"Config\": [\n                {\n                    \"Subnet\": \"172.20.0.0/16\",\n                    \"Gateway\": \"172.20.0.1\"\n                }\n            ]\n        },\n        \"Internal\": false,\n        \"Attachable\": false,\n        \"Ingress\": false,\n        \"ConfigFrom\": {\n            \"Network\": \"\"\n        },\n        \"ConfigOnly\": false,\n        \"Containers\": {},\n        \"Options\": {},\n        \"Labels\": {}\n    }\n]\nDOCKER PostgreSQL was ready in 30.2 seconds\nCONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                                                      NAMES\n93a1342e70d3   postgres:latest          \"docker-entrypoint.s\u2026\"   30 seconds ago   Up 29 seconds   0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container\na4469ea39fdd   postgres:latest          \"docker-entrypoint.s\u2026\"   2 weeks ago      Up 10 hours     0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             4 weeks ago      Up 10 hours     0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n</code></pre>"},{"location":"operation.html#117-u_d_s-update-the-postgresql-database-schema","title":"1.17 <code>u_d_s</code> - Update the PostgreSQL database schema","text":"<p>Hereby changes can be made to the database schema. The task can be executed several times without problems, since before a change is always first checked whether this has already been done.</p> <ol> <li> <p>New database tables:</p> </li> <li> <p><code>io_countries</code>: contains latitude and longitude of selected countries.</p> </li> <li><code>io_lat_lng</code>: used to store the simplemaps and United States Zip Codes.org data.</li> <li> <p><code>io_states</code>: contains the identification, name, latitude and longitude of all US states.</p> </li> <li> <p>Extensions for database tables:</p> </li> </ol> <p>2.1 Database table <code>events</code>.</p> <ul> <li>The columns <code>io_city</code>, <code>io_country</code>, <code>io_latitude</code>, <code>io_longitude</code>, <code>io_site_zipcode</code> and <code>io_state</code> to store manual corrections.</li> <li>The columns <code>io_deviating_dec_latitude</code>, <code>io_deviating_dec_longitude</code>, <code>io_invalid_latitude</code>, <code>io_invalid_longitude</code>, <code>io_invalid_us_city</code>, <code>io_invalid_us_state</code> and , <code>io_invalid_us_zipcode</code> for documenting data plausibility (task <code>v_n_d</code>).</li> <li> <p>the columns <code>io_dec_lat_lng_actions</code>, <code>io_dec_latitude</code> and <code>io_dec_longitude</code> to store corrected decimal latitude and longitude values.</p> </li> <li> <p>New database views:</p> </li> <li> <p><code>io_lat_lng_issues</code> - provides the data for processing the task <code>c_l_l</code> (Correct decimal US latitudes and longitudes).</p> </li> <li><code>io_accidents_us_1982</code> - provides event data for aviation accidents in the U.S. since 1982.</li> </ul> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 13:37:13.316694 : ===============================================================================.\nProgress update 2022-11-27 13:37:13.316694 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 13:37:13.318694 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 13:37:13.327195 : INFO.00.005 Argument task='u_d_s'.\nProgress update 2022-11-27 13:37:13.327195 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 13:37:13.327195 : INFO.00.045 Updating the database schema.\nProgress update 2022-11-27 13:37:13.327195 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 13:37:13.436194 : INFO.00.007 Database table is available: io_msaccess_file.\nProgress update 2022-11-27 13:37:13.520032 : INFO.00.007 Database table is available: io_countries.\nProgress update 2022-11-27 13:37:13.595030 : INFO.00.007 Database table is available: io_states.\nProgress update 2022-11-27 13:37:13.770060 : INFO.00.007 Database table is available: io_lat_lng.\nProgress update 2022-11-27 13:37:13.810990 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_city'.\nProgress update 2022-11-27 13:37:13.844989 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_country'.\nProgress update 2022-11-27 13:37:13.878039 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_lat_lng_actions'.\nProgress update 2022-11-27 13:37:13.911450 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_latitude'.\nProgress update 2022-11-27 13:37:13.944473 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_longitude'.\nProgress update 2022-11-27 13:37:13.977929 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_dec_latitude'.\nProgress update 2022-11-27 13:37:14.010969 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_dec_longitude'.\nProgress update 2022-11-27 13:37:14.044449 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_latitude'.\nProgress update 2022-11-27 13:37:14.077702 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_longitude'.\nProgress update 2022-11-27 13:37:14.111268 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_city'.\nProgress update 2022-11-27 13:37:14.144267 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_state'.\nProgress update 2022-11-27 13:37:14.178253 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_zipcode'.\nProgress update 2022-11-27 13:37:14.211254 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_latitude'.\nProgress update 2022-11-27 13:37:14.244753 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_longitude'.\nProgress update 2022-11-27 13:37:14.277753 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_site_zipcode'.\nProgress update 2022-11-27 13:37:14.311253 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_state'.\nProgress update 2022-11-27 13:37:14.378313 : INFO.00.032 Database view is available: io_accidents_us_1982.\nProgress update 2022-11-27 13:37:14.402813 : INFO.00.032 Database view is available: io_lat_lng_issues.\nProgress update 2022-11-27 13:37:14.402813 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 13:37:14.402813 :        1,230,619,900 ns - Total time launcher.\nProgress update 2022-11-27 13:37:14.403313 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 13:37:14.403313 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#118-v_n_d-verify-selected-ntsb-data","title":"1.18 <code>v_n_d</code> - Verify selected NTSB data","text":"<p>This task can be used to perform a plausibility check for the following columns in the database table <code>events</code>:</p> <ul> <li><code>dec_latitude</code>,</li> <li><code>dec_longitude</code>,</li> <li><code>ev_state</code>,</li> <li><code>ev_site_zipcode</code>,</li> <li><code>latitude</code>,</li> <li><code>longitude</code>,</li> </ul> <p>and the combination of:</p> <ul> <li><code>ev_state</code> and <code>ev_city</code>,</li> <li><code>ev_state</code>, <code>ev_city</code> and <code>ev_site_zipcode</code>.</li> </ul> <p>The results of the check are stored in the following columns:</p> <ul> <li><code>io_deviating_dec_latitude</code> (absolute difference),</li> <li><code>io_deviating_dec_longitude</code> (absolute difference),</li> <li><code>io_invalid_latitude</code> (true),</li> <li><code>io_invalid_longitude</code> (true),</li> <li><code>io_invalid_us_city</code> (true),</li> <li><code>io_invalid_us_city_zipcode</code> (true),</li> <li><code>io_invalid_us_state</code> (true),</li> <li><code>io_invalid_us_zipcode</code> (true).</li> </ul> <p>The tests are performed according to the following logic:</p> <ul> <li><code>io_deviating_dec_latitude</code>: Absolute difference between <code>dec_latitude</code> and <code>latitude</code> exceeding a given limit in <code>max_deviation_latitude</code>.</li> <li><code>io_deviating_dec_longitude</code>: Absolute difference between <code>dec_longitude</code> and <code>longitude</code> exceeding a given limit <code>max_deviation_longitude</code>.</li> <li><code>io_invalid_latitude</code>: Can the latitude in the <code>latitude</code> column be converted to its decimal equivalent?</li> <li><code>io_invalid_longitude</code>: Can the longitude in the <code>longitude</code> column be converted to its decimal equivalent?</li> <li><code>io_invalid_us_city</code>: For country <code>USA</code> and the given state, is the specified value in the <code>ev_city</code> column a existing city?</li> <li><code>io_invalid_us_city_zipcode</code>: For country <code>USA</code> and the given state, are the specified values in the <code>ev_city</code> column and in the <code>ev_site_zipcode</code> column a existing city?</li> <li><code>io_invalid_us_state</code>: For country <code>USA</code>, is the specified value in the <code>ev_state</code> column a valid state identifier?</li> <li><code>io_invalid_us_z ipcode</code>: For country <code>USA</code>, is the specified value in the <code>ev_site_zipcode</code> column a existing zip code?</li> </ul> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 14:52:27.221649 : ===============================================================================.\nProgress update 2022-11-29 14:52:27.221649 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 14:52:27.223649 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 14:52:27.232150 : INFO.00.005 Argument task='v_n_d'.\nProgress update 2022-11-29 14:52:27.232150 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:52:27.232150 : INFO.00.043 Verify selected NTSB data.\nProgress update 2022-11-29 14:52:27.232150 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:52:27.449649 : INFO.00.064 Verification of table 'events' column(s) 'latitude &amp; longitude'.\nProgress update 2022-11-29 14:52:27.449649 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:52:28.124099 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:52:33.701741 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:53:21.979567 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:54:41.899911 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:55:56.229700 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:57:09.659083 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:58:10.139422 : Number rows errors   :  12322.\nProgress update 2022-11-29 14:58:10.139422 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:10.139422 : INFO.00.064 Verification of table 'events' column(s) 'ev_city'.\nProgress update 2022-11-29 14:58:10.968104 : Number rows errors   :   6039.\nProgress update 2022-11-29 14:58:10.968104 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:10.968104 : INFO.00.064 Verification of table 'events' column(s) 'ev_city &amp; ev_site_zipcode'.\nProgress update 2022-11-29 14:58:11.934347 : Number rows errors   :  16491.\nProgress update 2022-11-29 14:58:11.934347 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:11.934846 : INFO.00.064 Verification of table 'events' column(s) 'ev_state'.\nProgress update 2022-11-29 14:58:12.175729 : Number rows errors   :    292.\nProgress update 2022-11-29 14:58:12.176230 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:12.176230 : INFO.00.064 Verification of table 'events' column(s) 'ev_site_zipcode'.\nProgress update 2022-11-29 14:58:12.400731 : Number rows errors   :   6029.\nProgress update 2022-11-29 14:58:12.401230 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:12.402230 : Number rows selected :  34221.\nProgress update 2022-11-29 14:58:12.402230 : Number rows updated  :  41173.\nProgress update 2022-11-29 14:58:12.402730 : Number rows errors   :  41173.\nProgress update 2022-11-29 14:58:12.402730 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:58:12.402730 :      345,321,580,900 ns - Total time launcher.\nProgress update 2022-11-29 14:58:12.402730 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 14:58:12.402730 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#2-first-installation","title":"2. First installation","text":"<p>The initial load in a fresh Windows environment requires the execution of the following tasks in the given order:</p> <ul> <li><code>s_d_c</code> - Set up the PostgreSQL database container                              </li> <li><code>c_d_s</code> - Create the PostgreSQL database schema </li> <li><code>d_n_a</code> - Download the NTSB MS Access files Pre2008 and avall                      </li> <li><code>l_n_a</code> - Load the NTSB MS Access database from Pre2008 and avall</li> </ul>"},{"location":"operation.html#3-regular-updates","title":"3. Regular updates","text":"<p>see</p>"},{"location":"release_schedule.html","title":"Release Schedule","text":"<p>To create a new release, the following steps must be performed in the specified order. It is not allowed to continue with the next step until the current step has been completed successfully, i.e. also without any errors. </p>"},{"location":"release_schedule.html#1-manual-quality-control","title":"1. Manual quality control.","text":""},{"location":"release_schedule.html#a-remove-all-personal-markers","title":"a) Remove all personal markers.","text":"<p>It is good practice to mark experimental source code, such as source code comments or logging messages that are only used for testing, with a uniform personal marker, such as <code>lho</code> or <code>wwe</code>, so that this source code can be easily discovered and removed for release builds.</p>"},{"location":"release_schedule.html#b-check-all-todo-markers-for-necessity","title":"b) Check all <code>TODO</code> markers for necessity.","text":""},{"location":"release_schedule.html#c-check-all-links-in-the-docs-file-directory","title":"c) Check all links in the <code>docs</code> file directory.","text":"<p>Links should generally contain the following suffix: <code>{:target=\"_blank\"}</code>.  This ensures that a web page activated by the link is opened in a new tab.</p>"},{"location":"release_schedule.html#d-unnecessary-annotations-pytestmarkissue-in-the-file-directory-tests","title":"d) Unnecessary annotations <code>@pytest.mark.issue</code> in the file directory <code>tests</code>.","text":"<p>This annotation can be used to run individual tests selectively.  To remove the remains of it one can use the regular expression <code>^@pytest.mark.issue</code>.</p>"},{"location":"release_schedule.html#2-define-a-new-version-number","title":"2. Define a new version number.","text":"<p>The rules of semantic versioning must be applied.  Given a version number MAJOR.MINOR.PATCH, increment the:</p> <ul> <li>MAJOR version when you make incompatible API changes</li> <li>MINOR version when you add functionality in a backwards compatible manner</li> <li>PATCH version when you make backwards compatible bug fixes</li> </ul> <p>See here for details.</p>"},{"location":"release_schedule.html#a-update-the-version-number-in-the-io-avstats-files","title":"a) Update the version number in the IO-AVSTATS files:","text":"<ul> <li>docs/release_history.md</li> <li>docs/release_notes.md</li> <li>src//io_glob.py</li> </ul>"},{"location":"release_schedule.html#3-create-release-candidate-branch-rel_branch","title":"3. Create release candidate branch <code>&lt;rel_branch&gt;</code>.","text":""},{"location":"release_schedule.html#4-switch-to-the-release-candidate-branch-rel_branch","title":"4. Switch to the release candidate branch <code>&lt;rel_branch&gt;</code>.","text":"<pre><code>git checkout &lt;rel_branch&gt;\n</code></pre>"},{"location":"release_schedule.html#5-finalise-the-new-release","title":"5. Finalise the new release.","text":""},{"location":"release_schedule.html#a-execute-the-following-command-in-the-io-avstats-clone","title":"a. Execute the following command in the IO-AVSTATS clone.","text":"<pre><code>make final\n</code></pre>"},{"location":"release_schedule.html#b-create-the-final-pull-request","title":"b. Create the final pull request.","text":""},{"location":"release_schedule.html#c-create-the-new-release-in-github","title":"c. Create the new release in GitHub:","text":"<ul> <li>Releases --&gt; Create a new release</li> <li>Choose a tag ---&gt; <code>9.9.9</code> ---&gt; + Create a new tag</li> <li>Release title ---&gt; <code>Release 9.9.9: &lt;headline&gt;</code>.</li> <li>Describe the release ---&gt; <code>see: https://github.com/io-aero/io-avstats/blob/main/docs/release_notes.md</code></li> <li><code>x</code> This is a pre-release</li> <li><code>x</code> Create a discussion for this release</li> <li>Publish release</li> </ul>"},{"location":"release_schedule.html#6-preepare-the-next-release","title":"6. Preepare the next release.","text":""},{"location":"release_schedule.html#a-choose-a-new-version-number","title":"a. Choose a new version number.","text":""},{"location":"release_schedule.html#b-prepare-the-following-files-in-the-io-rsaster-repository-for-the-new-version","title":"b. Prepare the following files in the io-rsaster repository for the new version:","text":"<ul> <li>docs/release_history.md</li> <li>docs/release_notes.md</li> <li>src//io_glob.py</li> </ul>"},{"location":"setup_development_environment.html","title":"1. Create the repositories","text":"<ul> <li>git clone https://github.com/io-aero/io-avstats</li> <li>git clone https://github.com/io-aero/io-avstats-db</li> </ul>"},{"location":"setup_development_environment.html#2-set-up-pycharm-plugins","title":"2. Set up PyCharm - Plugins","text":"<ul> <li>.ignore</li> <li>Json Helper</li> <li>Makefile Language</li> <li>python-typing-adder</li> <li>Database Tools and SQL</li> <li>Docker</li> <li>IDE Settings Sync</li> <li>Settings Repository</li> <li>Ini</li> <li>Markdown</li> <li>Properties</li> <li>Shell Script</li> <li>YAML</li> <li>Windows 10 light Theme</li> <li>GitHub Color Scheme</li> <li>Git</li> <li>GitHub</li> <li>Copyright</li> <li>EditorConfig</li> <li>File Watchers</li> <li>Grazie</li> <li>HTTP Client</li> <li>Shared Project Indices</li> <li>Terminal</li> <li>Toml</li> </ul>"},{"location":"setup_development_environment.html#3-install-software","title":"3. Install Software","text":""},{"location":"setup_development_environment.html#31-docker-desktop","title":"3.1 Docker Desktop","text":"<p>https://www.docker.com/products/docker-desktop/</p>"},{"location":"setup_development_environment.html#32-make-for-windows","title":"3.2 Make for Windows","text":"<p>https://gnuwin32.sourceforge.net/packages/make.htm</p>"},{"location":"setup_development_environment.html#33-microsoft-access-database-engine-2016-redistributable","title":"3.3 Microsoft Access Database Engine 2016 Redistributable","text":"<p>Important: Microsoft Access, Microsoft Access Database Engine and Python should all be installed either in the 32 bit version or in the 64 bit version!</p> <p>The installation file can be found in the <code>io-avstats</code> repository under <code>resources/Microsoft Access Database Engine 2016 Redistributable</code></p>"},{"location":"setup_development_environment.html#34-postgresql","title":"3.4 PostgreSQL","text":"<p>Important: Use version 15.0</p> <p>https://www.enterprisedb.com/downloads/postgres-postgresql-downloads</p> <p>Install only \"Command Line Tools\" and add the <code>bin</code> directory of the installation location to the path variable of Windows.</p>"},{"location":"setup_development_environment.html#35-python","title":"3.5 Python","text":"<p>Important: Use version 3.10.8</p> <p>https://www.python.org/downloads/</p>"},{"location":"setup_development_environment.html#36-razorsql","title":"3.6 RazorSQL","text":"<p>The installation file can be found in the <code>io-avstats</code> repository under <code>resources/RazorSQL</code></p>"},{"location":"setup_development_environment.html#37-dbeaver-optional-universal-database-tool","title":"3.7 DBeaver (optional) - Universal Database Tool","text":"<p>https://dbeaver.io</p>"},{"location":"setup_development_environment.html#38-anydesk-optional-remote-desktop-application","title":"3.8 AnyDesk (optional) - Remote Desktop Application","text":"<p>https://anydesk.com/en</p>"},{"location":"setup_development_environment.html#4-set-up-io-avstats","title":"4. Set up IO-AVSTATS","text":""},{"location":"setup_development_environment.html#41-razorsql","title":"4.1 RazorSQL","text":"<p>Create the connection profile IO-AVSTATS in RazorSQL</p> <pre><code>RazorSQL: Connections --&gt; Add Connection Profile --&gt; Microsoft Access --&gt; Continuue --&gt; ODBC (Direct)\n\n    Connection Profile Name:   **IO-AVSTATS**\n    Database file:             **...\\io-avstats\\data\\NTSB\\IO-AVSTATS.mdb**\n</code></pre>"},{"location":"setup_development_environment.html#42-windows-terminal","title":"4.2 Windows Terminal","text":"<p>Install the Python packages</p> <pre><code>make pipenv-dev\n</code></pre> <p>Set up the database container</p> <pre><code>run_io_avstats_db s_d_c\n</code></pre> <p>Create the database schema</p> <pre><code>run_io_avstats_db c_d_s\n</code></pre> <p>Download Microsoft Access database file</p> <pre><code>run_io_avstats_db d_m_a up22oct\n</code></pre> <p>Load Microsoft Access database data</p> <pre><code>run_io_avstats_db l_m_a up22oct\n</code></pre>"},{"location":"setup_development_environment.html#43-docker-desktop","title":"4.3 Docker Desktop","text":"<p>Check that the PostgreSQL development container is running.</p>"},{"location":"setup_development_environment.html#44-dbeaver","title":"4.4 DBeaver","text":"<p>Import the io-avstats project settings:</p> <pre><code>DBeaver: File --&gt; import --&gt; DBeaver --&gt; Project\n\n    File:  **...\\io-avstats\\data\\DBeaver\\io-avstats-....dbp**\n</code></pre> <p>Connect to the PostgreSQL development database.</p>"},{"location":"setup_development_environment.html#5-set-up-io-avstats","title":"5. Set up IO-AVSTATS","text":""},{"location":"setup_development_environment.html#51-google-drive","title":"5.1 Google Drive","text":"<p>Download the PostgreSQL database files.</p> <pre><code>Shared with me\n\n    22.11.05_postgre_avall.zip\n\n        Dowbload to:   **...\\io-avstats\\data**\n\n            Unzip the downloaded file.\n</code></pre>"},{"location":"setup_development_environment.html#52-windows-terminal","title":"5.2 Windows Terminal","text":"<p>Install the Python packages</p> <pre><code>make pipenv-dev\n</code></pre> <p>Set up the database container</p> <pre><code>run_io_avstats_db s_d_c\n</code></pre>"},{"location":"setup_development_environment.html#53-docker-desktop","title":"5.3 Docker Desktop","text":"<p>Check that the PostgreSQL production container is running.</p>"},{"location":"setup_development_environment.html#54-dbeaver","title":"5.4 DBeaver","text":"<p>Connect to the PostgreSQL production database.</p>"},{"location":"setup_development_environment.html#6-set-up-io-avstats","title":"6. Set up IO-AVSTATS","text":""},{"location":"setup_development_environment.html#61-create-the-credentials-file-settingsio_avstatstoml","title":"6.1 Create the credentials file <code>.settings.io_avstats.toml</code>","text":"<pre><code>[default]\npostgres_password=\"...\"\npostgres_password_admin = \"...\"\n</code></pre>"},{"location":"setup_development_environment.html#62-windows-terminal","title":"6.2 Windows Terminal","text":"<p>Install the Python packages</p> <pre><code>make pipenv-dev\n</code></pre> <p>Run the demo</p> <pre><code>run_io_avstats demo\n</code></pre>"},{"location":"setup_installation.html","title":"Installation","text":"<ol> <li> <p>Clone or copy the IO-AVSTATS repository from here.</p> </li> <li> <p>Switch to the file directory io-avstats:</p> <p><code>cd io-avstats</code></p> </li> <li> <p>Install the necessary Python packages by running the command  <code>make pipenv-dev</code>.</p> </li> <li> <p>Optionally, adjustments can be made in the following configuration files:</p> <ul> <li><code>logging_cfg.yaml</code>: for the logging functionality</li> <li><code>settings.io_avstats.toml</code>: for the IO-AVSTATS application</li> </ul> </li> <li> <p>Create the configuration file <code>.settings.io_avstats.toml</code> with the passwords for the PostgreSQL database users.</p> </li> <li> <p>Use the IO-AVSTATS application by running the script <code>run_io_avstats.bat</code>.</p> </li> </ol>"},{"location":"setup_requirements.html","title":"Requirements","text":"<p>The following are the minimum requirements to run the application:</p> <ul> <li>Operating System <code>Windows 10</code> or <code>Windows 11</code> - except for the tasks that require ODBC, the operating system <code>Ubuntu LTS 20.04</code> can also be used.</li> </ul> <ul> <li>Docker Desktop </li> <li>The LLVM Compiler Infrastructure </li> <li>Make for Windows </li> <li>MS Access Database Engine 2016 Redistributable</li> <li>PostgreSQL - only \"Command Line Tools\"</li> <li>Python</li> <li>RazorSQL</li> <li>Visual Studio Community 2022</li> </ul>"},{"location":"__ARCHIVE__/data_analyis_ae1982.html","title":"Data Analysis: DB View <code>ae1982</code>","text":"<p>Status as of Jan. 1, 2023</p>"},{"location":"__ARCHIVE__/data_analyis_ae1982.html#1-totals","title":"1. Totals","text":"<pre><code>SELECT count(*),\n'Total accidents since 1982'\nFROM events\nWHERE ev_year &gt;= 1982 UNION\nSELECT count(*),\n'Total accidents since 2008'\nFROM events\nWHERE ev_year &gt;= 2008 UNION\nSELECT count(*),\n'Fatal accidents since 1982'\nFROM events\nWHERE ev_year &gt;= 1982 AND inj_tot_f &gt; 0\nUNION\nSELECT count(*),\n'Fatal accidents since 2008'\nFROM events\nWHERE ev_year &gt;= 2008 AND inj_tot_f &gt; 0\nUNION\nSELECT count(*),\n'Total accidents since 1982 by io_app_ae1982'\nFROM io_app_ae1982\nUNION\nSELECT count(*),\n'Total accidents since 2008 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008 UNION\nSELECT count(*),\n'Fatal accidents since 1982 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE inj_tot_f &gt; 0\nUNION\nSELECT count(*),\n'Fatal accidents since 2008 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008 AND inj_tot_f &gt; 0\nUNION SELECT sum(inj_tot_f),\n'Total fatalities since 1982'\nFROM events\nWHERE ev_year &gt;= 1982\nUNION\nSELECT sum(inj_tot_f),\n'Total fatalities since 2008'\nFROM events\nWHERE ev_year &gt;= 2008\nUNION\nSELECT sum(inj_tot_f),\n'Total fatalities since 1982 by io_app_ae1982'\nFROM io_app_ae1982\nUNION\nSELECT sum(inj_tot_f),\n'Total fatalities since 2008 by io_app_ae1982'\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nORDER BY 2 </code></pre> <pre><code>count|?column?                                      |\n-----+----------------------------------------------+\n17570|Fatal accidents since 1982                    |\n17570|Fatal accidents since 1982 by io_app_ae1982 |\n 5260|Fatal accidents since 2008                    |\n 5260|Fatal accidents since 2008 by io_app_ae1982 |\n88084|Total accidents since 1982                    |\n88084|Total accidents since 1982 by io_app_ae1982 |\n25055|Total accidents since 2008                    |\n25055|Total accidents since 2008 by io_app_ae1982 |\n48672|Total fatalities since 1982                   |\n48672|Total fatalities since 1982 by io_app_ae1982|\n14607|Total fatalities since 2008                   |\n14607|Total fatalities since 2008 by io_app_ae1982|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_ae1982.html#2-far-operations-parts","title":"2. FAR operations parts","text":""},{"location":"__ARCHIVE__/data_analyis_ae1982.html#21-accidents-since-1982","title":"2.1 Accidents since 1982","text":"<pre><code>SELECT count(*),\nfar_part\nFROM io_app_ae1982\nWHERE ev_year &gt;= 1982\nGROUP BY far_part\nORDER BY 2,\n1 DESC\n</code></pre> <pre><code>count|far_part      |\n-----+--------------+\n  693|{}            |\n69370|{091}         |\n  822|{091,091}     |\n    2|{091,091,091} |\n    1|{091,091,091F}|\n    1|{091,091F}    |\n    1|{091,091K}    |\n    5|{091,103}     |\n    2|{091,107}     |\n   39|{091,121}     |\n    1|{091,125}     |\n    5|{091,129}     |\n   58|{091,135}     |\n   10|{091,137}     |\n   12|{091,ARMF}    |\n    1|{091,NUSC}    |\n    1|{091,NUSN}    |\n    5|{091,PUBU}    |\n    4|{091,UNK}     |\n   35|{091F}        |\n   14|{091K}        |\n  184|{103}         |\n    2|{103,103}     |\n    1|{103,135}     |\n    3|{107}         |\n    1|{107,135}     |\n    1|{107,ARMF}    |\n 2315|{121}         |\n   85|{121,121}     |\n   24|{121,129}     |\n   14|{121,135}     |\n    3|{121,ARMF}    |\n    5|{121,NUSC}    |\n    1|{121,NUSN}    |\n    2|{121,PUBU}    |\n    1|{121,UNK}     |\n   26|{125}         |\n  578|{129}         |\n   11|{129,129}     |\n    2|{129,135}     |\n    1|{129,NUSC}    |\n    1|{129,NUSN}    |\n  448|{133}         |\n    1|{133,133}     |\n 3694|{135}         |\n   45|{135,135}     |\n    1|{135,ARMF}    |\n 4697|{137}         |\n   30|{137,137}     |\n    1|{137,ARMF}    |\n    1|{437}         |\n   10|{ARMF}        |\n    1|{ARMF,ARMF}   |\n 1507|{NUSC}        |\n   23|{NUSC,NUSC}   |\n    8|{NUSC,NUSN}   |\n    1|{NUSC,PUBU}   |\n 2245|{NUSN}        |\n   26|{NUSN,NUSN}   |\n  553|{PUBU}        |\n    3|{PUBU,PUBU}   |\n    1|{PUBU,UNK}    |\n  437|{UNK}         |\n    7|{UNK,UNK}     |\n    1|{UNK,UNK,UNK} |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_ae1982.html#22-fatalities-since-1982","title":"2.2 Fatalities since 1982","text":"<pre><code>SELECT count(*),\nfar_part\nFROM io_app_ae1982\nWHERE ev_year &gt;= 1982\nAND inj_tot_f &gt; 0 GROUP BY far_part\nORDER BY 1 DESC,\n2\n</code></pre> <pre><code>count|far_part     |\n-----+-------------+\n13210|{091}        |\n 1376|{NUSN}       |\n  781|{135}        |\n  442|{137}        |\n  421|{NUSC}       |\n  264|{091,091}    |\n  258|{}           |\n  192|{UNK}        |\n  115|{PUBU}       |\n  103|{129}        |\n   98|{121}        |\n   93|{133}        |\n   90|{103}        |\n   25|{NUSN,NUSN}  |\n   22|{091,135}    |\n   17|{137,137}    |\n    8|{091,ARMF}   |\n    7|{091F}       |\n    6|{135,135}    |\n    4|{125}        |\n    4|{ARMF}       |\n    4|{NUSC,NUSN}  |\n    4|{UNK,UNK}    |\n    3|{091,121}    |\n    3|{091,PUBU}   |\n    3|{NUSC,NUSC}  |\n    1|{091,091,091}|\n    1|{091,091F}   |\n    1|{091,103}    |\n    1|{091,129}    |\n    1|{091,NUSC}   |\n    1|{091,NUSN}   |\n    1|{091,UNK}    |\n    1|{103,103}    |\n    1|{103,135}    |\n    1|{121,121}    |\n    1|{121,135}    |\n    1|{129,129}    |\n    1|{129,NUSN}   |\n    1|{135,ARMF}   |\n    1|{437}        |\n    1|{PUBU,PUBU}  |\n    1|{PUBU,UNK}   |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_ae1982.html#23-fatalities-since-2008","title":"2.3 Fatalities since 2008","text":"<pre><code>SELECT count(*),\nfar_part\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nAND inj_tot_f &gt; 0 GROUP BY far_part\nORDER BY 1 DESC,\n2\n</code></pre> <pre><code>count|far_part     |\n-----+-------------+\n 3228|{091}        |\n  953|{NUSN}       |\n  258|{}           |\n  212|{NUSC}       |\n  170|{UNK}        |\n  129|{135}        |\n  113|{137}        |\n   53|{091,091}    |\n   43|{PUBU}       |\n   25|{133}        |\n   22|{129}        |\n   14|{NUSN,NUSN}  |\n    9|{121}        |\n    5|{091,135}    |\n    4|{137,137}    |\n    4|{UNK,UNK}    |\n    3|{135,135}    |\n    2|{125}        |\n    2|{ARMF}       |\n    2|{NUSC,NUSC}  |\n    2|{NUSC,NUSN}  |\n    1|{091,091,091}|\n    1|{091,ARMF}   |\n    1|{103,135}    |\n    1|{129,NUSN}   |\n    1|{437}        |\n    1|{PUBU,PUBU}  |\n    1|{PUBU,UNK}   |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html","title":"Data Analysis: DB Table <code>io_ntsb_2002_2021</code>","text":"<p>Note: The IO-AVSTATS-DB database used here contains NTSB aircraft event data as of January 8, 2023.</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#1-introduction","title":"1. Introduction","text":"<p>The NTSB makes available on its website statistical data on flight events since 1982 in the form of MS Access database files. Events are classified as accidents and incidents according to \u00a7 830.2 Definitions in the Code of Federal Regulations. The following file types can be downloaded from the website (link):</p> <ul> <li><code>Pre2008.zip</code>: contains data from events that happened before the year 2008.</li> <li><code>avall.zip</code>: contains data of events that happened since 2008 until the current beginning of the month.</li> <li><code>up99MON.zip</code>: At the 1st, 8th, 15th and 22nd of each month an update file with new or changed events. These updates are available for one year.</li> </ul> <p>IO-Aero has loaded the data from the MS Access files <code>Pre2008</code> and <code>avall</code> once into the PostgreSQL database IO-AVSTATS-DB in November 2022 and since then regularly updates the IO-AVSTATS-DB with the update files provided by NTSB,</p> <p>In the November 17, 2021, news release U.S. Civil Aviation Fatalities and Flight Activity Decreased in 2020, the NTSB published, among other things, the US Civil Aviation Accident Statistics - hereinafter referred to as 20-Year Statistics. These are available on this website at this link as an MS Excel file. This file contains 28 worksheets (Table 1 through Table 28) of accumulated data, and in Worksheet 29 (Table 29. Accident Aircraft, 2002 through 2021, US Civil Aviation) (most likely) the underlying event and aircraft details. </p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#beginning-of-file","title":"Beginning of file:","text":"<p>Unfortunately, NTSB does not provide sufficient documentation on the statistical data provided.  For this reason, a project was started at IO-Aero to gain more information about the structure of the statistical data.  In the first step, the data from worksheet 29 of the MS Excel file were loaded unchanged into a new table of the database IO-AVSTATS-DB. On this basis, the following three questions were now investigated:</p> <ol> <li>how are the data in worksheet 29 structured, e.g. with regard to categorization?</li> <li>how can accumulated data, e.g. in worksheet 10, be derived from the data in worksheet 29?</li> <li>how can the data in the MS Excel file be compared with the data in the MS Access files in the period 2002 to 2021?  </li> </ol>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#2-db-table-io_ntsb_2002_2021","title":"2. DB Table <code>io_ntsb_2002_2021</code>","text":"<p>To store the data from Worksheet 29 of the MS Excel file containing the 20-Year Statistics in the IO-AVSTATS-DB database, the new database table <code>io_ntsb_2002_2021</code> was defined as follows:</p> <p></p> <p>The data from the MS Excel file were loaded unchanged into the new database table. To simplify the use of the database table, only the columns <code>ev_year</code>, <code>ev_state</code> and <code>ev_country</code>, derived from the columns <code>event_date</code>, <code>state_or_region</code> and <code>country</code>, were added. The header lines and the empty lines for the loading process were ignored but recorded in the log file: </p> <pre><code>Progress update 2023-01-15 12:46:10.973510 : ===============================================================================.\nProgress update 2023-01-15 12:46:10.973510 : INFO.00.004 Start Launcher.\nProgress update 2023-01-15 12:46:10.979008 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-15 12:46:18.297008 : INFO.00.041 Arguments task='l_n_s' {msexecel}='AviationAccidentStatistics_2002-2021_20221208'.\nProgress update 2023-01-15 12:46:18.297008 : -------------------------------------------------------------------------------.\nProgress update 2023-01-15 12:46:18.297008 : INFO.00.072 Loading NTSB MS Ecel statistic data from file 'AviationAccidentStatistics_2002-2021_20221208'.\nProgress update 2023-01-15 12:46:18.297508 : --------------------------------------------------------------------------------\nUnprocessed row #     1: Table 29. Accident Aircraft, 2002 through 2021, US Civil Aviation | None | None | ...\nUnprocessed row #     2: None | None | None | ...\nUnprocessed row #     3: NTSB Number | Accident Report | Event Date | ...\nProgress update 2023-01-15 12:48:30.355445 : Number of rows so far read :   5000.\nProgress update 2023-01-15 12:50:35.554697 : Number of rows so far read :  10000.\nProgress update 2023-01-15 12:52:39.895361 : Number of rows so far read :  15000.\nProgress update 2023-01-15 12:54:44.828003 : Number of rows so far read :  20000.\nProgress update 2023-01-15 12:56:47.277567 : Number of rows so far read :  25000.\nProgress update 2023-01-15 12:58:50.693799 : Number of rows so far read :  30000.\nUnprocessed row # 30245: None | None | None | ...\n...\nUnprocessed row # 30729: None | None | None | ...\nProgress update 2023-01-15 12:58:59.416221 : Number rows selected :  30729.\nProgress update 2023-01-15 12:58:59.416723 : Number rows inserted :  30241.\nProgress update 2023-01-15 12:58:59.416723 : Number rows updated  :  90723.\nProgress update 2023-01-15 12:58:59.416723 : -------------------------------------------------------------------------------.\nProgress update 2023-01-15 12:58:59.417222 :      768,612,714,000 ns - Total time launcher.\nProgress update 2023-01-15 12:58:59.417222 : INFO.00.006 End   Launcher.\nProgress update 2023-01-15 12:58:59.417222 : ===============================================================================.\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#21-data-migration-verification","title":"2.1 Data Migration Verification","text":"<p>According to the log file, 30'241 rows were loaded into the database table which exactly matches the MS Excel file where the data is stored in Excel rows 4 to 30'244.Summing the columns <code>Fatal Injuries</code> (I) and <code>Serious Injuries</code> (J) gives 10,245 and 5,700 respectively. These numbers can be confirmed with the following query in the database table <code>io_ntsb_2002_2021</code>:</p> <p><pre><code>    SELECT count(*)              \"Accidents All\",\n           sum(fatal_injuries)   \"Fatal Injuries\",\n           sum(serious_injuries) \"Serious Injuries\"\n    FROM io_ntsb_2002_2021\n</code></pre> Results: <pre><code>    Accidents All|Fatal Injuries|Serious Injuries|\n    -------------+--------------+----------------+\n            30241|         10245|            5700|\n</code></pre></p> <p>The following database query can be used to verify that the 20-Year Statistics data is still contained in the current MS Access databases:</p> <p><pre><code>    SELECT ntsb_number, ev_year\n    FROM io_ntsb_2002_2021 in2\n    WHERE (ntsb_number, aircraft_number) NOT IN (SELECT e.ntsb_no, a.aircraft_key\n                                                   FROM events e INNER JOIN aircraft a \n                                                                 ON e.ev_id = a.ev_id)\n</code></pre> Results: <pre><code>ntsb_number|ev_year|\n-----------+-------+\nCEN21LA236 |   2021|\n</code></pre></p> <p>This one event is actually missing from the MS Access databases, although the report is still available.  This one case can certainly be neglected, but it clearly shows that the data on which the 20-Year Statistics are based could have been changed afterwards.</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#3-data-characteristic-of-worksheet-no-29","title":"3. Data Characteristic of Worksheet no. 29","text":"<p>An appropriate adaption of the following database query was used to analyze the data categories:</p> <pre><code>    SELECT &lt;category&gt;                                 \"&lt;category&gt;\",\n           count(*)                                   \"Accidents All\",\n           count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n           sum(fatal_injuries)                        \"Fatalities\"\n      FROM io_ntsb_2002_2021\n     GROUP BY &lt;category&gt;\n     ORDER BY 1\n</code></pre> <p>On the data categorization view, the following picture emerges:</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#31-aircraft_category","title":"3.1 <code>aircraft_category</code>","text":"<pre><code>aircraft_category|Accidents All|Accidents Fatal|Fatalities|\n-----------------+-------------+---------------+----------+\n                 |            1|              1|        12|\nAirplane         |        25995|           4880|      8956|\nBalloon          |          241|             25|        49|\nBlimp            |            3|              0|          |\nGlider           |          536|            104|       121|\nGyroplane        |          174|             46|        54|\nHelicopter       |         3050|            509|       971|\nPowered-lift     |            3|              0|          |\nPowered parachute|           74|             12|        15|\nUltralight       |           13|              2|         3|\nUnknown          |            1|              1|         1|\nWeight-shift     |          150|             50|        63|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#32-aircraft_number","title":"3.2 <code>aircraft_number</code>","text":"<pre><code>aircraft_number|Accidents All|Accidents Fatal|Fatalities|\n---------------+-------------+---------------+----------+\n              1|        29887|           5530|      9850|\n              2|          347|             97|       388|\n              3|            6|              2|         6|\n              4|            1|              1|         1|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#i-duplication-of-events-per-aircraft-involved","title":"I. Duplication of events per aircraft involved","text":"<ul> <li>The same event is included in the MS Excel file for each aircraft involved. It must be ensured that these events differ only in the aircraft data:</li> </ul> <p><pre><code>    SELECT ntsb_number, count(*)\n      FROM io_ntsb_2002_2021 in2\n     WHERE ntsb_number IN (SELECT in3.ntsb_number\n                          FROM io_ntsb_2002_2021 in3\n                          GROUP BY in3.ntsb_number\n                          HAVING count(*) &gt; 1)\n     GROUP BY ntsb_number, event_date, city, state_or_region, country,\n              latitude, longitude, fatal_injuries, serious_injuries, highest_injury_level\n    HAVING count(*) = 1\n     ORDER BY ntsb_number\n</code></pre> Results: <pre><code>    ntsb_number|count|\n    -----------+-----+\n</code></pre></p> <p>No inconsistencies found.</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#33-country","title":"3.3 <code>country</code>","text":"<p>(sorted by <code>Accidents All</code> descending)</p> <pre><code>country                       |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nUnited States                 |        29697|           5357|      9453|\nBahamas                       |           57|             30|        82|\nMexico                        |           48|             33|        70|\nCanada                        |           46|             25|        47|\nFrance                        |           38|             22|        55|\nGermany                       |           28|             15|        29|\nUnited Kingdom                |           28|             13|        28|\nDominican Republic            |           17|             12|        25|\nItaly                         |           15|              7|         8|\n                              |           13|              5|        11|\nGuatemala                     |           11|              7|        13|\nJapan                         |           11|              2|         4|\nColombia                      |           11|              6|        12|\nBrazil                        |            9|              5|       165|\nVenezuela                     |            9|              3|         7|\nUnknown                       |            9|              3|         5|\nSpain                         |            9|              6|        15|\nSwitzerland                   |            7|              4|         6|\nArgentina                     |            7|              2|         6|\nChina                         |            6|              2|         2|\nAustria                       |            6|              4|        10|\nCosta Rica                    |            6|              4|        16|\nAfghanistan                   |            6|              3|        16|\nGuadeloupe                    |            5|              0|          |\nIreland                       |            5|              2|         4|\nNetherlands Antilles          |            5|              1|         2|\nPanama                        |            5|              2|        13|\nMalaysia                      |            5|              2|         4|\nIceland                       |            5|              4|         6|\nPoland                        |            4|              2|        12|\nSouth Africa                  |            4|              3|        11|\nBelgium                       |            4|              2|         7|\nHonduras                      |            4|              3|        12|\nBritish Virgin Islands        |            4|              1|         1|\nPhilippines                   |            3|              0|         0|\nTurks And Caicos Islands      |            3|              2|        16|\nAmerican Samoa                |            3|              1|         2|\nRomania                       |            3|              1|         1|\nGreenland                     |            3|              3|         3|\nUnited Arab Emirates          |            3|              2|         6|\nEl Salvador                   |            3|              2|         5|\nUruguay                       |            3|              1|         1|\nHungary                       |            3|              0|          |\nAustralia                     |            3|              1|         3|\nChile                         |            2|              1|         1|\nDominica                      |            2|              1|         2|\nKiribati                      |            2|              1|         1|\nCongo                         |            2|              2|         5|\nBermuda                       |            2|              0|          |\nNicaragua                     |            2|              0|          |\nGuyana                        |            2|              2|         5|\nSweden                        |            2|              0|          |\nHaiti                         |            2|              2|         7|\nSt Kitts And Nevis            |            2|              0|          |\nCuba                          |            2|              0|          |\nAntarctica                    |            2|              0|          |\nPeru                          |            2|              1|         2|\nJamaica                       |            2|              1|         3|\nIraq                          |            2|              1|         3|\nNigeria                       |            2|              1|         2|\nNorthern Mariana Islands      |            2|              0|          |\nNew Zealand                   |            2|              1|         2|\nRussia                        |            2|              0|          |\nIndonesia                     |            2|              1|         1|\nNetherlands                   |            2|              0|          |\nRepublic Of Korea             |            1|              0|          |\nCzech Republic                |            1|              1|         1|\nJordan                        |            1|              0|          |\nSingapore                     |            1|              0|          |\nPapua New Guinea              |            1|              1|         1|\nBarbados                      |            1|              0|          |\nSaudi Arabia                  |            1|              1|         1|\nCayman Islands                |            1|              0|          |\nMarshall Islands              |            1|              0|          |\nSlovenia                      |            1|              1|         4|\nGreece                        |            1|              0|          |\nIndia                         |            1|              0|          |\nIsrael                        |            1|              0|          |\nSuriname                      |            1|              0|          |\nDenmark                       |            1|              0|          |\nMozambique                    |            1|              0|          |\nQatar                         |            1|              1|         1|\nParaguay                      |            1|              1|         1|\nFederated States Of Micronesia|            1|              0|          |\nMartinique                    |            1|              0|          |\nAngola                        |            1|              0|          |\nLithuania                     |            1|              1|         1|\nSudan                         |            1|              1|         2|\nMorocco                       |            1|              1|         4|\nSolomon Islands               |            1|              1|         1|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>country                       |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nUnited States                 |        29347|           5261|      9217|\nBahamas                       |           57|             30|        82|\nMexico                        |           48|             33|        70|\nCanada                        |           44|             23|        43|\nFrance                        |           38|             22|        55|\nGermany                       |           28|             15|        29|\nUnited Kingdom                |           28|             13|        28|\nDominican Republic            |           17|             12|        25|\nItaly                         |           15|              7|         8|\n                              |           13|              5|        11|\nJapan                         |           11|              2|         4|\nColombia                      |           11|              6|        12|\nGuatemala                     |           11|              7|        13|\nUnknown                       |            9|              3|         5|\nVenezuela                     |            9|              3|         7|\nSpain                         |            9|              6|        15|\nBrazil                        |            8|              4|        11|\nArgentina                     |            7|              2|         6|\nSwitzerland                   |            7|              4|         6|\nChina                         |            6|              2|         2|\nCosta Rica                    |            6|              4|        16|\nAustria                       |            6|              4|        10|\nAfghanistan                   |            6|              3|        16|\nIreland                       |            5|              2|         4|\nMalaysia                      |            5|              2|         4|\nIceland                       |            5|              4|         6|\nGuadeloupe                    |            5|              0|          |\nNetherlands Antilles          |            5|              1|         2|\nPanama                        |            5|              2|        13|\nBelgium                       |            4|              2|         7|\nSouth Africa                  |            4|              3|        11|\nHonduras                      |            4|              3|        12|\nPoland                        |            4|              2|        12|\nBritish Virgin Islands        |            4|              1|         1|\nPhilippines                   |            3|              0|         0|\nTurks And Caicos Islands      |            3|              2|        16|\nAmerican Samoa                |            3|              1|         2|\nGreenland                     |            3|              3|         3|\nEl Salvador                   |            3|              2|         5|\nAustralia                     |            3|              1|         3|\nHungary                       |            3|              0|          |\nUruguay                       |            3|              1|         1|\nUnited Arab Emirates          |            3|              2|         6|\nChile                         |            2|              1|         1|\nDominica                      |            2|              1|         2|\nKiribati                      |            2|              1|         1|\nCongo                         |            2|              2|         5|\nBermuda                       |            2|              0|          |\nNicaragua                     |            2|              0|          |\nGuyana                        |            2|              2|         5|\nSweden                        |            2|              0|          |\nHaiti                         |            2|              2|         7|\nSt Kitts And Nevis            |            2|              0|          |\nCuba                          |            2|              0|          |\nAntarctica                    |            2|              0|          |\nPeru                          |            2|              1|         2|\nJamaica                       |            2|              1|         3|\nIraq                          |            2|              1|         3|\nNigeria                       |            2|              1|         2|\nNorthern Mariana Islands      |            2|              0|          |\nNew Zealand                   |            2|              1|         2|\nRussia                        |            2|              0|          |\nIndonesia                     |            2|              1|         1|\nNetherlands                   |            2|              0|          |\nRomania                       |            2|              0|          |\nRepublic Of Korea             |            1|              0|          |\nCzech Republic                |            1|              1|         1|\nJordan                        |            1|              0|          |\nPapua New Guinea              |            1|              1|         1|\nSingapore                     |            1|              0|          |\nBarbados                      |            1|              0|          |\nSaudi Arabia                  |            1|              1|         1|\nCayman Islands                |            1|              0|          |\nMarshall Islands              |            1|              0|          |\nSlovenia                      |            1|              1|         4|\nGreece                        |            1|              0|          |\nIndia                         |            1|              0|          |\nIsrael                        |            1|              0|          |\nSuriname                      |            1|              0|          |\nDenmark                       |            1|              0|          |\nMozambique                    |            1|              0|          |\nQatar                         |            1|              1|         1|\nParaguay                      |            1|              1|         1|\nFederated States Of Micronesia|            1|              0|          |\nMartinique                    |            1|              0|          |\nAngola                        |            1|              0|          |\nLithuania                     |            1|              1|         1|\nSudan                         |            1|              1|         2|\nMorocco                       |            1|              1|         4|\nSolomon Islands               |            1|              1|         1|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#34-damage_level","title":"3.4 <code>damage_level</code>","text":"<pre><code>damage_level|Accidents All|Accidents Fatal|Fatalities|\n------------+-------------+---------------+----------+\n            |            2|              2|         2|\nDestroyed   |         3586|           2797|      5674|\nMinor       |          256|             35|       195|\nNone        |          493|             37|        44|\nSubstantial |        25900|           2759|      4330|\nUnknown     |            4|              0|          |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#35-defining_event","title":"3.5 <code>defining_event</code>","text":"<pre><code>defining_event                       |Accidents All|Accidents Fatal|Fatalities|\n-------------------------------------+-------------+---------------+----------+\n                                     |        10870|           2142|      4097|\nAbnormal Runway Contact              |         2522|             34|        43|\nAbrupt Maneuver                      |          136|             55|       105|\nAerodrome                            |           21|              1|         1|\nAir Traffic Management               |            2|              1|         2|\nBird Strike                          |          128|              9|        28|\nCabin Safety Events                  |           54|              2|         2|\nCollision on Takeoff or Landing      |          487|             48|       105|\nControlled Flight Into Terrain       |          527|            294|       588|\nEvacuation                           |            2|              0|          |\nExternal Load                        |           22|              7|         8|\nFire - Non-Impact                    |          135|             21|        40|\nFire - Post-Impact                   |            1|              0|          |\nFuel Related                         |         1137|            135|       204|\nGlider Towing                        |           15|              3|         5|\nGround Collision                     |          376|              6|        15|\nGround Handling                      |          121|             18|        24|\nIcing                                |           24|             10|        15|\nLoss of Control In-Flight            |         3403|           1486|      2625|\nLoss of Control on Ground            |         2923|             35|        53|\nLoss of Lift                         |          137|              9|        19|\nLow Altitude Operation               |          341|            116|       166|\nMedical Event                        |           14|             11|        12|\nMidair                               |          213|            111|       296|\nNavigation Error                     |           13|              3|         4|\nOther                                |          959|            171|       274|\nRunway Excursion                     |          442|             11|        28|\nRunway Incursion - Vehicle           |           15|              4|         6|\nSecurity Related                     |           11|              7|         8|\nSimulated/training event             |           11|              2|         3|\nSystem/Component Failure - Non-power |          886|            139|       247|\nSystem/Component Failure - Powerplant|         3169|            335|       504|\nTurbulence Encounter                 |          205|             16|        22|\nUndershoot/Overshoot                 |          252|              3|         9|\nUnintended Flight Into IMC           |          249|            173|       317|\nUnknown                              |          284|            189|       323|\nWildlife Encounter                   |           58|              0|         0|\nWindshear/Thunderstorm               |           76|             23|        47|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#36-ev_year-via-event_date","title":"3.6 <code>ev_year</code> via <code>event_date</code>","text":"<pre><code>ev_year|Accidents All|Accidents Fatal|Fatalities|\n-------+-------------+---------------+----------+\n   2002|         1837|            367|       624|\n   2003|         1890|            381|       723|\n   2004|         1735|            346|       648|\n   2005|         1804|            340|       613|\n   2006|         1626|            326|       787|\n   2007|         1765|            308|       551|\n   2008|         1688|            305|       593|\n   2009|         1572|            285|       559|\n   2010|         1527|            284|       491|\n   2011|         1578|            293|       510|\n   2012|         1556|            285|       456|\n   2013|         1306|            238|       436|\n   2014|         1302|            268|       451|\n   2015|         1296|            239|       411|\n   2016|         1355|            228|       427|\n   2017|         1331|            212|       349|\n   2018|         1366|            234|       402|\n   2019|         1322|            255|       467|\n   2020|         1152|            215|       369|\n   2021|         1233|            221|       378|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>ev_year|Accidents All|Accidents Fatal|Fatalities|\n-------+-------------+---------------+----------+\n   2002|         1821|            362|       615|\n   2003|         1869|            373|       699|\n   2004|         1719|            339|       637|\n   2005|         1779|            332|       598|\n   2006|         1609|            320|       620|\n   2007|         1745|            303|       540|\n   2008|         1660|            299|       568|\n   2009|         1558|            279|       541|\n   2010|         1507|            278|       477|\n   2011|         1556|            286|       499|\n   2012|         1538|            281|       450|\n   2013|         1296|            235|       429|\n   2014|         1290|            263|       442|\n   2015|         1281|            238|       406|\n   2016|         1336|            221|       408|\n   2017|         1316|            211|       347|\n   2018|         1346|            230|       394|\n   2019|         1302|            250|       455|\n   2020|         1138|            210|       349|\n   2021|         1221|            220|       376|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#37-fatal_injuries","title":"3.7 <code>fatal_injuries</code>","text":"<pre><code>fatal_injuries|Accidents All|Accidents Fatal|Fatalities|\n--------------+-------------+---------------+----------+\n             0|          715|              0|         0|\n             1|         3072|           3072|      3072|\n             2|         1622|           1622|      3244|\n             3|          481|            481|      1443|\n             4|          266|            266|      1064|\n             5|          101|            101|       505|\n             6|           37|             37|       222|\n             7|           19|             19|       133|\n             8|            6|              6|        48|\n             9|            8|              8|        72|\n            10|            6|              6|        60|\n            11|            3|              3|        33|\n            12|            1|              1|        12|\n            13|            1|              1|        13|\n            14|            1|              1|        14|\n            16|            1|              1|        16|\n            20|            1|              1|        20|\n            21|            1|              1|        21|\n            49|            1|              1|        49|\n            50|            1|              1|        50|\n           154|            1|              1|       154|\n              |        23896|              0|          |\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>fatal_injuries|Accidents All|Accidents Fatal|Fatalities|\n--------------+-------------+---------------+----------+\n             0|          708|              0|         0|\n             1|         3038|           3038|      3038|\n             2|         1593|           1593|      3186|\n             3|          463|            463|      1389|\n             4|          259|            259|      1036|\n             5|           95|             95|       475|\n             6|           36|             36|       216|\n             7|           17|             17|       119|\n             8|            5|              5|        40|\n             9|            7|              7|        63|\n            10|            6|              6|        60|\n            11|            3|              3|        33|\n            12|            1|              1|        12|\n            13|            1|              1|        13|\n            14|            1|              1|        14|\n            16|            1|              1|        16|\n            20|            1|              1|        20|\n            21|            1|              1|        21|\n            49|            1|              1|        49|\n            50|            1|              1|        50|\n              |        23649|              0|          |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#38-flight_regulation","title":"3.8 <code>flight_regulation</code>","text":"<pre><code>flight_regulation             |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nArmed Forces                  |            1|              0|          |\nNon-U.S., non-commercial      |          288|            171|       394|\nPart 121: Air carrier         |          657|             20|       180|\nPart 125: 20+ pax,6000+ lbs   |            9|              3|         5|\nPart 133: Rotorcraft ext. load|          151|             36|        42|\nPart 135: Air taxi &amp; commuter |         1054|            233|       621|\nPart 137: Agricultural        |         1442|            157|       164|\nPart 91: General aviation     |        26256|           4925|      8665|\nPart 91 subpart k: Fractional |            8|              0|         0|\nPublic aircraft               |          349|             70|       125|\nUnknown                       |           26|             15|        49|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#39-flight_schedule_type","title":"3.9 <code>flight_schedule_type</code>","text":"<pre><code>flight_schedule_type|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |        28266|           5319|      9349|\nNon-scheduled       |         1292|            290|       710|\nScheduled           |          683|             21|       186|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#310-highest_injury_level","title":"3.10 <code>highest_injury_level</code>","text":"<pre><code>highest_injury_level|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |           96|              7|        12|\nFatal               |         5623|           5623|     10233|\nMinor               |         4577|              0|         0|\nNone                |        16426|              0|         0|\nSerious             |         3519|              0|         0|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>highest_injury_level|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |           94|              7|        12|\nFatal               |         5523|           5523|      9838|\nMinor               |         4548|              0|         0|\nNone                |        16221|              0|         0|\nSerious             |         3501|              0|         0|\n</code></pre> <p>The question here is whether the values in the three columns <code>highest_injury_level</code>, <code>fatal_injuries</code> and <code>serious_injuries</code> are consistent: </p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#i-highest_injury_level-and-fatal_injuries","title":"I. <code>highest_injury_level</code> and <code>fatal_injuries</code>","text":"<ul> <li>For each column where <code>highest_injury_level</code> equals <code>Fatal</code> the value of the column <code>fatal_injuries</code> must be greater than zero:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, fatal_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE highest_injury_level = 'Fatal'\n       AND fatal_injuries = 0\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|fatal_injuries|\n    -----------+--------------------+--------------+\n</code></pre></p> <p>No inconsistencies found.</p> <ul> <li>For each column where <code>fatal_injuries</code> greater than zero the value of the column <code>highest_injury_level</code> must be <code>Fatal</code>:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, fatal_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE fatal_injuries &gt; 0\n       AND highest_injury_level != 'Fatal'\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|fatal_injuries|\n    -----------+--------------------+--------------+\n    ANC09FA001 |                    |             2|\n    DFW08FA237 |                    |             2|\n    LAX08FA300 |                    |             1|\n    MIA08MA203 |                    |             4|\n    NYC08FA319 |                    |             1|\n    NYC08FA324 |                    |             1|\n    NYC08LA322 |                    |             1|\n</code></pre></p> <p>Found 7 rows with inconsistent data.</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#ii-highest_injury_level-and-serious_injuries","title":"II. <code>highest_injury_level</code> and <code>serious_injuries</code>","text":"<ul> <li>For each column where <code>highest_injury_level</code> equals <code>Serious</code> the value of the column <code>serious_injuries</code> must be greater than zero:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, serious_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE highest_injury_level = 'Serious'\n       AND fatal_injuries = 0\n       AND serious_injuries = 0\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|serious_injuries|\n    -----------+--------------------+----------------+\n</code></pre></p> <p>No inconsistencies found.</p> <ul> <li>For each column where <code>serious_injuries</code> greater than zero the value of the column <code>highest_injury_level</code> must be <code>Serious</code>:</li> </ul> <p><pre><code>    SELECT ntsb_number, highest_injury_level, serious_injuries\n      FROM io_ntsb_2002_2021 in2\n     WHERE fatal_injuries = 0\n       AND serious_injuries &gt; 0 \n       AND highest_injury_level != 'Serious'\n     ORDER BY 1\n</code></pre> Results: <pre><code>    ntsb_number|highest_injury_level|serious_injuries|\n    -----------+--------------------+----------------+\n</code></pre></p> <p>No inconsistencies found.</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#311-intentional_act","title":"3.11 <code>intentional_act</code>","text":"<pre><code>intentional_act|Accidents All|Accidents Fatal|Fatalities|\n---------------+-------------+---------------+----------+\ntrue           |           55|             32|        39|\n               |        30186|           5598|     10206|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#312-phase_of_flight","title":"3.12 <code>phase_of_flight</code>","text":"<pre><code>phase_of_flight     |Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |        10822|           2135|      4086|\nApproach            |         2147|            569|      1089|\nEmergency Descent   |          200|             36|        58|\nEnroute             |         3150|            906|      1728|\nInitial Climb       |         1870|            529|       938|\nLanding             |         6112|            101|       141|\nManeuvering         |         2536|            985|      1562|\nPost-Impact         |            6|              0|          |\nPushback/Tow        |           24|              0|          |\nStanding            |          392|             35|        47|\nTakeoff             |         2205|            205|       368|\nTaxi                |          569|              6|        10|\nUncontrolled Descent|           42|             24|        44|\nUnknown             |          166|             99|       174|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#313-purpose_of_flight","title":"3.13 <code>purpose_of_flight</code>","text":"<pre><code>purpose_of_flight        |Accidents All|Accidents Fatal|Fatalities|\n-------------------------+-------------+---------------+----------+\n                         |         1808|            318|       969|\nAerial application       |         1442|            167|       177|\nAerial observation       |          342|             90|       168|\nAir drop                 |            8|              2|         3|\nAir race/show            |          147|             63|        81|\nBanner tow               |           98|             15|        18|\nBusiness                 |          778|            194|       403|\nExecutive/Corporate      |          139|             35|       126|\nExternal load            |          109|             25|        30|\nFerry                    |          160|             42|       211|\nFirefighting             |           28|              9|        14|\nFlight test              |          338|             69|        99|\nGlider tow               |           53|             15|        20|\nInstructional            |         4030|            374|       675|\nOther work use           |          502|             92|       180|\nPersonal                 |        18909|           3826|      6538|\nPositioning              |          688|            156|       262|\nPublic aircraft          |          152|             28|        43|\nPublic aircraft - federal|           94|             18|        33|\nPublic aircraft - local  |           74|              9|        13|\nPublic aircraft - state  |           61|             12|        23|\nSkydiving                |          128|             19|        52|\nUnknown                  |          153|             52|       107|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#314-registration_number","title":"3.14 <code>registration_number</code>","text":"<p><pre><code>SELECT registration_number                        \"registration_number\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM (SELECT CASE\n                 WHEN i.registration_number = 'UNREG' THEN i.registration_number\n                 WHEN upper(i.registration_number) ~ '^N[1-9][0-9][0-9][0-9][0-9]$' THEN 'USA'\n                 WHEN upper(i.registration_number) ~ '^N[1-9][0-9][0-9][0-9][A-Z]$' THEN 'USA'\n                 WHEN upper(i.registration_number) ~ '^N[1-9][0-9][0-9][A-Z][A-Z]$' THEN 'USA'\n                 ELSE 'NON-US'\n                 END registration_number,\n             i.fatal_injuries\n        FROM io_ntsb_2002_2021 i) j\nGROUP BY registration_number\nORDER BY 1 \n</code></pre> Result: <pre><code>registration_number|Accidents All|Accidents Fatal|Fatalities|\n-------------------+-------------+---------------+----------+\nNON-US             |         4585|           1050|      1848|\nUNREG              |            3|              0|          |\nUSA                |        25653|           4580|      8397|\n</code></pre></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#315-serious_injuries","title":"3.15 <code>serious_injuries</code>","text":"<pre><code>serious_injuries|Accidents All|Accidents Fatal|Fatalities|\n----------------+-------------+---------------+----------+\n               0|          736|            169|       288|\n               1|         3288|            553|       866|\n               2|          758|            112|       210|\n               3|          149|             50|        88|\n               4|           53|             17|        44|\n               5|           13|              6|        14|\n               6|            6|              2|         6|\n               7|            5|              1|         5|\n               8|            1|              1|         1|\n               9|            3|              3|        16|\n              66|            1|              1|        11|\n                |        25228|           4715|      8696|\n</code></pre> <p>Without duplication of events caused by involved aircraft, i.e. only including events with the value '1' in the column <code>aircraft_number</code>:</p> <pre><code>serious_injuries|Accidents All|Accidents Fatal|Fatalities|\n----------------+-------------+---------------+----------+\n               0|          729|            169|       288|\n               1|         3258|            536|       838|\n               2|          753|            111|       208|\n               3|          147|             49|        87|\n               4|           53|             17|        44|\n               5|           13|              6|        14|\n               6|            6|              2|         6|\n               7|            5|              1|         5|\n               8|            1|              1|         1|\n               9|            2|              2|        10|\n              66|            1|              1|        11|\n                |        24919|           4635|      8338|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#4-derivation-rules-for-the-aggregated-worksheets","title":"4. Derivation Rules for the Aggregated Worksheets","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#41-table-1","title":"4.1 Table 1","text":"<p>Accidents, Fatalities, and Rates, 2021 Statistics,  US Aviation</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#i-flight_regulation","title":"I. <code>flight_regulation</code>","text":"<p><pre><code>SELECT flight_regulation                          \"flight_regulation\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n GROUP BY flight_regulation\n ORDER BY 1\n</code></pre> Results: <pre><code>flight_regulation             |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nArmed Forces                  |            1|              0|          |\nNon-U.S., non-commercial      |           23|              7|        19|\nPart 121: Air carrier         |           26|              0|         0|\nPart 133: Rotorcraft ext. load|            7|              0|         0|\nPart 135: Air taxi &amp; commuter |           44|             10|        32|\nPart 137: Agricultural        |           56|             12|        12|\nPart 91: General aviation     |         1056|            189|       310|\nPart 91 subpart k: Fractional |            1|              0|         0|\nPublic aircraft               |           13|              2|         3|\nUnknown                       |            6|              1|         2|\n</code></pre></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#ii-flight_schedule_type","title":"II. <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT flight_schedule_type                       \"flight_schedule_type\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n GROUP BY flight_schedule_type\n ORDER BY 1\n</code></pre> Results: <pre><code>flight_schedule_type|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |         1050|            190|       324|\nNon-scheduled       |          147|             30|        52|\nScheduled           |           36|              1|         2|\n</code></pre></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#iii-flight_regulation-flight_schedule_type","title":"III. <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT flight_regulation                          \"flight_regulation\",\n       flight_schedule_type                       \"flight_schedule_type\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n GROUP BY flight_regulation, flight_schedule_type\n ORDER BY 1, 2\n</code></pre> Results: <pre><code>flight_regulation             |flight_schedule_type|Accidents All|Accidents Fatal|Fatalities|\n------------------------------+--------------------+-------------+---------------+----------+\nArmed Forces                  |                    |            1|              0|          |\nNon-U.S., non-commercial      |                    |           23|              7|        19|\nPart 121: Air carrier         |Non-scheduled       |            3|              0|          | ok\nPart 121: Air carrier         |Scheduled           |           23|              0|         0|\nPart 133: Rotorcraft ext. load|                    |            4|              0|          |\nPart 133: Rotorcraft ext. load|Non-scheduled       |            2|              0|         0|\nPart 133: Rotorcraft ext. load|Scheduled           |            1|              0|          |\nPart 135: Air taxi &amp; commuter |                    |            1|              1|         5|\nPart 135: Air taxi &amp; commuter |Non-scheduled       |           32|              8|        25| ok\nPart 135: Air taxi &amp; commuter |Scheduled           |           11|              1|         2| ok\nPart 137: Agricultural        |                    |           45|              9|         9|\nPart 137: Agricultural        |Non-scheduled       |           11|              3|         3|\nPart 91: General aviation     |                    |          958|            170|       286|\nPart 91: General aviation     |Non-scheduled       |           97|             19|        24|\nPart 91: General aviation     |Scheduled           |            1|              0|          |\nPart 91 subpart k: Fractional |Non-scheduled       |            1|              0|         0|\nPublic aircraft               |                    |           12|              2|         3|\nPublic aircraft               |Non-scheduled       |            1|              0|          |\nUnknown                       |                    |            6|              1|         2|\n</code></pre> Table 1:</p> <p></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#42-table-9","title":"4.2 Table 9","text":"<p>Accidents, Fatalities, and Rates, 2002 through 2021,  for US Air Carriers Operating Under 14 CFR 135,  On-Demand Operationsa</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#i-flight_regulation-flight_schedule_type","title":"I.  <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT ev_year                                    \"year\",  \n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation = 'Part 135: Air taxi &amp; commuter'\n   AND flight_schedule_type = 'Non-scheduled'\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|           64|             18|        35|\n2003|           74|             18|        42|\n2004|           66|             23|        64|\n2005|           65|             11|        18|\n2006|           52|             10|        16|\n2007|           63|             14|        43|\n2008|           59|             21|        76|\n2009|           47|              2|        17|\n2010|           31|              6|        17|\n2011|           51|             17|        42|\n2012|           39|              8|        12|\n2013|           45|             10|        25|\n2014|           36|              8|        20|\n2015|           39|              7|        27|\n2016|           29|              7|        19|\n2017|           44|              8|        16|\n2018|           40|              7|        16|\n2019|           34|             13|        38|\n2020|           39|              6|        21|\n2021|           32|              8|        25|\n</code></pre> Table 9:</p> <p></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#43-table-10","title":"4.3 Table 10","text":"<p>Accidents, Fatalities, and Rates, 2002 through 2021,  US General Aviation</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#i-flight_regulation-flight_schedule_type_1","title":"I.  <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT ev_year                                    \"year\",  \n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation in ('Part 91: General aviation', \n                             'Part 135: Air taxi &amp; commuter', \n                             'Part 137: Agricultural', \n                             'Part 91 subpart k: Fractional')\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1751|            351|       590|\n2003|         1790|            366|       682|\n2004|         1661|            327|       610|\n2005|         1726|            321|       551|\n2006|         1545|            312|       715|\n2007|         1702|            296|       533|\n2008|         1622|            288|       541|\n2009|         1505|            268|       481|\n2010|         1447|            266|       453|\n2011|         1505|            279|       486|\n2012|         1475|            269|       411|\n2013|         1240|            213|       379|\n2014|         1216|            251|       401|\n2015|         1234|            228|       394|\n2016|         1279|            210|       390|\n2017|         1260|            203|       334|\n2018|         1295|            218|       368|\n2019|         1249|            240|       435|\n2020|         1101|            198|       342|\n2021|         1157|            211|       354|\n</code></pre> Table 10:</p> <p></p> <p>2 aircraft involved:</p> <p><pre><code>SELECT ev_year                                    \"year\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation in ('Part 91: General aviation',\n                            'Part 135: Air taxi &amp; commuter',\n                            'Part 137: Agricultural',\n                            'Part 91 subpart k: Fractional')\n   AND ntsb_number IN (SELECT ntsb_number\n                      FROM io_ntsb_2002_2021 in2\n                      GROUP BY ntsb_number\n                      HAVING count(*) = 3)\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\nyear|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|           29|              8|        16|\n2003|           41|             16|        48|\n2004|           32|             14|        22|\n2005|           35|             10|        20|\n2006|           24|             10|        26|\n2007|           36|             10|        22|\n2008|           48|             12|        50|\n2009|           27|             12|        36|\n2010|           30|              8|        16|\n2011|           36|             14|        22|\n2012|           30|              8|        12|\n2013|           20|              6|        14|\n2014|           21|             10|        18|\n2015|           29|              2|        10|\n2016|           36|             14|        38|\n2017|           20|              2|         4|\n2018|           36|              6|        14|\n2019|           32|             10|        24|\n2020|           22|              8|        36|\n2021|           12|              2|         4|\n</code></pre></p> <p>3 aircraft involved:</p> <p><pre><code>SELECT ev_year                                    \"year\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\n  FROM io_ntsb_2002_2021\n WHERE flight_regulation in ('Part 91: General aviation',\n                            'Part 135: Air taxi &amp; commuter',\n                            'Part 137: Agricultural',\n                            'Part 91 subpart k: Fractional')\n   AND ntsb_number IN (SELECT ntsb_number\n                      FROM io_ntsb_2002_2021 in2\n                      GROUP BY ntsb_number\n                      HAVING count(*) = 3)\n GROUP BY ev_year\n ORDER BY 1\n</code></pre> Results: <pre><code>year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2010|            3|              3|         9|\n</code></pre></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#43-table-13","title":"4.3 Table 13","text":"<p>Defining Event for Accidents in 2021, for US Air Carriers Operating Under 14 CFR 121</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#i-flight_regulation-flight_schedule_type_2","title":"I.  <code>flight_regulation</code> &amp; <code>flight_schedule_type</code>","text":"<p><pre><code>SELECT defining_event                             \"defining_event\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\"\n  FROM io_ntsb_2002_2021\n WHERE ev_year = 2021\n   AND flight_regulation = 'Part 121: Air carrier'     \n GROUP BY defining_event\n</code></pre> Results: <pre><code>defining_event                       |Accidents All|Accidents Fatal|\n-------------------------------------+-------------+---------------+\nTurbulence Encounter                 |            6|              0| ok\nGround Collision                     |            5|              0| ok\nAbnormal Runway Contact              |            4|              0| ok\nAbrupt Maneuver                      |            2|              0| ok\nSystem/Component Failure - Non-power |            2|              0| ok\nCabin Safety Events                  |            1|              0| ok\nEvacuation                           |            1|              0| ok\nGround Handling                      |            1|              0| ok\nSystem/Component Failure - Powerplant|            1|              0| ok\n                                     |            3|              0| ok\n</code></pre> Table 13:</p> <p></p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#5-legacy-stuff","title":"5. Legacy stuff","text":"<p>Worksheet no. 29 obviously contains the detailed events underlying the statistics in the previous worksheets. Now, in order to make the data in the IO-AVSTATS-DB database comparable to this MS Excel file, the data from Worksheet no. 29 was loaded into the IO-AVSTATS-DB database as database table <code>io_ntsb_2002_2021</code>, unchanged.</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#totals","title":"Totals","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#from-table-10","title":"From Table 10","text":"<pre><code>accidents_all|accidents_fatal|fatalities_total|fatalities_aboard|\n-------------+---------------+----------------+-----------------+\n        28255|           5291|            9248|             8991|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total","title":"Total","text":"<pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 </code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        30241|           5630|           10245|\n</code></pre> <pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 WHERE aircraft_number = 1\n</code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        29887|           5530|            9850|\n</code></pre> <pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 WHERE country = 'United States'\n</code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        29697|           5357|            9453|\n</code></pre> <pre><code>SELECT count(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2 WHERE aircraft_number = 1\nAND country IN ('Bahamas', 'United States')\n</code></pre> <pre><code>accidents_all|accidents_fatal|fatalities_total|\n-------------+---------------+----------------+\n        29347|           5261|            9217|\n</code></pre> <pre><code>SELECT country,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY country  ORDER BY 3 DESC\n</code></pre> <p><pre><code>SELECT aircraft_number,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nGROUP BY aircraft_number  ORDER BY 1```\n</code></pre> aircraft_number|accidents_all|accidents_fatal_hil|accidents_fatal_fi|fatalities_total| ---------------+-------------+-------------------+------------------+----------------+               1|        29887|               5523|              5530|            9850|               2|          347|                 97|                97|             388|               3|            6|                  2|                 2|               6|               4|            1|                  1|                 1|               1| <pre><code>```sql\nSELECT country,\n       count(*)                                   accidents_all,\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\n       sum(fatal_injuries)                        fatalities_total\n FROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\n  AND country = 'United States'\nGROUP BY country  \nORDER BY 1\n</code></pre></p> <pre><code>country      |accidents_all|accidents_fatal_hil|accidents_fatal_fi|fatalities_total|\n-------------+-------------+-------------------+------------------+----------------+\nUnited States|        29347|               5254|              5261|            9217|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total-by-country","title":"Total by Country","text":"<pre><code>SELECT country,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY country  ORDER BY 3 DESC\n</code></pre> <pre><code>country                       |accidents_all|accidents_fatal|fatalities_total|\n------------------------------+-------------+---------------+----------------+\nUnited States                 |        29347|           5261|            9217|\nMexico                        |           48|             33|              70|\nBahamas                       |           57|             30|              82|\nCanada                        |           44|             23|              43|\nFrance                        |           38|             22|              55|\nGermany                       |           28|             15|              29|\nUnited Kingdom                |           28|             13|              28|\nDominican Republic            |           17|             12|              25|\nGuatemala                     |           11|              7|              13|\nItaly                         |           15|              7|               8|\nSpain                         |            9|              6|              15|\nColombia                      |           11|              6|              12|\n                              |           13|              5|              11|\nCosta Rica                    |            6|              4|              16|\nIceland                       |            5|              4|               6|\nSwitzerland                   |            7|              4|               6|\nAustria                       |            6|              4|              10|\nBrazil                        |            8|              4|              11|\nHonduras                      |            4|              3|              12|\nVenezuela                     |            9|              3|               7|\n...\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total-by-flight-regulation","title":"Total by Flight Regulation","text":"<pre><code>SELECT flight_regulation ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY flight_regulation  ORDER BY 3 DESC\n</code></pre> <pre><code>flight_regulation             |accidents_all|accidents_fatal|fatalities_total|\n------------------------------+-------------+---------------+----------------+\nPart 91: General aviation     |        25981|           4840|            8309|\nPart 135: Air taxi &amp; commuter |         1033|            227|             595|\nNon-U.S., non-commercial      |          286|            169|             390|\nPart 137: Agricultural        |         1427|            152|             158|\nPublic aircraft               |          345|             68|             122|\nPart 133: Rotorcraft ext. load|          151|             36|              42|\nPart 121: Air carrier         |          620|             20|             180|\nUnknown                       |           26|             15|              49|\nPart 125: 20+ pax,6000+ lbs   |            9|              3|               5|\nPart 91 subpart k: Fractional |            8|              0|               0|\nArmed Forces                  |            1|              0|                |\n</code></pre> <pre><code>SELECT flight_regulation ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nGROUP BY flight_regulation  ORDER BY 3 DESC\n</code></pre> <pre><code>flight_regulation             |accidents_all|accidents_fatal|fatalities_total|\n------------------------------+-------------+---------------+----------------+\nPart 91: General aviation     |        26256|           4925|            8665|\nPart 135: Air taxi &amp; commuter |         1054|            233|             621|\nNon-U.S., non-commercial      |          288|            171|             394|\nPart 137: Agricultural        |         1442|            157|             164|\nPublic aircraft               |          349|             70|             125|\nPart 133: Rotorcraft ext. load|          151|             36|              42|\nPart 121: Air carrier         |          657|             20|             180|\nUnknown                       |           26|             15|              49|\nPart 125: 20+ pax,6000+ lbs   |            9|              3|               5|\nPart 91 subpart k: Fractional |            8|              0|               0|\nArmed Forces                  |            1|              0|                |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total-by-flight-schedule-type","title":"Total by Flight Schedule Type","text":"<pre><code>SELECT flight_schedule_type  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY flight_schedule_type  ORDER BY 3 DESC\n</code></pre> <pre><code>flight_schedule_type|accidents_all|accidents_fatal|fatalities_total|\n--------------------+-------------+---------------+----------------+\n                    |        27976|           5226|            8981|\nNon-scheduled       |         1269|            283|             683|\nScheduled           |          642|             21|             186|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total-by-purpose-of-flight","title":"Total by Purpose of Flight","text":"<pre><code>SELECT purpose_of_flight  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY purpose_of_flight  ORDER BY 3 DESC\n</code></pre> <pre><code>purpose_of_flight        |accidents_all|accidents_fatal|fatalities_total|\n-------------------------+-------------+---------------+----------------+\nPersonal                 |        18744|           3776|            6422|\nInstructional            |         3971|            360|             636|\n                         |         1749|            311|             942|\nBusiness                 |          770|            192|             399|\nAerial application       |         1427|            162|             171|\nPositioning              |          679|            153|             258|\nAerial observation       |          340|             89|             160|\nOther work use           |          494|             87|             162|\nFlight test              |          338|             69|              99|\nAir race/show            |          130|             55|              70|\nUnknown                  |          153|             52|             107|\nFerry                    |          158|             40|              56|\nExecutive/Corporate      |          139|             35|             126|\nPublic aircraft          |          151|             28|              43|\nExternal load            |          109|             25|              30|\nSkydiving                |          125|             19|              52|\nPublic aircraft - federal|           94|             18|              33|\nBanner tow               |           98|             15|              18|\nGlider tow               |           49|             13|              15|\nPublic aircraft - state  |           61|             12|              23|\nPublic aircraft - local  |           73|              9|              13|\nFirefighting             |           27|              8|              12|\nAir drop                 |            8|              2|               3|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total-by-intentional-act","title":"Total by Intentional Act","text":"<p><pre><code>SELECT intentional_act  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY intentional_act  ORDER BY 3 DESC```\n</code></pre> intentional_act|accidents_all|accidents_fatal|fatalities_total| ---------------+-------------+---------------+----------------+                |        29832|           5498|            9811| true           |           55|             32|              39| <pre><code>#### Total by Defining Event\n\n```sql\nSELECT defining_event  ,\n       count(*)                                   accidents_all,\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\n       sum(fatal_injuries)                        fatalities_total\n FROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY defining_event  \nORDER BY 3 DESC\n</code></pre></p> <pre><code>defining_event                       |accidents_all|accidents_fatal|fatalities_total|\n-------------------------------------+-------------+---------------+----------------+\n                                     |        10746|           2101|            3857|\nLoss of Control In-Flight            |         3402|           1486|            2625|\nSystem/Component Failure - Powerplant|         3169|            335|             504|\nControlled Flight Into Terrain       |          527|            294|             588|\nUnknown                              |          284|            189|             323|\nUnintended Flight Into IMC           |          249|            173|             317|\nOther                                |          954|            170|             273|\nSystem/Component Failure - Non-power |          885|            139|             247|\nFuel Related                         |         1137|            135|             204|\nLow Altitude Operation               |          341|            116|             166|\nMidair                               |          111|             58|             152|\nAbrupt Maneuver                      |          136|             55|             105|\nCollision on Takeoff or Landing      |          478|             46|             102|\nLoss of Control on Ground            |         2921|             35|              53|\nAbnormal Runway Contact              |         2522|             34|              43|\nWindshear/Thunderstorm               |           76|             23|              47|\nFire - Non-Impact                    |          135|             21|              40|\nGround Handling                      |          119|             18|              24|\nTurbulence Encounter                 |          205|             16|              22|\nMedical Event                        |           14|             11|              12|\nRunway Excursion                     |          442|             11|              28|\nIcing                                |           24|             10|              15|\nLoss of Lift                         |          137|              9|              19|\nBird Strike                          |          128|              9|              28|\nSecurity Related                     |           11|              7|               8|\nExternal Load                        |           22|              7|               8|\nGround Collision                     |          273|              5|              12|\nNavigation Error                     |           13|              3|               4|\nRunway Incursion - Vehicle           |           13|              3|               5|\nUndershoot/Overshoot                 |          252|              3|               9|\nSimulated/training event             |           11|              2|               3|\nGlider Towing                        |           14|              2|               2|\nCabin Safety Events                  |           54|              2|               2|\nAerodrome                            |           19|              1|               1|\nAir Traffic Management               |            2|              1|               2|\nWildlife Encounter                   |           58|              0|               0|\nFire - Post-Impact                   |            1|              0|                |\nEvacuation                           |            2|              0|                |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#total-by-phase-of-flight","title":"Total by Phase of Flight","text":"<pre><code>SELECT phase_of_flight  ,\ncount(*)                                   accidents_all,\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) accidents_fatal,\nsum(fatal_injuries)                        fatalities_total\nFROM io_ntsb_2002_2021 in2\nWHERE aircraft_number = 1\nGROUP BY phase_of_flight  ORDER BY 3 DESC\n</code></pre> <pre><code>phase_of_flight     |accidents_all|accidents_fatal|fatalities_total|\n--------------------+-------------+---------------+----------------+\n                    |        10698|           2094|            3846|\nManeuvering         |         2500|            964|            1518|\nEnroute             |         3118|            885|            1665|\nApproach            |         2121|            558|            1052|\nInitial Climb       |         1861|            527|             934|\nTakeoff             |         2202|            205|             368|\nUnknown             |          166|             99|             174|\nLanding             |         6089|             98|             137|\nEmergency Descent   |          200|             36|              58|\nStanding            |          347|             35|              47|\nUncontrolled Descent|           42|             24|              44|\nTaxi                |          516|              5|               7|\nPost-Impact         |            6|              0|                |\nPushback/Tow        |           21|              0|                |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-1-fatalities","title":"Observation 1 - Fatalities","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-discrepancy-between-fatal-injuries-and-highest-injury-level","title":"Observation: Discrepancy between <code>Fatal Injuries</code> and <code>Highest Injury Level</code>:","text":"<pre><code>SELECT ev_year                                                \"Year\",\ncount(*) FILTER (WHERE highest_injury_level = 'Fatal') \"Accidents Fatal 1\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0)             \"Accidents Fatal 2\"\nFROM io_ntsb_2002_2021\nGROUP BY ev_year\nHAVING count(*) FILTER (WHERE highest_injury_level = 'Fatal') != count(*) FILTER (WHERE fatal_injuries &gt; 0)\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents Fatal 1|Accidents Fatal 2|\n----+-----------------+-----------------+\n2008|              298|              305|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#events-affected-table-29","title":"Events affected - Table 29:","text":"<pre><code>SELECT ntsb_number, event_date, fatal_injuries, highest_injury_level\nFROM io_ntsb_2002_2021\nWHERE fatal_injuries &gt; 0\nAND highest_injury_level != 'Fatal'\n</code></pre> <pre><code>ntsb_number|event_date             |fatal_injuries|highest_injury_level|\n-----------+-----------------------+--------------+--------------------+\nANC09FA001 |2008-10-01 00:00:00.000|             2|                    |\nDFW08FA237 |2008-09-28 00:00:00.000|             2|                    |\nLAX08FA300 |2008-09-28 00:00:00.000|             1|                    |\nMIA08MA203 |2008-09-27 00:00:00.000|             4|                    |\nNYC08FA319 |2008-09-23 00:00:00.000|             1|                    |\nNYC08FA324 |2008-09-26 00:00:00.000|             1|                    |\nNYC08LA322 |2008-09-23 00:00:00.000|             1|                    |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#this-problem-does-not-occur-in-the-io-avstats-db-database","title":"This problem does not occur in the IO-AVSTATS-DB database!","text":"<pre><code>SELECT ntsb_no, ev_year, inj_f_grnd, inj_tot_f, ev_highest_injury\nFROM io_app_ae1982 iaa\nWHERE (inj_f_grnd &gt; 0 OR inj_tot_f &gt; 0)\nAND ev_highest_injury != 'FATL'\nORDER BY ntsb_no </code></pre> <pre><code>ntsb_no|ev_year|inj_f_grnd|inj_tot_f|ev_highest_injury|\n-------+-------+----------+---------+-----------------+\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#the-corrupted-data-in-the-ms-excel-file-looks-correct-in-the-io-avstats-db-database","title":"The corrupted data in the MS Excel file looks correct in the IO-AVSTATS-DB database:","text":"<pre><code>SELECT ntsb_no, ev_year, inj_f_grnd, inj_tot_f, ev_highest_injury\nFROM io_app_ae1982 iaa\nWHERE ntsb_no\nIN ('NYC08FA319',\n'NYC08LA322',\n'NYC08FA324',\n'MIA08MA203',\n'DFW08FA237',\n'LAX08FA300',\n'ANC09FA001')\nORDER BY ntsb_no\n</code></pre> <pre><code>ntsb_no   |ev_year|inj_f_grnd|inj_tot_f|ev_highest_injury|\n----------+-------+----------+---------+-----------------+\nANC09FA001|   2008|         0|        2|FATL             |\nDFW08FA237|   2008|         0|        2|FATL             |\nLAX08FA300|   2008|         0|        1|FATL             |\nMIA08MA203|   2008|         0|        4|FATL             |\nNYC08FA319|   2008|         0|        1|FATL             |\nNYC08FA324|   2008|         0|        1|FATL             |\nNYC08LA322|   2008|         0|        1|FATL             |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-the-highest-injury-level-column-in-the-ms-excel-file-cannot-be-used-to-determine-fatalities","title":"Conclusion: The <code>Highest Injury Level</code> column in the MS Excel file cannot be used to determine fatalities!","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-2-incidents","title":"Observation 2 - Incidents","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-if-the-worksheet-no-29-also-contains-events-of-type-inc-incident","title":"Observation: If the worksheet no. 29+ also contains events of type <code>INC</code> (incident):","text":"<pre><code>SELECT ntsb_number, event_date\nFROM io_ntsb_2002_2021\nWHERE ntsb_number IN (SELECT ntsb_no FROM io_app_ae1982 WHERE ev_type = 'INC')\n</code></pre> <pre><code>ntsb_number|event_date|\n-----------+----------+\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-worksheet-no-29-does-not-contain-any-events-of-type-inc","title":"Conclusion: Worksheet no. 29 does not contain any events of type <code>INC</code>!","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-3-duplicates-1","title":"Observation 3 - Duplicates 1","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-are-more-than-1-line-included-for-the-same-ntsb-number","title":"Observation: Are more than 1 line included for the same <code>NTSB Number</code>:","text":"<pre><code>SELECT count(ntsb_number)\nFROM (SELECT count(*), ntsb_number\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number\nHAVING count(*) &gt; 1) g\n</code></pre> <pre><code>count|\n-----+\n  336|\n</code></pre> <pre><code>SELECT ntsb_number, event_date, state_or_region, city, country, fatal_injuries\nFROM io_ntsb_2002_2021 in3\nWHERE ntsb_number in (SELECT ntsb_number\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number\nHAVING count(*) &gt; 1)\nORDER BY ntsb_number\n</code></pre> <pre><code>ntsb_number|event_date             |state_or_region     |city                       |country      |fatal_injuries|\n-----------+-----------------------+--------------------+---------------------------+-------------+--------------+\nANC02LA053 |2002-06-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC02LA053 |2002-06-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC02LA086 |2002-07-30 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC02LA086 |2002-07-30 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC02LA098 |2002-08-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC02LA098 |2002-08-19 00:00:00.000|Alaska              |Ketchikan                  |United States|              |\nANC03LA005 |2002-10-22 00:00:00.000|Alaska              |BETHEL                     |United States|              |\nANC03LA005 |2002-10-22 00:00:00.000|Alaska              |BETHEL                     |United States|              |\nANC04FA016 |2003-12-28 00:00:00.000|Arizona             |Peoria                     |United States|             4|\nANC04FA016 |2003-12-28 00:00:00.000|Arizona             |Peoria                     |United States|             4|\nANC06FA048 |2006-04-23 00:00:00.000|Alaska              |Chugiak                    |United States|             5|\nANC06FA048 |2006-04-23 00:00:00.000|Alaska              |Chugiak                    |United States|             5|\nANC08LA106 |2008-08-18 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC08LA106 |2008-08-18 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC09LA004 |2008-10-07 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC09LA004 |2008-10-07 00:00:00.000|Alaska              |Bethel                     |United States|              |\nANC09LA011 |2008-11-14 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC09LA011 |2008-11-14 00:00:00.000|Alaska              |Fairbanks                  |United States|              |\nANC10LA094 |2010-09-15 00:00:00.000|Alaska              |Dillingham                 |United States|              |\nANC10LA094 |2010-09-15 00:00:00.000|Alaska              |Dillingham                 |United States|              |\nANC11FA062 |2011-07-10 00:00:00.000|Alaska              |Port Alsworth              |United States|              |\nANC11FA062 |2011-07-10 00:00:00.000|Alaska              |Port Alsworth              |United States|              |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-there-are-336-events-with-more-than-1-line-included-in-worksheet-29","title":"Conclusion: There are 336 events with more than 1 line included in worksheet 29.","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-4-duplicates-2","title":"Observation 4 - Duplicates 2","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-how-many-lines-are-there-in-the-events-with-multiple-lines","title":"Observation: How many lines are there in the events with multiple lines:","text":"<pre><code>SELECT count(*), ntsb_number, ev_year\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number, ev_year\nHAVING count(*) &gt; 1\nORDER BY 1 desc\n</code></pre> <pre><code>count|ntsb_number|ev_year|\n-----+-----------+-------+\n    3|CEN10FA115 |   2010|\n    2|ERA11CA296 |   2011|\n    2|WPR12CA163 |   2012|\n    2|MIA04FA043 |   2004|\n    2|LAX08FA265 |   2008|\n    2|NYC07LA209 |   2007|\n    2|ERA09TA466 |   2009|\n    2|GAA19CA346 |   2019|\n    2|SEA07FA264 |   2007|\n    2|DCA15CA012 |   2014|\n    2|ANC02LA086 |   2002|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-only-in-2010-there-is-an-event-with-3-lines-otherwise-there-are-always-2-lines","title":"Conclusion: Only in 2010 there is an event with 3 lines, otherwise there are always 2 lines.","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#2worksheet-no-10-vs-no-29","title":"2.Worksheet no. 10 vs. no. 29","text":"<p>Worksheet no. 10</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-1-completeness","title":"Observation 1 - Completeness","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-from-worksheet-29-included-in-worksheet-10","title":"Observation: Are all events from worksheet 29 included in worksheet 10:","text":"<pre><code>SELECT ev_year                                    \"Year\",\ncount(*)                                   \"Accidents All\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\nsum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1837|            367|       624|\n2003|         1890|            381|       723|\n2004|         1735|            346|       648|\n2005|         1804|            340|       613|\n2006|         1626|            326|       787|\n2007|         1765|            308|       551|\n2008|         1688|            305|       593|\n2009|         1572|            285|       559|\n2010|         1527|            284|       491|\n2011|         1578|            293|       510|\n2012|         1556|            285|       456|\n2013|         1306|            238|       436|\n2014|         1302|            268|       451|\n2015|         1296|            239|       411|\n2016|         1355|            228|       427|\n2017|         1331|            212|       349|\n2018|         1366|            234|       402|\n2019|         1322|            255|       467|\n2020|         1152|            215|       369|\n2021|         1233|            221|       378|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-worksheet-no-29-always-contains-more-events-than-are-included-in-worksheet-no-10","title":"Conclusion: Worksheet no. 29 always contains more events than are included in Worksheet no. 10!","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-2-duplicates","title":"Observation 2 - Duplicates","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-look-for-reasons-for-the-discrepancies","title":"Observation: Look for reasons for the discrepancies:","text":"<pre><code>SELECT ev_year                                    \"Year\",\ncount(*)                                   \"Accidents All\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\nsum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ntsb_number IN (SELECT ntsb_number\nFROM io_ntsb_2002_2021 in2\nGROUP BY ntsb_number\nHAVING count(*) &gt; 1)\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|           30|              8|        16|\n2003|           42|             16|        48|\n2004|           32|             14|        22|\n2005|           46|             12|        24|\n2006|           30|             10|        26|\n2007|           38|             10|        22|\n2008|           56|             12|        50|\n2009|           28|             12|        36|\n2010|           39|             11|        25|\n2011|           42|             14|        22|\n2012|           32|              8|        12|\n2013|           20|              6|        14|\n2014|           24|             10|        18|\n2015|           30|              2|        10|\n2016|           38|             14|        38|\n2017|           28|              2|         4|\n2018|           38|              6|        14|\n2019|           40|             10|        24|\n2020|           24|             10|        40|\n2021|           16|              2|         4|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-the-ominous-existence-of-duplicates-unfortunately-does-not-explain-the-difference-between-worksheets-no-10-and-no-29","title":"Conclusion: The ominous existence of duplicates unfortunately does not explain the difference between worksheets no. 10 and no. 29.","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#3worksheet-no-10-vs-io-avstats","title":"3.Worksheet no. 10 vs. IO-AVSTATS","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-1-completeness_1","title":"Observation 1 - Completeness","text":"<p>Last checked on January 14, 2023</p>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-from-worksheet-10-included-in-io-avstats-db","title":"Observation: Are all events from worksheet 10 included in IO-AVSTATS-DB:","text":"<pre><code>SELECT ev_year                                    \"Year\",\ncount(*)                                   \"Accidents All\",\ncount(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\nsum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nwhere ntsb_number in (select ntsb_no from io_app_ae1982 where ev_type = 'ACC' and is_us_aviation is true)\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1836|            366|       619|\n2003|         1889|            380|       720|\n2004|         1734|            346|       648|\n2005|         1802|            340|       613|\n2006|         1623|            324|       785|\n2007|         1762|            307|       549|\n2008|         1687|            305|       593|\n2009|         1572|            285|       559|\n2010|         1527|            284|       491|\n2011|         1578|            293|       510|\n2012|         1555|            285|       456|\n2013|         1305|            237|       435|\n2014|         1302|            268|       451|\n2015|         1296|            239|       411|\n2016|         1355|            228|       427|\n2017|         1331|            212|       349|\n2018|         1366|            234|       402|\n2019|         1322|            255|       467|\n2020|         1151|            215|       369|\n2021|         1226|            219|       372|\n</code></pre> <pre><code>SELECT ev_year                               \"Year\",\ncount(*)                              \"Accidents All\",\ncount(*) FILTER (WHERE inj_tot_f &gt; 0) \"Accidents Fatal\",\nsum(inj_tot_f)                        \"Fatalities\"\nFROM io_app_ae1982 iaa\nwhere ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nand is_us_aviation is true\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1851|            369|       621|\n2003|         1908|            386|       722|\n2004|         1755|            354|       665|\n2005|         1809|            348|       623|\n2006|         1639|            333|       797|\n2007|         1775|            314|       574|\n2008|         1699|            318|       710|\n2009|         1635|            325|       903|\n2010|         1593|            316|      1137|\n2011|         1649|            336|       762|\n2012|         1631|            325|       718|\n2013|         1377|            281|       570|\n2014|         1353|            296|       861|\n2015|         1369|            280|       648|\n2016|         1438|            272|       661|\n2017|         1424|            279|       494|\n2018|         1496|            309|       827|\n2019|         1410|            313|       800|\n2020|         1222|            249|       597|\n2021|         1253|            227|       388|\n</code></pre> <pre><code>select iaa.ev_id,\niaa.ntsb_no,\niaa.ev_year,\niaa.country,\niaa.city,\niaa.inj_tot_f,\niaa.dprt_countries,\niaa.dest_countries,\niaa.regis_countries,\niaa.owner_countries,\niaa.oper_countries\nFROM io_app_ae1982 iaa\nLEFT OUTER JOIN io_ntsb_2002_2021 in2 ON (iaa.ntsb_no = in2.ntsb_number)\nWHERE iaa.ev_year = 2010\nAND in2.ntsb_number IS NULL\nAND iaa.is_us_aviation IS TRUE\nAND iaa.ev_type = 'ACC'\nORDER BY iaa.ev_id desc\n</code></pre> <pre><code>ev_id         |ntsb_no   |ev_year|country|city                          |inj_tot_f|dprt_countries|dest_countries|regis_countries|owner_countries|oper_countries|\n--------------+----------+-------+-------+------------------------------+---------+--------------+--------------+---------------+---------------+--------------+\n20111108X10934|DCA11WA114|   2010|KE     |Vipingo Ridge                 |        1|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20110406X32218|CEN11WA269|   2010|CA     |Pickle Lake, Ontario          |        0|{CA}          |{CA}          |{NON-US}       |{USA}          |{USA}         |\n20110113X24716|ENG10RA063|   2010|HK     |Hong Kong                     |        0|{HK}          |{CH}          |{NON-US}       |{HK}           |{USA}         |\n20110107X43553|CEN11WA145|   2010|CS     |Bataan                        |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101217X95411|DCA11WA013|   2010|MZ     |Maputo                        |        0|{}            |{}            |{}             |{USA}          |{MZ}          |\n20101213X72824|CEN11WA107|   2010|UK     |Finningley                    |        0|{UK}          |{UK}          |{NON-US}       |{USA}          |{USA}         |\n20101213X65626|CEN11WA105|   2010|FR     |Tourrettes-sur-Loup           |        2|{FR}          |{FR}          |{NON-US}       |{USA}          |{USA}         |\n20101213X14827|ERA11WA086|   2010|CI     |Taltal                        |        1|{CI}          |{CI}          |{NON-US}       |{USA}          |{CI}          |\n20101206X53337|CEN11WA096|   2010|SP     |Alcora                        |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101206X04031|CEN11WA094|   2010|SW     |Link\u00f6ping                     |        1|{SW}          |{SW}          |{NON-US}       |{USA}          |{USA}         |\n20101130X61641|ERA11WA075|   2010|BR     |Tapurah City                  |        1|{BR}          |{BR}          |{NON-US}       |{USA}          |{USA}         |\n20101126X14552|ERA11WA073|   2010|PE     |Andahuayias                   |        0|{PE}          |{PE}          |{NON-US}       |{USA}          |{PE}          |\n20101125X11507|WPR11FA059|   2010|USA    |Hollister                     |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{AS}          |\n20101123X92602|CEN11WA080|   2010|PL     |Sekowice                      |        2|{GE}          |{GE}          |{NON-US}       |{USA}          |{USA}         |\n20101122X00226|ERA11WA068|   2010|PE     |Huanuco                       |        0|{PE}          |{PE}          |{USA}          |{USA}          |{PE}          |\n20101116X32303|DCA11WA008|   2010|PK     |Karachi                       |       21|{PK}          |{USA}         |{NON-US}       |{PK}           |{PK}          |\n20101116X12908|WPR11LA049|   2010|USA    |Marana                        |        0|{USA}         |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101115X31938|CEN11WA070|   2010|MX     |Minatitlan Veracruz           |        8|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20101110X42226|WPR11WA043|   2010|AS     |Rolleston, Australia          |        1|{AS}          |{AS}          |{NON-US}       |{USA}          |{USA}         |\n20101108X91241|CEN11CA059|   2010|USA    |Breakenridge                  |        0|{USA}         |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101031X30917|ERA11LA044|   2010|USA    |Fort Lauderdale               |        0|{CA}          |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101025X42125|WPR11CA028|   2010|USA    |Wells                         |        0|{USA}         |{USA}         |{NON-US}       |{CA}           |{CA}          |\n20101020X41300|WPR11WA020|   2010|AS     |Durham Downs, Australia       |        2|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101012X13907|CEN11WA013|   2010|MX     |Veracruz                      |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20101004X40949|ENG10WA057|   2010|RS     |Izhma                         |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20101004X24052|DCA11WA002|   2010|UK     |Bristol                       |        0|{MX}          |{UK}          |{NON-US}       |{USA}          |{UK}          |\n20101001X32228|ENG10RA056|   2010|AF     |Shakar Darah District         |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100930X30111|DCA10WA101|   2010|VE     |Cuidad Guayana                |        0|{VE}          |{USA}         |{NON-US}       |{USA}          |{VE}          |\n20100929X01447|CEN10WA574|   2010|MX     |Tuxtlas                       |        2|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100928X21707|CEN10CA570|   2010|USA    |Sarcoxie                      |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100919X72723|ERA10LA488|   2010|USA    |Halifax                       |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100919X42634|WPR10WA460|   2010|AS     |Geraldton Aerodrome, Australia|        1|{USA}         |{USA}         |{NON-US}       |{AU}           |{AU}          |\n20100918X12923|CEN10WA546|   2010|HO     |San Pedro Sula                |        1|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100916X85029|CEN10CA541|   2010|USA    |Mineola                       |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100914X01342|CEN10WA538|   2010|UK     |Ryde                          |        2|{UK,UK}       |{UK,UK}       |{NON-US,NON-US}|{UK,USA}       |{UK,USA}      |\n20100912X75605|CEN10WA534|   2010|GP     |Pointe a Pitre                |        0|{GP}          |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100901X85159|CEN10RA511|   2010|CS     |San Jose                      |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100901X65026|DCA10WA091|   2010|UK     |London                        |        0|{NO}          |{UK}          |{NON-US}       |{USA}          |{USA}         |\n20100901X11325|WPR10WA443|   2010|PP     |Bugoiya                       |        4|{PP}          |{PP}          |{NON-US}       |{USA}          |{PP}          |\n20100901X01739|DCA10FA090|   2010|USA    |Dulles                        |        0|{UK}          |{USA}         |{NON-US}       |{UK}           |{USA}         |\n20100825X10814|DCA10WA087|   2010|CH     |Yichun                        |       42|{CH}          |{CH}          |{NON-US}       |{USA}          |{USA}         |\n20100817X40515|ERA10WA430|   2010|AR     |Mercedes                      |        0|{AR}          |{AR}          |{NON-US}       |{USA}          |{USA}         |\n20100803X33417|DCA10WA081|   2010|PK     |Islamabad                     |      157|{PK}          |{PK}          |{NON-US}       |{USA}          |{PK}          |\n20100730X85358|DCA10WA080|   2010|GV     |Conakry                       |        0|{}            |{}            |{}             |{USA}          |{MR}          |\n20100721X34052|DCA10RA079|   2010|SA     |Riyadh                        |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100714X03542|DCA10WA074|   2010|SP     |Girona                        |        0|{SP}          |{UK}          |{NON-US}       |{USA}          |{USA}         |\n20100708X84328|CEN10WA374|   2010|MX     |Piedras Negras                |        8|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100630X72411|ERA10WA340|   2010|CI     |San Felipe                    |        0|{CI}          |{CI}          |{NON-US}       |{USA}          |{USA}         |\n20100627X20107|CEN10RA345|   2010|MX     |Campeche                      |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100624X50945|WPR10WA309|   2010|AS     |Broken Hill                   |        1|{AS}          |{AS}          |{NON-US}       |{AS}           |{USA}         |\n20100623X13907|DCA10WA070|   2010|CF     |Dima                          |       11|{}            |{}            |{}             |{USA}          |{CF}          |\n20100621X12612|CEN10WA331|   2010|NO     |Sirdal                        |        0|{NO}          |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100615X95126|DCA10WA068|   2010|SF     |Johannesburg                  |        0|{}            |{}            |{NON-US}       |{USA}          |{SF}          |\n20100614X12305|CEN10RA319|   2010|MX     |Felipe Carrillo Puerto        |        9|{MX}          |{USA}         |{NON-US}       |{MX}           |{MX}          |\n20100603X92434|CEN10WA293|   2010|GE     |Bielefeld                     |        4|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100603X85900|CEN10WA292|   2010|FI     |Em\u00e4salo                       |        1|{}            |{}            |{NON-US}       |{FI}           |{USA}         |\n20100522X50538|DCA10RA063|   2010|IN     |Manglaore                     |      158|{}            |{}            |{NON-US}       |{USA}          |{IN}          |\n20100521X23753|WPR10WA249|   2010|AS     |Traralgon, Australia          |        1|{AS}          |{AS}          |{NON-US}       |{AS}           |{USA}         |\n20100519X65147|ERA10WA272|   2010|BR     |Manaus                        |        6|{BR}          |{BR}          |{NON-US}       |{USA}          |{BR}          |\n20100519X44533|WPR10WA245|   2010|RP     |Lucena City, Philippines      |        4|{RP}          |{RP}          |{NON-US}       |{RP}           |{USA}         |\n20100516X61819|ERA10LA267|   2010|USA    |Clearwater                    |        0|{USA}         |{HA}          |{NON-US}       |{MX}           |{MX}          |\n20100512X53621|DCA10RA059|   2010|LY     |Tripoli                       |      103|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100511X23826|CEN10WA248|   2010|UK     |Old Buckenham                 |        1|{GE}          |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100511X03836|DCA10WA057|   2010|CO     |Mitu                          |        0|{CO}          |{CO}          |{NON-US}       |{CO}           |{USA}         |\n20100503X31325|CEN10LA234|   2010|USA    |Haysville                     |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100503X01600|ERA10WA252|   2010|BR     |Resende                       |        2|{BR}          |{BR}          |{NON-US}       |{USA}          |{BR}          |\n20100429X00503|ENG10RA025|   2010|RS     |Smolensk                      |       89|{PL}          |{RS}          |{NON-US}       |{USA}          |{USA}         |\n20100428X20315|CEN10CA229|   2010|USA    |Amarillo                      |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100414X92635|DCA10RA053|   2010|MX     |Monterrey                     |        5|{MX}          |{MX}          |{NON-US}       |{USA}          |{USA}         |\n20100414X90838|DCA10WA051|   2010|ID     |Manokwari                     |        0|{ID}          |{ID}          |{NON-US}       |{USA}          |{ID}          |\n20100414X53531|CEN10WA205|   2010|GT     |Guatemala City                |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100414X14446|ENG10RA022|   2010|AS     |Darwin Aerodrome              |        2|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100413X85237|ERA10WA226|   2010|IT     |Vigne                         |        3|{IT}          |{AU}          |{NON-US}       |{USA}          |{USA}         |\n20100412X43956|DCA10WA050|   2010|WA     |Wlotzkasbaken                 |        1|{}            |{}            |{}             |{USA}          |{USA}         |\n20100412X21857|DCA10WA049|   2010|FR     |Paris                         |        0|{HK}          |{FR}          |{NON-US}       |{USA}          |{USA}         |\n20100409X22252|WPR10RA197|   2010|MY     |Kota Bahru                    |        0|{MY}          |{MY}          |{NON-US}       |{USA}          |{USA}         |\n20100405X44344|DCA10WA045|   2010|CF     |Kinshasa                      |        0|{}            |{}            |{}             |{CF}           |{USA}         |\n20100323X54139|WPR10LA174|   2010|USA    |Hollister                     |        0|{USA}         |{USA}         |{NON-US}       |{AS}           |{AS}          |\n20100312X94247|CEN10WA153|   2010|FR     |Chambery                      |        1|{FR}          |{FR}          |{NON-US}       |{SZ}           |{USA}         |\n20100305X54655|DCA10WA036|   2010|TW     |Taipai                        |        0|{USA}         |{TW}          |{NON-US}       |{TW}           |{TW}          |\n20100203X01641|CEN10WA112|   2010|NL     |Schiphol                      |        0|{}            |{}            |{NON-US}       |{USA}          |{USA}         |\n20100129X92638|DCA10WA025|   2010|LU     |Luxembourg                    |        0|{SP}          |{LU}          |{NON-US}       |{USA}          |{USA}         |\n20100119X95202|ERA10LA119|   2010|USA    |Palmetto                      |        1|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100118X42210|WPR10WA114|   2010|PW     |Palau International Airport   |        0|{USA}         |{USA}         |{NON-US}       |{USA}          |{USA}         |\n20100111X10557|CEN10LA093|   2010|USA    |Eagle                         |        0|{USA}         |{MX}          |{NON-US}       |{MX}           |{MX}          |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-io-avstats-db-always-contains-more-events-than-are-included-in-worksheet-no-10","title":"Conclusion: IO-AVSTATS-DB always contains more events than are included in Worksheet no. 10!","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#4worksheet-no-29-vs-io-avstats","title":"4.Worksheet no. 29 vs. IO-AVSTATS","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-1-missing-in-io-avstats","title":"Observation 1 - Missing in IO-AVSTATS","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-of-worksheet-no-29-contained-in-io-avstats","title":"Observation: Are all events of worksheet no. 29 contained in IO-AVSTATS:","text":"<pre><code>SELECT ntsb_number, ev_year, city, state_or_region, country, fatal_injuries\nFROM io_ntsb_2002_2021 in3\nWHERE ntsb_number NOT IN (SELECT ntsb_no FROM events)\nORDER BY ev_year, ntsb_number\n</code></pre> <pre><code>ntsb_number|ev_year|city    |state_or_region|country      |fatal_injuries|\n-----------+-------+--------+---------------+-------------+--------------+\nCEN21LA236 |   2021|Longmont|Colorado       |United States|              |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-this-minimal-difference-can-certainly-be-explained-by-a-subsequent-correction","title":"Conclusion: This minimal difference can certainly be explained by a subsequent correction.","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-2-missing-in-worksheet","title":"Observation 2 - Missing in Worksheet","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-of-io-avstats-contained-in-worksheet-no-29","title":"Observation: Are all events of IO-AVSTATS contained in worksheet no. 29:","text":"<pre><code>SELECT ntsb_no, ev_id, ev_year, ev_site_zipcode, ev_city, ev_country, inj_tot_f\nFROM events e\nWHERE ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nAND ntsb_no NOT IN (SELECT ntsb_number FROM io_ntsb_2002_2021 in2)\nORDER BY ev_year, ev_id\n</code></pre> <pre><code>ntsb_no   |ev_id         |ev_year|ev_site_zipcode|ev_city                                    |ev_country|inj_tot_f|\n----------+--------------+-------+---------------+-------------------------------------------+----------+---------+\nWAS02WA015|20020109X00049|   2002|00000          |Tarapoto                                   |PE        |         |\nMIA02LA054|20020201X00157|   2002|34142          |Immokalee                                  |USA       |        1|\nLAX02LA072|20020201X00161|   2002|92145          |San Diego                                  |USA       |        2|\nWAS02RA017|20020212X00207|   2002|00000          |Ishpingo                                   |EC        |         |\nWAS02WA019|20020220X00235|   2002|00000          |Santa Elena                                |VE        |         |\nWAS02RA021|20020221X00240|   2002|00000          |CACKCHILA                                  |GT        |        2|\nCHI02WA080|20020225X00253|   2002|               |Libourne                                   |FR        |        3|\nDCA02WA023|20020226X00261|   2002|               |San Juan                                   |AR        |         |\nSEA02LA039|20020228X00289|   2002|97009          |Boring                                     |USA       |        1|\nSEA02LA042|20020228X00290|   2002|98282          |Concrete                                   |USA       |         |\nWAS02WA023|20020301X00296|   2002|               |Indore                                     |IN        |         |\nIAD02WA031|20020302X00298|   2002|               |Zernez                                     |SZ        |        2|\nWAS02WA026|20020306X00311|   2002|00000          |San Antonio                                |PE        |        2|\nMIA02WA065|20020308X00318|   2002|               |Montevideo                                 |UY        |         |\nWAS02RA025|20020308X00319|   2002|00000          |El Tigre                                   |CO        |       26|\n</code></pre> <pre><code>SELECT count(*), ev_year\nFROM (SELECT ntsb_no, ev_id, ev_year, ev_site_zipcode, ev_city, ev_country, inj_tot_f\nFROM events e\nWHERE ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nAND ntsb_no NOT IN (SELECT ntsb_number FROM io_ntsb_2002_2021 in2)\nORDER BY ev_year, ev_id) g\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>count|ev_year|\n-----+-------+\n  115|   2002|\n  128|   2003|\n  141|   2004|\n  147|   2005|\n  141|   2006|\n  152|   2007|\n  130|   2008|\n  124|   2009|\n  140|   2010|\n  175|   2011|\n  177|   2012|\n  166|   2013|\n  162|   2014|\n  206|   2015|\n  207|   2016|\n  196|   2017|\n  218|   2018|\n  203|   2019|\n  169|   2020|\n  291|   2021|\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-3388-events-of-io-avstats-are-not-included-in-worksheet-no-29","title":"Conclusion: 3388 Events of IO-AVSTATS are not included in worksheet no. 29!","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-3-non-us-aircraft-registration-number","title":"Observation 3 - Non-US aircraft registration number","text":""},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#observation-all-events-involving-only-aircraft-with-missing-or-non-us-registration-numbers-are-missing-from-worksheet-no-29","title":"Observation: All events involving only aircraft with missing or non-U.S. registration numbers are missing from Worksheet No. 29.:","text":"<pre><code>SELECT ntsb_number,\nevent_date,\ncity,\nstate_or_region,\ncountry,\naircraft_number,\nregistration_number,\nfatal_injuries\nFROM io_ntsb_2002_2021 in2\nWHERE ntsb_number IN (SELECT e.ntsb_no\nFROM events e\nINNER JOIN aircraft a ON (e.ev_id = a.ev_id)\nWHERE ev_year &gt;= 2002\nAND ev_year &lt;= 2021\nAND ev_type = 'ACC'\nAND (a.regis_no IS NULL\nor upper(a.regis_no) = 'NONE'\nor a.regis_no NOT LIKE 'N%')\nAND RTRIM(a.owner_country) != 'USA'\nAND RTRIM(a.oper_country) != 'USA'\nAND RTRIM(a.dprt_country) != 'USA'\nAND RTRIM(a.dest_country) != 'USA')\nORDER BY ev_year, ntsb_number\n</code></pre> <pre><code>ntsb_number|event_date             |city           |state_or_region|country   |aircraft_number|registration_number|fatal_injuries|\n-----------+-----------------------+---------------+---------------+----------+---------------+-------------------+--------------+\nANC08TA028 |2007-12-20 00:00:00.000|McMurdo Station|               |Antarctica|              1|C-FMKB             |              |\n</code></pre> <pre><code>SELECT e.ev_id,\na.aircraft_key,\na.regis_no,\na.dprt_country,\na.dest_country,\na.owner_country,\na.oper_country\nFROM events e\nINNER JOIN aircraft a ON (e.ev_id = a.ev_id)\nWHERE e.ev_year &gt;= 2002\nAND e.ev_year &lt;= 2021\nAND a.regis_no LIKE 'N%'\nAND rtrim(a.dest_country) != 'USA'\nAND rtrim(a.dprt_country) != 'USA'\nAND rtrim(a.owner_country) != 'USA'\nAND rtrim(a.oper_country) != 'USA'\n</code></pre> <pre><code>ev_id         |aircraft_key|regis_no|dprt_country|dest_country|owner_country|oper_country|\n--------------+------------+--------+------------+------------+-------------+------------+\n20081202X25642|           1|N400SA  |BR          |BR          |BR           |BR          |\n20081230X00408|           1|N104BN  |BP          |BP          |NH           |NH          |\n20120327X14319|           1|N27TR   |AR          |AR          |AR           |AR          |\n20130305X21219|           1|N471M   |PP          |PP          |NH           |NH          |\n20140922X90145|           1|N1027G  |FR          |UK          |UK           |UK          |\n20150707X14422|           1|N642RM  |RS          |RS          |RS           |RS          |\n20150903X44600|           1|N9068F  |KR          |KR          |NH           |NH          |\n20151112X63511|           1|N692BE  |TU          |LY          |AS           |AS          |\n20160630X91359|           1|N188RU  |CO          |CO          |CO           |CO          |\n20170308X31846|           1|N805LA  |UN          |UN          |NH           |NH          |\n20170728X93637|           1|N1001R  |BR          |BR          |BR           |BR          |\n20180301X63457|           1|N3AD    |CA          |GL          |GE           |GE          |\n20180329X93928|           1|N561LC  |SZ          |UN          |UN           |UN          |\n20180813X53624|           1|N2451J  |DR          |DR          |DR           |DR          |\n20181029X14552|           1|N474CG  |GE          |SZ          |UK           |SZ          |\n20190212X72918|           1|N842CD  |FR          |FR          |FR           |FR          |\n20190708X33047|           1|N3294P  |IC          |IC          |IC           |IC          |\n20190805X10835|           1|N989AE  |CO          |CO          |CB           |CO          |\n20200924X51906|           1|N9056K  |SA          |SA          |SA           |SA          |\n20061214X01789|           1|N79KD   |AU          |GE          |UK           |GE          |\n20090512X15548|           1|N1116G  |CO          |CO          |CO           |CO          |\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_io_ntsb_2002_2021.html#conclusion-only-events-where-either-an-aircraft-with-a-us-registration-number-n1-n99999-n1a-n9999z-n1aa-n999zz-is-involved-or-the-us-is-either-the-departure-country-destination-country-owner-country-or-operator-country-are-considered","title":"Conclusion: Only events where either an aircraft with a U.S. registration number (N1 - N99999, N1A - N9999Z, N1AA - N999ZZ) is involved or the U.S. is either the departure country, destination country, owner country or operator country are considered.","text":""},{"location":"__ARCHIVE__/data_analyis_ntsb_accident_data.html","title":"Data Analysis: Aviation Event Data Sets","text":"<p>Note: The <code>IO-AVSTATS</code> database used here contains NTSB aircraft accident data as of January 1, 2023.</p> <p>This report is about comparing the NTSB Census of US Civil Aviation Events and the <code>IO-AVSTATS</code> database  for consistency.  </p> <p>The NTSB provides U.S. aviation accident data in Microsoft Acces format on its website at the following link. There are three file types to distinguish:</p> <ul> <li><code>Pre2008</code>: contains the data from 1982 to 2008 with some older data,</li> <li><code>avall</code>: contains the data since 2008</li> <li><code>upDDMON</code>: contains update data on the 1st, 8th, 15th and 22nd of each month. </li> </ul> <p>IO-Aero migrated the data from MS Access files <code>Pre2008</code> and <code>avall</code> to a PostgreSQL database on November 5, 2022, and has been processing new update files <code>upDDMON</code> since that time.</p> <pre><code>file_name |first_processed        |last_processed         |counter|\n----------+-----------------------+-----------------------+-------+\nPre2008   |2022-11-05 10:44:38.868|2022-11-05 11:49:12.766|      2|\navall     |2022-11-05 11:59:49.223|2022-11-05 20:31:00.556|      2|\nup01NOV   |2022-12-12 11:57:31.862|                       |      1|\nup08NOV   |2022-12-12 12:05:13.850|                       |      1|\nup15NOV   |2022-12-12 12:07:16.557|                       |      1|\nup22NOV   |2022-11-27 13:40:18.094|2022-12-12 12:08:15.915|      2|\nup01DEC   |2022-12-12 13:26:03.872|                       |      1|\nup08DEC   |2022-12-12 13:29:14.703|                       |      1|\nup15DEC   |2022-12-18 03:03:24.994|                       |      1|\nup22DEC   |2022-12-23 02:41:07.220|                       |      1|\nup01JAN   |2023-01-02 22:19:57.376|                       |      1|\n</code></pre> <p>This process is based on the assumption that by processing the two files <code>Pre2008</code> and <code>avall</code> once and regularly processing all update files since then, the NTSB data and the IO-Aero data match. Unfortunately, this is not the case.</p>"},{"location":"__ARCHIVE__/data_analyis_ntsb_accident_data.html#1-cross-check-of-the-number-of-stored-rows","title":"1. Cross check of the number of stored rows","text":"<p>A comparison of the current versions of the two files <code>Pre2008</code> and <code>avall</code> with the <code>IO-AVSTATS</code> database gives the following picture:</p> <p></p> <p>From this, one can clearly conclude that the NTSB is making data deletions without reflecting this in the update files.</p>"},{"location":"__ARCHIVE__/data_analyis_ntsb_accident_data.html#2-consistency-check-of-ms-access-file-avall","title":"2. Consistency check of MS Access file <code>avall</code>","text":"<p>One should expect as a result of loading the NTSB files <code>Pre2008</code>, <code>avall</code> and all subsequent update files that the data in the current NTSB file <code>avall</code> and the <code>IO-AVSTATS</code> database match. This can be easily checked by reloading the current NTSB file <code>avall</code> into the <code>IO-AVSTATS</code> database.  This is possible because in the <code>IO-AVSTATS</code> database a change is only made in a row if one of the columns has changed.</p> <p>However, from the following log it is unfortunately evident that 3 changes in the NTSB database table <code>events</code> are not included in the change files.</p> <pre><code>Progress update 2023-01-08 10:54:57.926471 : ===============================================================================.\nProgress update 2023-01-08 10:54:57.926471 : INFO.00.004 Start Launcher.\nProgress update 2023-01-08 10:54:57.928471 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-08 10:54:57.936971 : INFO.00.008 Arguments task='l_n_a' msaccess='avall'.\nProgress update 2023-01-08 10:54:57.936971 : -------------------------------------------------------------------------------.\nProgress update 2023-01-08 10:54:57.936971 : INFO.00.049 Loading NTSB MS Access database data from file 'avall'.\nProgress update 2023-01-08 10:54:57.937472 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 10:54:57.937472 : INFO.00.054 ODBC driver='DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\avall.mdb;'.\nProgress update 2023-01-08 10:54:58.124971 : INFO.00.021 The following database table is not processed: 'MSysAccessObjects'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysACEs'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysIMEXColumns'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysIMEXSpecs'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysModules2'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupCategories'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroups'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupToObjects'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysNavPaneObjectIDs'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysObjects'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysQueries'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysRelationships'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'Country'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'ct_iaids'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'ct_seqevt'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'eADMSPUB_DataDictionary'.\nProgress update 2023-01-08 10:54:58.126472 : INFO.00.021 The following database table is not processed: 'states'.\nProgress update 2023-01-08 10:54:58.126472 :\nProgress update 2023-01-08 10:54:58.126472 : Database table       : events              &lt;-----------------------------------.\nProgress update 2023-01-08 10:55:05.520972 : Number of rows so far read :   5000.\nProgress update 2023-01-08 10:55:12.226010 : Number of rows so far read :  10000.\nProgress update 2023-01-08 10:55:18.856471 : Number of rows so far read :  15000.\nProgress update 2023-01-08 10:55:25.430471 : Number of rows so far read :  20000.\nProgress update 2023-01-08 10:55:32.083403 : Number of rows so far read :  25000.\nProgress update 2023-01-08 10:55:32.152403 : Number rows selected :  25053.\nProgress update 2023-01-08 10:55:32.152403 : Number rows updated  :      3.\nProgress update 2023-01-08 10:55:32.171903 :\nProgress update 2023-01-08 10:55:32.171903 : Database table       : aircraft            &lt;-----------------------------------.\nProgress update 2023-01-08 10:59:44.049422 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:03:55.709177 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:08:07.079556 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:12:18.158872 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:16:29.489073 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:16:51.969021 : Number rows selected :  25448.\nProgress update 2023-01-08 11:16:51.992520 :\nProgress update 2023-01-08 11:16:51.992520 : Database table       : dt_events           &lt;-----------------------------------.\nProgress update 2023-01-08 11:16:56.112522 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:17:00.062021 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:17:04.009521 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:17:07.971827 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:17:11.947351 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:17:15.920851 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:17:19.910351 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:17:23.956872 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:17:28.006459 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:17:31.985360 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:17:36.006304 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:17:40.029105 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:17:44.082605 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:17:48.120527 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:17:52.097052 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:17:56.148091 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:18:00.158587 : Number rows selected :  84875.\nProgress update 2023-01-08 11:18:00.167086 :\nProgress update 2023-01-08 11:18:00.167086 : Database table       : ntsb_admin          &lt;-----------------------------------.\nProgress update 2023-01-08 11:18:04.299087 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:18:08.354587 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:18:12.397087 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:18:16.441587 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:18:20.477758 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:18:20.526759 : Number rows selected :  25055.\nProgress update 2023-01-08 11:18:20.528759 :\nProgress update 2023-01-08 11:18:20.528759 : Database table       : dt_aircraft         &lt;-----------------------------------.\nProgress update 2023-01-08 11:18:25.120259 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:18:29.163736 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:18:33.278735 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:18:37.303235 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:18:41.307235 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:18:45.302735 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:18:49.414235 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:18:53.486735 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:18:57.497234 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:19:01.475167 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:19:05.450167 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:19:09.479167 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:19:13.533167 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:19:17.643945 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:19:21.688945 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:19:25.742069 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:19:29.785071 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:19:33.842569 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:19:37.808569 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:19:41.772069 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:19:45.770178 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:19:49.722678 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:19:53.745178 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:19:57.727178 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:20:01.755178 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:20:05.910679 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:20:09.945678 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:20:13.965285 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:20:17.994762 : Number of rows so far read : 145000.\nProgress update 2023-01-08 11:20:21.985261 : Number of rows so far read : 150000.\nProgress update 2023-01-08 11:20:26.051761 : Number of rows so far read : 155000.\nProgress update 2023-01-08 11:20:30.140762 : Number of rows so far read : 160000.\nProgress update 2023-01-08 11:20:34.184261 : Number of rows so far read : 165000.\nProgress update 2023-01-08 11:20:38.170761 : Number of rows so far read : 170000.\nProgress update 2023-01-08 11:20:42.181261 : Number of rows so far read : 175000.\nProgress update 2023-01-08 11:20:46.199261 : Number of rows so far read : 180000.\nProgress update 2023-01-08 11:20:50.216762 : Number of rows so far read : 185000.\nProgress update 2023-01-08 11:20:54.232387 : Number of rows so far read : 190000.\nProgress update 2023-01-08 11:20:58.254460 : Number of rows so far read : 195000.\nProgress update 2023-01-08 11:21:02.275612 : Number of rows so far read : 200000.\nProgress update 2023-01-08 11:21:06.309111 : Number of rows so far read : 205000.\nProgress update 2023-01-08 11:21:10.315400 : Number of rows so far read : 210000.\nProgress update 2023-01-08 11:21:11.126900 : Number rows selected : 211020.\nProgress update 2023-01-08 11:21:11.149399 :\nProgress update 2023-01-08 11:21:11.149399 : Database table       : engines             &lt;-----------------------------------.\nProgress update 2023-01-08 11:21:15.703845 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:21:20.078960 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:21:24.511459 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:21:28.959459 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:21:31.813459 : Number rows selected :  23220.\nProgress update 2023-01-08 11:21:31.819959 :\nProgress update 2023-01-08 11:21:31.820459 : Database table       : events_sequence     &lt;-----------------------------------.\nProgress update 2023-01-08 11:21:36.214959 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:21:40.382959 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:21:44.580459 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:21:48.780298 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:21:52.972298 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:21:57.171033 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:22:01.358439 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:22:05.542086 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:22:09.698086 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:22:13.884087 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:22:17.898086 : Number rows selected :  54812.\nProgress update 2023-01-08 11:22:17.906086 :\nProgress update 2023-01-08 11:22:17.906086 : Database table       : findings            &lt;-----------------------------------.\nProgress update 2023-01-08 11:22:22.540089 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:22:26.864086 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:22:31.184492 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:22:35.492492 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:22:39.780492 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:22:44.130992 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:22:48.454677 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:22:52.789844 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:22:57.120637 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:23:01.419796 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:23:05.766431 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:23:09.791340 : Number rows selected :  59658.\nProgress update 2023-01-08 11:23:09.805840 :\nProgress update 2023-01-08 11:23:09.805840 : Database table       : flight_crew         &lt;-----------------------------------.\nProgress update 2023-01-08 11:23:14.958784 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:23:19.820268 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:23:24.729594 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:23:29.622084 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:23:34.540084 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:23:35.199084 : Number rows selected :  25673.\nProgress update 2023-01-08 11:23:35.208584 :\nProgress update 2023-01-08 11:23:35.208584 : Database table       : injury              &lt;-----------------------------------.\nProgress update 2023-01-08 11:23:39.735841 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:23:43.896539 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:23:47.861665 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:23:51.935371 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:23:55.984372 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:24:00.036871 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:24:04.101597 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:24:08.135097 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:24:12.153455 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:24:16.246138 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:24:20.300638 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:24:24.341138 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:24:28.366638 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:24:32.397569 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:24:36.310164 : Number rows selected :  74810.\nProgress update 2023-01-08 11:24:36.318164 :\nProgress update 2023-01-08 11:24:36.318664 : Database table       : narratives          &lt;-----------------------------------.\nProgress update 2023-01-08 11:25:06.658888 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:25:38.351141 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:26:14.370031 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:26:41.030434 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:26:52.552326 : Number rows selected :  24170.\nProgress update 2023-01-08 11:26:52.576323 :\nProgress update 2023-01-08 11:26:52.576323 : Database table       : occurrences         &lt;-----------------------------------.\nProgress update 2023-01-08 11:26:52.576824 : Number rows selected :      0.\nProgress update 2023-01-08 11:26:52.576824 :\nProgress update 2023-01-08 11:26:52.576824 : Database table       : dt_flight_crew      &lt;-----------------------------------.\nProgress update 2023-01-08 11:26:57.021429 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:27:01.116839 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:27:05.160588 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:27:09.299411 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:27:13.347448 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:27:17.359906 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:27:21.401896 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:27:25.572195 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:27:29.662676 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:27:33.798273 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:27:37.851519 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:27:41.919623 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:27:46.008191 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:27:50.072306 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:27:54.155886 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:27:58.186193 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:28:02.246693 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:28:06.272698 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:28:10.298302 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:28:14.333921 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:28:18.352599 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:28:22.371189 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:28:26.522324 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:28:30.583703 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:28:34.645931 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:28:38.709503 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:28:42.754553 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:28:46.829771 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:28:49.203271 : Number rows selected : 142895.\nProgress update 2023-01-08 11:28:49.217771 :\nProgress update 2023-01-08 11:28:49.217771 : Database table       : flight_time         &lt;-----------------------------------.\nProgress update 2023-01-08 11:28:54.286174 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:28:58.389961 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:29:02.508078 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:29:06.645259 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:29:10.783724 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:29:14.909806 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:29:19.026191 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:29:23.150194 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:29:27.367274 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:29:31.566274 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:29:35.726611 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:29:39.869869 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:29:43.982202 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:29:48.071534 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:29:52.189364 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:29:56.321801 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:30:00.433774 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:30:04.542272 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:30:08.643190 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:30:12.731690 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:30:16.840690 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:30:20.935190 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:30:25.021998 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:30:29.117324 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:30:33.218599 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:30:37.348908 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:30:41.463377 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:30:45.552042 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:30:49.702545 : Number of rows so far read : 145000.\nProgress update 2023-01-08 11:30:53.813622 : Number of rows so far read : 150000.\nProgress update 2023-01-08 11:30:57.958047 : Number of rows so far read : 155000.\nProgress update 2023-01-08 11:31:02.064574 : Number of rows so far read : 160000.\nProgress update 2023-01-08 11:31:06.185597 : Number of rows so far read : 165000.\nProgress update 2023-01-08 11:31:10.347399 : Number of rows so far read : 170000.\nProgress update 2023-01-08 11:31:14.460899 : Number of rows so far read : 175000.\nProgress update 2023-01-08 11:31:18.566522 : Number of rows so far read : 180000.\nProgress update 2023-01-08 11:31:22.656724 : Number of rows so far read : 185000.\nProgress update 2023-01-08 11:31:26.759541 : Number of rows so far read : 190000.\nProgress update 2023-01-08 11:31:30.850994 : Number of rows so far read : 195000.\nProgress update 2023-01-08 11:31:34.977994 : Number of rows so far read : 200000.\nProgress update 2023-01-08 11:31:39.104760 : Number of rows so far read : 205000.\nProgress update 2023-01-08 11:31:43.224278 : Number of rows so far read : 210000.\nProgress update 2023-01-08 11:31:47.343758 : Number of rows so far read : 215000.\nProgress update 2023-01-08 11:31:51.473308 : Number of rows so far read : 220000.\nProgress update 2023-01-08 11:31:55.610395 : Number of rows so far read : 225000.\nProgress update 2023-01-08 11:31:59.722655 : Number of rows so far read : 230000.\nProgress update 2023-01-08 11:32:03.829224 : Number of rows so far read : 235000.\nProgress update 2023-01-08 11:32:07.926916 : Number of rows so far read : 240000.\nProgress update 2023-01-08 11:32:12.021113 : Number of rows so far read : 245000.\nProgress update 2023-01-08 11:32:16.121738 : Number of rows so far read : 250000.\nProgress update 2023-01-08 11:32:20.230809 : Number of rows so far read : 255000.\nProgress update 2023-01-08 11:32:24.428988 : Number of rows so far read : 260000.\nProgress update 2023-01-08 11:32:28.552488 : Number of rows so far read : 265000.\nProgress update 2023-01-08 11:32:32.683488 : Number of rows so far read : 270000.\nProgress update 2023-01-08 11:32:36.809492 : Number of rows so far read : 275000.\nProgress update 2023-01-08 11:32:40.943466 : Number of rows so far read : 280000.\nProgress update 2023-01-08 11:32:45.062966 : Number of rows so far read : 285000.\nProgress update 2023-01-08 11:32:49.188608 : Number of rows so far read : 290000.\nProgress update 2023-01-08 11:32:53.319314 : Number of rows so far read : 295000.\nProgress update 2023-01-08 11:32:57.395559 : Number of rows so far read : 300000.\nProgress update 2023-01-08 11:33:01.511843 : Number of rows so far read : 305000.\nProgress update 2023-01-08 11:33:05.647894 : Number of rows so far read : 310000.\nProgress update 2023-01-08 11:33:09.775894 : Number of rows so far read : 315000.\nProgress update 2023-01-08 11:33:13.911762 : Number of rows so far read : 320000.\nProgress update 2023-01-08 11:33:14.060262 : Number rows selected : 320177.\nProgress update 2023-01-08 11:33:14.105399 :\nProgress update 2023-01-08 11:33:14.105399 : Database table       : seq_of_events       &lt;-----------------------------------.\nProgress update 2023-01-08 11:33:14.105899 : Number rows selected :      0.\nProgress update 2023-01-08 11:33:14.205984 : INFO.00.065 Cleansing PostgreSQL data.\nProgress update 2023-01-08 11:33:14.206484 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:14.248984 : INFO.00.066 Cleansing table 'aircraft' column 'acft_category'.\nProgress update 2023-01-08 11:33:16.897611 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:16.897611 : INFO.00.066 Cleansing table 'aircraft' column 'far_part'.\nProgress update 2023-01-08 11:33:19.546798 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:19.547298 : INFO.00.066 Cleansing table 'events' column 'ev_city'.\nProgress update 2023-01-08 11:33:20.870836 : Number cols trimmed  :      3.\nProgress update 2023-01-08 11:33:22.121143 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:22.121143 : INFO.00.066 Cleansing table 'events' column 'ev_site_zipcode'.\nProgress update 2023-01-08 11:33:24.665371 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:24.665928 : INFO.00.066 Cleansing table 'events' column 'latitude'.\nProgress update 2023-01-08 11:33:27.213439 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:27.213439 : INFO.00.066 Cleansing table 'events' column 'longitude'.\nProgress update 2023-01-08 11:33:29.755180 : -------------------------------------------------------------------------------.\nProgress update 2023-01-08 11:33:29.755180 :    2,311,946,209,000 ns - Total time launcher.\nProgress update 2023-01-08 11:33:29.755180 : INFO.00.006 End   Launcher.\nProgress update 2023-01-08 11:33:29.755679 : ===============================================================================.\n</code></pre>"},{"location":"__ARCHIVE__/data_analyis_ntsb_accident_data.html#3-conclusions","title":"3. Conclusions","text":"<p>The following actions should address these issues:</p> <ol> <li>A new column <code>last_seen_in_avall</code> of format timestamp is added for all NTSB database tables stored in the <code>IO-AVSTATS</code> database.</li> <li>The <code>avall</code> file is reloaded instead of the current update file at a rate to be defined.  Thereby all rows of the NTSB file in the IO-AVSTATS database are provided with the same timestamp in the column <code>last_seen_in_avall</code>.  After loading the NTSB data, all rows since 2008 in the <code>IO-AVSTATS</code> database that do not contain this timestamp are deleted. </li> <li>It is checked when loading the data that no data from before 2008 is affected.</li> </ol>"},{"location":"__ARCHIVE__/data_analyis_ntsb_accident_data.html#4","title":"4.","text":"<p><code>`sql SELECT 'aircraft'                                                                                      \"DB Table\",        (SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM aircraft)                                                                 \"Total\" UNION SELECT 'dt_aircraft'                                                                                      \"DB Table\",        (SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM dt_aircraft)                                                                 \"Total\" UNION SELECT 'dt_events'                                                                                      \"DB Table\",        (SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM dt_events)                                                                 \"Total\" UNION SELECT 'dt_flight_crew'                                                                                      \"DB Table\",        (SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM dt_flight_crew)                                                                 \"Total\" UNION SELECT 'engines'                                                                                      \"DB Table\",        (SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM engines)                                                                 \"Total\" UNION SELECT 'events'                                            \"DB Table\",        (SELECT count(*) FROM events WHERE ev_year &lt; 2008)  \"&lt; 2008\",        (SELECT count(*) FROM events WHERE ev_year &gt;= 2008) \"&gt;= 2008\",        (SELECT count(*) FROM events)                       \"Total\" union SELECT 'events_sequence'                                                                                      \"DB Table\",        (SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM events_sequence)                                                                 \"Total\" union SELECT 'findings'                                                                                      \"DB Table\",        (SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM findings)                                                                 \"Total\" union SELECT 'flight_crew'                                                                                      \"DB Table\",        (SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM flight_crew)                                                                 \"Total\" union SELECT 'flight_time'                                                                                      \"DB Table\",        (SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM flight_time)                                                                 \"Total\" union SELECT 'injury'                                                                                      \"DB Table\",        (SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM injury)                                                                 \"Total\" union SELECT 'narratives'                                                                                      \"DB Table\",        (SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM narratives)                                                                 \"Total\" union SELECT 'ntsb_admin'                                                                                      \"DB Table\",        (SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM ntsb_admin)                                                                 \"Total\" union SELECT 'occurrences'                                                                                      \"DB Table\",        (SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM occurrences)                                                                 \"Total\" union SELECT 'seq_of_events'                                                                                      \"DB Table\",        (SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",        (SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",        (SELECT count(*) FROM seq_of_events)                                                                 \"Total\" ORDER BY 1</code></p> <p><code>SELECT 'aircraft' AS db_table,        count(*)   AS total FROM aircraft UNION SELECT 'dt_aircraft' AS db_table,        count(*)      AS total FROM dt_aircraft UNION SELECT 'dt_events' AS db_table,        count(*)    AS total FROM dt_events UNION SELECT 'dt_flight_crew' AS db_table,        count(*)         AS total FROM dt_flight_crew UNION SELECT 'engines' AS db_table,        count(*)  AS total FROM engines UNION SELECT 'events' AS db_table,        count(*) AS total FROM events UNION SELECT 'events_sequence' AS db_table,        count(*)          AS total FROM events_sequence UNION SELECT 'findings' AS db_table,        count(*)   AS total FROM findings UNION SELECT 'flight_crew' AS db_table,        count(*)      AS total FROM flight_crew UNION SELECT 'flight_time' AS db_table,        count(*)      AS total FROM flight_time UNION SELECT 'injury' AS db_table,        count(*) AS total FROM injury UNION SELECT 'narratives' AS db_table,        count(*)     AS total FROM narratives UNION SELECT 'ntsb_admin' AS db_table,        count(*)     AS total FROM ntsb_admin UNION SELECT 'occurrences' AS db_table,        count(*)      AS total FROM occurrences UNION SELECT 'seq_of_events' AS db_table,        count(*)        AS total FROM seq_of_events ORDER BY 1</code></p>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html","title":"Data Analysis: Events in 2023","text":"<p>Important: All statistics provided below are based on NTSB data as of February 1, 2023 (period 2008 to 2023).</p>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html#1-events-by-up99monmdb","title":"1. Events by up99MON.mdb","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#08122022","title":"08.12.2022","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#ntsb","title":"NTSB","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#io-avstats-db","title":"IO-AVSTATS-DB","text":"<pre><code>ev_id         |ntsb_no   |ev_type|ev_date                |ev_dow|ev_time|ev_tmzn|ev_city    |\n--------------+----------+-------+-----------------------+------+-------+-------+-----------+\n20221205106413|GAA23WA036|ACC    |2023-11-14 00:00:00.000|Tu    |   1632|       |Ramingining|\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html#08012023","title":"08.01.2023","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#ntsb_1","title":"NTSB","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#io-avstats-db_1","title":"IO-AVSTATS-DB","text":"<pre><code>ev_id         |ntsb_no   |ev_type|ev_date                |ev_dow|ev_time|ev_tmzn|ev_city            |\n--------------+----------+-------+-----------------------+------+-------+-------+-------------------+\n20230102106520|WPR23FA080|ACC    |2023-01-02 00:00:00.000|Mo    |   1139|       |Provo              |\n20230103106528|GAA23WA049|ACC    |2023-01-02 00:00:00.000|Mo    |   1230|UTC    |Shoreham on the Sea|\n20230104106534|DCA23LA114|ACC    |2023-01-02 00:00:00.000|Mo    |   1630|       |Queens             |\n20230105106536|WPR23LA082|ACC    |2023-01-01 00:00:00.000|Su    |   1440|UTC    |Watsonville        |\n20230106106545|ERA23LA102|ACC    |2023-01-05 00:00:00.000|Th    |   1319|UTC    |CALHOUN            |\n20230106106547|GAA23WA053|ACC    |2023-01-01 00:00:00.000|Su    |   1814|UTC    |Madhya Pradesh     |\n20221205106413|GAA23WA036|ACC    |2023-11-14 00:00:00.000|Tu    |   1632|       |Ramingining        |\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html#15012023","title":"15.01.2023","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#ntsb_2","title":"NTSB","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#io-avstats-db_2","title":"IO-AVSTATS-DB","text":"<pre><code>ev_id         |ntsb_no   |ev_type|ev_date                |ev_dow|ev_time|ev_tmzn|ev_city            |\n--------------+----------+-------+-----------------------+------+-------+-------+-------------------+\n20230102106520|WPR23FA080|ACC    |2023-01-02 00:00:00.000|Mo    |   1139|       |Provo              |\n20230103106528|GAA23WA049|ACC    |2023-01-02 00:00:00.000|Mo    |   1230|UTC    |Shoreham on the Sea|\n20230104106534|DCA23LA114|ACC    |2023-01-02 00:00:00.000|Mo    |   1630|       |Queens             |\n20230105106536|WPR23LA082|ACC    |2023-01-01 00:00:00.000|Su    |   1440|UTC    |Watsonville        |\n20230106106545|ERA23LA102|ACC    |2023-01-05 00:00:00.000|Th    |   1319|UTC    |CALHOUN            |\n20230106106547|GAA23WA053|ACC    |2023-01-01 00:00:00.000|Su    |   1814|UTC    |Madhya Pradesh     |\n20221205106413|GAA23WA036|ACC    |2023-11-14 00:00:00.000|Tu    |   1632|       |Ramingining        |\n20230103106524|CEN23LA073|ACC    |2023-01-01 00:00:00.000|Su    |   1400|UTC    |Conway             |\n20230107106548|CEN23FA074|ACC    |2023-01-06 00:00:00.000|Fr    |   1751|       |Fayettevillw       |\n20230109106551|ERA23LA104|ACC    |2023-01-03 00:00:00.000|Tu    |   1235|UTC    |Opa-locka          |\n20230110106558|CEN23LA075|ACC    |2023-01-03 00:00:00.000|Tu    |   1704|UTC    |Yukon              |\n20230110106559|GAA23WA054|ACC    |2023-01-10 00:00:00.000|Tu    |   1230|UTC    |Changuinoia        |\n20230110106561|WPR23LA086|ACC    |2023-01-07 00:00:00.000|Sa    |   1318|UTC    |Kent               |\n20230110106562|CEN23LA076|ACC    |2023-01-05 00:00:00.000|Th    |   1220|UTC    |Council Bluffs     |\n20230113106572|CEN23WA078|INC    |2023-01-12 00:00:00.000|Th    |    652|UTC    |Amsterdam          |\n20230114106576|DCA23WA124|INC    |2023-01-05 00:00:00.000|Th    |     53|UTC    |Hahn               |\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html#22012023","title":"22.01.2023","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#ntsb_3","title":"NTSB","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#io-avstats-db_3","title":"IO-AVSTATS-DB","text":"<pre><code>ev_id         |ntsb_no   |ev_type|ev_date                |ev_dow|ev_time|ev_tmzn|ev_city            |\n--------------+----------+-------+-----------------------+------+-------+-------+-------------------+\n20230102106520|WPR23FA080|ACC    |2023-01-02 00:00:00.000|Mo    |   1139|       |Provo              |\n20230103106528|GAA23WA049|ACC    |2023-01-02 00:00:00.000|Mo    |   1230|UTC    |Shoreham on the Sea|\n20230105106536|WPR23LA082|ACC    |2023-01-01 00:00:00.000|Su    |   1440|UTC    |Watsonville        |\n20230106106545|ERA23LA102|ACC    |2023-01-05 00:00:00.000|Th    |   1319|UTC    |CALHOUN            |\n20230106106547|GAA23WA053|ACC    |2023-01-01 00:00:00.000|Su    |   1814|UTC    |Madhya Pradesh     |\n20230104106534|DCA23LA114|ACC    |2023-01-02 00:00:00.000|Mo    |   1635|       |New York           |\n20221205106413|GAA23WA036|ACC    |2023-11-14 00:00:00.000|Tu    |   1632|       |Ramingining        |\n20230103106524|CEN23LA073|ACC    |2023-01-01 00:00:00.000|Su    |   1400|UTC    |Conway             |\n20230107106548|CEN23FA074|ACC    |2023-01-06 00:00:00.000|Fr    |   1751|       |Fayettevillw       |\n20230109106551|ERA23LA104|ACC    |2023-01-03 00:00:00.000|Tu    |   1235|UTC    |Opa-locka          |\n20230110106558|CEN23LA075|ACC    |2023-01-03 00:00:00.000|Tu    |   1704|UTC    |Yukon              |\n20230110106559|GAA23WA054|ACC    |2023-01-10 00:00:00.000|Tu    |   1230|UTC    |Changuinoia        |\n20230110106561|WPR23LA086|ACC    |2023-01-07 00:00:00.000|Sa    |   1318|UTC    |Kent               |\n20230110106562|CEN23LA076|ACC    |2023-01-05 00:00:00.000|Th    |   1220|UTC    |Council Bluffs     |\n20230113106572|CEN23WA078|INC    |2023-01-12 00:00:00.000|Th    |    652|UTC    |Amsterdam          |\n20230114106576|DCA23WA124|INC    |2023-01-05 00:00:00.000|Th    |     53|UTC    |Hahn               |\n20230105106537|WPR23FA083|ACC    |2023-01-04 00:00:00.000|We    |   1456|       |New Harmony        |\n20230108106549|ERA23FA103|ACC    |2023-01-07 00:00:00.000|Sa    |   1213|UTC    |Suffolk            |\n20230109106552|ERA23LA105|ACC    |2023-01-05 00:00:00.000|Th    |   1604|UTC    |Paris              |\n20230110106560|ERA23LA107|ACC    |2023-01-01 00:00:00.000|Su    |   1930|UTC    |Old Bridge         |\n20230112106567|GAA23WA055|ACC    |2023-01-06 00:00:00.000|Fr    |   1920|UTC    |Marab\u00e1 Paulista    |\n20230116106578|GAA23WA056|ACC    |2023-01-10 00:00:00.000|Tu    |   1230|UTC    |Lesna Jania        |\n20230116106579|CEN23FA079|ACC    |2023-01-16 00:00:00.000|Mo    |   1242|       |Kingfisher         |\n20230117106582|CEN23LA080|ACC    |2023-01-10 00:00:00.000|Tu    |   1357|UTC    |Boling Brook       |\n20230117106583|ERA23LA111|ACC    |2023-01-12 00:00:00.000|Th    |   1630|UTC    |Somerville         |\n20230117106584|CEN23LA081|ACC    |2023-01-14 00:00:00.000|Sa    |   1425|UTC    |Conroe             |\n20230117106585|CEN23LA082|ACC    |2023-01-14 00:00:00.000|Sa    |   1130|UTC    |Las Animas         |\n20230117106587|CEN23LA083|ACC    |2023-01-15 00:00:00.000|Su    |    930|UTC    |Brashear           |\n20230117106588|CEN23FA084|ACC    |2023-01-17 00:00:00.000|Tu    |   1039|UTC    |Yoakum             |\n20230118106592|ANC23LA013|ACC    |2023-01-13 00:00:00.000|Fr    |   1545|       |Wasilla            |\n20230118106593|WPR23LA087|ACC    |2023-01-18 00:00:00.000|We    |    830|UTC    |Poplar             |\n20230118106595|WPR23LA088|ACC    |2023-01-11 00:00:00.000|We    |   1100|UTC    |Julian             |\n20230118106596|WPR23LA089|ACC    |2023-01-12 00:00:00.000|Th    |   1300|UTC    |Yelm               |\n20230118106598|WPR23LA091|ACC    |2023-01-15 00:00:00.000|Su    |   1025|UTC    |San Diego          |\n20230119106601|ENG23WA012|INC    |2023-01-18 00:00:00.000|We    |   1415|       |Sydney             |\n20230119106607|CEN23LA086|ACC    |2023-01-10 00:00:00.000|Tu    |   1240|UTC    |Fowlerton          |\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html#2-status-of-avallmdb-and-io-avstats-db-as-of-february-1-2023","title":"2. Status of avall.mdb and IO-AVSTATS-DB as of February 1, 2023","text":""},{"location":"__ARCHIVE__/data_reconc_events_2023.html#21-ntsb-avallmdb","title":"2.1 NTSB avall.mdb","text":"<p>Events: 68</p> <pre><code>ev_id         ntsb_no     ev_type  ev_date  ev_dow   ev_time  ev_tmzn   ev_city             ev_state  ev_country  ev_site_zipcode  ev_year\n20230102106520WPR23FA080  ACC      02.01.202Mo            1135          Provo               UT        USA         84601                 2023\n20230103106524CEN23LA073  ACC      01.01.202Su            1400UTC       Conway              AR        USA         72034                 2023\n20230103106528GAA23WA049  ACC      02.01.202Mo            1230UTC       Shoreham on the Sea           UK                                2023\n20230104106534DCA23LA114  ACC      02.01.202Mo            1635          New York            NY        USA                               2023\n20230105106536WPR23LA082  ACC      01.01.202Su            1440UTC       Watsonville         CA        USA         95076                 2023\n20230105106537WPR23FA083  ACC      04.01.202We            1456          New Harmony         UT        USA         84757                 2023\n20230106106542ERA23LA101  ACC      03.01.202Tu            1139UTC       Atlantic Ocean      AO        TK                                2023\n20230106106545ERA23LA102  ACC      05.01.202Th            1319UTC       CALHOUN             GA        USA                               2023\n20230106106547GAA23WA053  ACC      01.01.202Su            1814UTC       Madhya Pradesh      OF        IN                                2023\n20230107106548CEN23FA074  ACC      06.01.202Fr            1751          Fayettevillw        AR        USA         72701                 2023\n20230108106549ERA23FA103  ACC      07.01.202Sa            1213UTC       Suffolk             VA        USA         23434                 2023\n20230109106551ERA23LA104  ACC      03.01.202Tu            1235UTC       Opa-locka           FL        USA         33054                 2023\n20230109106552ERA23LA105  ACC      05.01.202Th            1604UTC       Paris               KY        USA         40361                 2023\n20230110106557ANC23LA011  ACC      02.01.202Mo            1457UTC       Kenai               AK        USA         99611                 2023\n20230110106558CEN23LA075  ACC      03.01.202Tu            1704UTC       Yukon               OK        USA         73099                 2023\n20230110106559GAA23WA054  ACC      10.01.202Tu            1230UTC       Changuinoia                   PM          0                     2023\n20230110106560ERA23LA107  ACC      01.01.202Su            1930UTC       Old Bridge          NJ        USA                               2023\n20230110106561WPR23LA086  ACC      07.01.202Sa            1318UTC       Kent                WA        USA                               2023\n20230110106562CEN23LA076  ACC      05.01.202Th            1220UTC       Council Bluffs      IA        USA                               2023\n20230112106566CEN23FA077  ACC      11.01.202We            1924UTC       Auburn              NE        USA         68305                 2023\n20230112106567GAA23WA055  ACC      06.01.202Fr            1920UTC       Marab\u00e1 Paulista               BR                                2023\n20230113106572CEN23WA078  INC      12.01.202Th             652UTC       Amsterdam                     NL                                2023\n20230113106575ERA23FA109  ACC      12.01.202Th            2017UTC       Dawsonville         GA        USA         30534                 2023\n20230114106576DCA23WA124  INC      05.01.202Th              53UTC       Hahn                          GE                                2023\n20230115106577DCA23LA125  ACC      14.01.202Sa             144UTC       Queens              NY        USA                               2023\n20230116106578GAA23WA056  ACC      10.01.202Tu            1230UTC       Lesna Jania                   PL          0                     2023\n20230116106579CEN23FA079  ACC      16.01.202Mo            1242          Kingfisher          OK        USA         73750                 2023\n20230117106582CEN23LA080  ACC      10.01.202Tu            1357UTC       Boling Brook        IL        USA         60440                 2023\n20230117106583ERA23LA111  ACC      12.01.202Th            1630UTC       Somerville          TN        USA                               2023\n20230117106584CEN23LA081  ACC      14.01.202Sa            1425UTC       Conroe              TX        USA         77301                 2023\n20230117106585CEN23LA082  ACC      14.01.202Sa            1130UTC       Las Animas          CO        USA         81054                 2023\n20230117106587CEN23LA083  ACC      15.01.202Su             930UTC       Brashear            TX        USA         75420                 2023\n20230117106588CEN23FA084  ACC      17.01.202Tu            1039UTC       Yoakum              TX        USA         77995                 2023\n20230117106589ANC23LA012  ACC      16.01.202Mo             500UTC       Kaunakakai          HI        USA                               2023\n20230118106590CEN23LA085  ACC      17.01.202Tu            1515UTC       Brush               CO        USA         80723                 2023\n20230118106592ANC23LA013  ACC      13.01.202Fr            1545          Wasilla             AK        USA         99654                 2023\n20230118106593WPR23LA087  ACC      18.01.202We             818UTC       Poplar              MT        USA         59255                 2023\n20230118106594GAA23WA057  INC      08.01.202Su            1130          Hamilton Island               AS                                2023\n20230118106595WPR23LA088  ACC      11.01.202We            1100UTC       Julian              CA        USA         92036                 2023\n20230118106596WPR23LA089  ACC      12.01.202Th            1300UTC       Yelm                WA        USA         98597                 2023\n20230118106597WPR23LA090  ACC      16.01.202Mo            1045UTC       Minidoka            ID        USA                               2023\n20230118106598WPR23LA091  ACC      15.01.202Su            1030UTC       San Diego           CA        USA         92123                 2023\n20230118106599WPR23FA092  ACC      18.01.202We            1307          Modesto             CA        USA                               2023\n20230119106601ENG23WA012  INC      18.01.202We            1415          Sydney              OF        AS                                2023\n20230119106604WPR23LA094  ACC      19.01.202Th             800UTC       Carlsbad            CA        USA                               2023\n20230119106607CEN23LA086  ACC      10.01.202Tu            1240UTC       Fowlerton           TX        USA         78921                 2023\n20230123106615ERA23LA114  ACC      20.01.202Fr            1530UTC       Wauchula            FL        USA                               2023\n20230123106616ERA23LA115  ACC      20.01.202Fr            1930UTC       Benton              TN        USA         37307                 2023\n20230123106617ERA23LA116  ACC      19.01.202Th            1130UTC       Orlando             FL        USA                               2023\n20230123106618WPR23LA095  ACC      20.01.202Fr             930UTC       Calexico            CA        USA         92231                 2023\n20230123106621CEN23LA089  ACC      20.01.202Fr             850UTC       San Antonio         TX        USA                               2023\n20230123106622CEN23LA090  ACC      20.01.202Fr            1830UTC       Hyannis             NE        USA         69350                 2023\n20230124106624GAA23WA058  ACC      11.01.202We             730UTC       Boa Vista                     BR                                2023\n20230124106626CEN23LA092  ACC      23.01.202Mo            1000UTC       Eden Prairie        MN        USA         55347                 2023\n20230124106627WPR23LA096  ACC      23.01.202Mo            1645UTC       Mesa                AZ        USA         85212                 2023\n20230124106629ANC23LA015  ACC      16.01.202Mo            1408          Anchorage           AK        USA         99515                 2023\n20230124106631WPR23LA097  ACC      24.01.202Tu            1300UTC       Sweet Home          OR        USA         97386                 2023\n20230125106632DCA23LA133  INC      23.01.202Mo            1611          Honolulu            HI        USA                               2023\n20230126106635DCA23WA135  ACC      07.01.202Sa            1000          Miyazaki                      JA                                2023\n20230126106636DCA23WA136  INC      23.01.202Mo             830UTC       Kermanshah                    IR                                2023\n20230126106637DCA23WA137  ACC      25.01.202We             740          Narita                        JA                                2023\n20230126106638DCA23WA138  INC      26.01.202Th             905UTC       Merauke-Papua Island          ID                                2023\n20230126106639CEN23LA094  ACC      24.01.202Tu            1832UTC       Joplin              MO        USA                               2023\n20230127106640ERA23LA118  ACC      23.01.202Mo            1844UTC       Raleigh/Durham      NC        USA         27612                 2023\n20230130106647WPR23LA099  ACC      24.01.202Tu            1929UTC       Evanston            UT        USA                               2023\n20230130106651ERA23LA122  ACC      28.01.202Sa            2351UTC       Sylacauga           AL        USA                               2023\n20230130106658WPR23LA101  ACC      29.01.202Su            1300UTC       Dallesport          WA        USA                               2023\n20230131106659DCA23WA141  INC      29.01.202Su            1815UTC       Doha                          QA                                2023\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_2023.html#22-io-avstats-db","title":"2.2 IO-AVSTATS-DB","text":"<p>Events: 36</p> <pre><code>ev_id         |ntsb_no   |ev_type|ev_date                |ev_dow|ev_time|ev_tmzn|ev_city            |\n--------------+----------+-------+-----------------------+------+-------+-------+-------------------+\n20230102106520|WPR23FA080|ACC    |2023-01-02 00:00:00.000|Mo    |   1139|       |Provo              |\n20230103106528|GAA23WA049|ACC    |2023-01-02 00:00:00.000|Mo    |   1230|UTC    |Shoreham on the Sea|\n20230105106536|WPR23LA082|ACC    |2023-01-01 00:00:00.000|Su    |   1440|UTC    |Watsonville        |\n20230106106545|ERA23LA102|ACC    |2023-01-05 00:00:00.000|Th    |   1319|UTC    |CALHOUN            |\n20230106106547|GAA23WA053|ACC    |2023-01-01 00:00:00.000|Su    |   1814|UTC    |Madhya Pradesh     |\n20230104106534|DCA23LA114|ACC    |2023-01-02 00:00:00.000|Mo    |   1635|       |New York           |\n20221205106413|GAA23WA036|ACC    |2023-11-14 00:00:00.000|Tu    |   1632|       |Ramingining        |\n20230103106524|CEN23LA073|ACC    |2023-01-01 00:00:00.000|Su    |   1400|UTC    |Conway             |\n20230107106548|CEN23FA074|ACC    |2023-01-06 00:00:00.000|Fr    |   1751|       |Fayettevillw       |\n20230109106551|ERA23LA104|ACC    |2023-01-03 00:00:00.000|Tu    |   1235|UTC    |Opa-locka          |\n20230110106558|CEN23LA075|ACC    |2023-01-03 00:00:00.000|Tu    |   1704|UTC    |Yukon              |\n20230110106559|GAA23WA054|ACC    |2023-01-10 00:00:00.000|Tu    |   1230|UTC    |Changuinoia        |\n20230110106561|WPR23LA086|ACC    |2023-01-07 00:00:00.000|Sa    |   1318|UTC    |Kent               |\n20230110106562|CEN23LA076|ACC    |2023-01-05 00:00:00.000|Th    |   1220|UTC    |Council Bluffs     |\n20230113106572|CEN23WA078|INC    |2023-01-12 00:00:00.000|Th    |    652|UTC    |Amsterdam          |\n20230114106576|DCA23WA124|INC    |2023-01-05 00:00:00.000|Th    |     53|UTC    |Hahn               |\n20230105106537|WPR23FA083|ACC    |2023-01-04 00:00:00.000|We    |   1456|       |New Harmony        |\n20230108106549|ERA23FA103|ACC    |2023-01-07 00:00:00.000|Sa    |   1213|UTC    |Suffolk            |\n20230109106552|ERA23LA105|ACC    |2023-01-05 00:00:00.000|Th    |   1604|UTC    |Paris              |\n20230110106560|ERA23LA107|ACC    |2023-01-01 00:00:00.000|Su    |   1930|UTC    |Old Bridge         |\n20230112106567|GAA23WA055|ACC    |2023-01-06 00:00:00.000|Fr    |   1920|UTC    |Marab\u00e1 Paulista    |\n20230116106578|GAA23WA056|ACC    |2023-01-10 00:00:00.000|Tu    |   1230|UTC    |Lesna Jania        |\n20230116106579|CEN23FA079|ACC    |2023-01-16 00:00:00.000|Mo    |   1242|       |Kingfisher         |\n20230117106582|CEN23LA080|ACC    |2023-01-10 00:00:00.000|Tu    |   1357|UTC    |Boling Brook       |\n20230117106583|ERA23LA111|ACC    |2023-01-12 00:00:00.000|Th    |   1630|UTC    |Somerville         |\n20230117106584|CEN23LA081|ACC    |2023-01-14 00:00:00.000|Sa    |   1425|UTC    |Conroe             |\n20230117106585|CEN23LA082|ACC    |2023-01-14 00:00:00.000|Sa    |   1130|UTC    |Las Animas         |\n20230117106587|CEN23LA083|ACC    |2023-01-15 00:00:00.000|Su    |    930|UTC    |Brashear           |\n20230117106588|CEN23FA084|ACC    |2023-01-17 00:00:00.000|Tu    |   1039|UTC    |Yoakum             |\n20230118106592|ANC23LA013|ACC    |2023-01-13 00:00:00.000|Fr    |   1545|       |Wasilla            |\n20230118106593|WPR23LA087|ACC    |2023-01-18 00:00:00.000|We    |    830|UTC    |Poplar             |\n20230118106595|WPR23LA088|ACC    |2023-01-11 00:00:00.000|We    |   1100|UTC    |Julian             |\n20230118106596|WPR23LA089|ACC    |2023-01-12 00:00:00.000|Th    |   1300|UTC    |Yelm               |\n20230118106598|WPR23LA091|ACC    |2023-01-15 00:00:00.000|Su    |   1025|UTC    |San Diego          |\n20230119106601|ENG23WA012|INC    |2023-01-18 00:00:00.000|We    |   1415|       |Sydney             |\n20230119106607|CEN23LA086|ACC    |2023-01-10 00:00:00.000|Tu    |   1240|UTC    |Fowlerton          |\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html","title":"Events by Highest Injury Level","text":"<p>Important: All statistics provided below are based on NTSB data as of February 1, 2023 (period 2008 to 2023).</p>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#1-data-basis","title":"1. Data Basis","text":"<ul> <li>In the database table events there is a column ev_highest_injury which contains the highest injury level per event. </li> <li>The available database categories are <code>FATL</code> (fatal injury), <code>MINR</code> (minor injury), <code>NONE</code> (no injury) and <code>SERS</code> (serious injury). </li> <li>If there is no information about the injuries, then the event appears in the category <code>OTHR</code> (other).</li> </ul>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#2-results","title":"2. Results","text":""},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#21-events","title":"2.1 Events","text":"Source FATL MINR NONE SERS OTHR NTSB avall.mdb 5'320 3'375 12'716 2'771 1'000 IO-Aero's IO-AVSTATS-DB 5'317 3'372 12'689 2'764 1'001 IO-Aero's DB view io_app_ae1982 5'317 3'372 12'689 2'764 1'001 IO-Aero's application ae1982 5'317 3'372 12'689 2'764 1'001"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#3-ntsb-db-avallmdb","title":"3. NTSB DB avall.mdb","text":""},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#31-database-table-events","title":"3.1 Database table events","text":"<pre><code>no   |ev_highest_injury|\n-----+-----------------+\n 5320|FATL             |\n 2771|SERS             |\n 3375|MINR             |\n12716|NONE             |\n 1000|                 |\n\nSELECT count(*)           AS no,\n       ev_highest_injury  AS \"highest_injury\"\nFROM events e\nGROUP BY ev_highest_injury\nORDER BY ev_highest_injury\n\nev_year events  FATL    MINR    NONE    NULL    SERS\n2008    1893    382     269     1030     22     190\n2009    1784    359     234      937     30     224\n2010    1786    363     233      949     55     186\n2011    1850    398     237      953     44     218\n2012    1835    389     246      936     52     212\n2013    1561    344     240      783     48     146\n2014    1535    361     215      731     45     183\n2015    1582    365     209      749     55     204\n2016    1665    341     233      825     90     176\n2017    1638    338     219      831     80     170\n2018    1685    360     220      840     83     182\n2019    1625    379     200      785     92     169\n2020    1396    295     181      702     70     148\n2021    1642    322     209      817    119     175\n2022    1637    313     224      814    106     180\n2023      68     11       6       34      9       8\n\nselect ev_year, count(*) events events\nfrom events\ngroup by ev_year\norder by ev_year\n\nselect ev_year, count(*) events_fatl\nfrom events\nWHERE ev_highest_injury = 'FATL'\ngroup by ev_year\norder by ev_year\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#4-io-aero-database-io-avstats-db","title":"4. IO-Aero Database IO-AVSTATS-DB","text":""},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#41-database-table-events","title":"4.1 Database table events","text":"<pre><code>no   |ev_highest_injury|\n-----+-----------------+\n 5317|FATL             |\n 2764|SERS             |\n 3372|MINR             |\n12689|NONE             |\n 1001|                 |\n\nSELECT count(*)          AS no,\n       ev_highest_injury AS \"ev_highest_injury\"\nFROM events e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_highest_injury\nORDER BY ev_highest_injury NULLS first\n\nev_year|events|     fatl|     minr|     none|     null|     sers|\n-------+------+---------+---------+---------+---------+---------+\n   2008|  1893|      382|      269|     1030|       22|      190|\n   2009|  1784|      359|      234|      937|       30|      224|\n   2010|  1786|      363|      233|      949|       55|      186|\n   2011|  1850|      398|      237|      953|       44|      218|\n   2012|  1835|      389|      246|      936|       52|      212|\n   2013|  1561|      344|      240|      783|       48|      146|\n   2014|  1535|      361|      215|      731|       45|      183|\n   2015|  1582|      365|      209|      749|       55|      204|\n   2016|  1665|      341|      233|      825|       90|      176|\n   2017|  1638|      338|      219|      831|       80|      170|\n   2018|  1685|      360|      220|      840|       83|      182|\n   2019|  1625|      379|      200|      785|       92|      169|\n   2020|  1396|      295|      181|      703|       70|      147|\n   2021|  1642|      322|      209|      817|      119|      175|\n   2022|  1630|      312|      225|      804|      110|      179|\n   2023|    36|        9|        2|       16|        6|        3|\n\nSELECT ev_year,\n       count(*)                                           AS events,\n       count(*) filter (where ev_highest_injury = 'FATL') as fatl,\n       count(*) filter (where ev_highest_injury = 'MINR') as minr,\n       count(*) filter (where ev_highest_injury = 'NONE') as none,\n       count(*) filter (where ev_highest_injury is null)  as null,\n       count(*) filter (where ev_highest_injury = 'SERS') as sers\nFROM events e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#5-io-aero-database-io_app_ae1982","title":"5. IO-Aero Database io_app_ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#51-events","title":"5.1 events","text":"<pre><code>no   |ev_highest_injury|\n-----+-----------------+\n 5317|FATL             |\n 2764|SERS             |\n 3372|MINR             |\n12689|NONE             |\n 1001|                 |\n\nSELECT count(*)          AS no,\n       ev_highest_injury AS \"ev_highest_injury\"\nFROM io_app_ae1982 e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_highest_injury\nORDER BY ev_highest_injury NULLS first\n\nev_year|events|fatl|minr|none|null|sers|\n-------+------+----+----+----+----+----+\n   2008|  1893| 382| 269|1030|  22| 190|\n   2009|  1784| 359| 234| 937|  30| 224|\n   2010|  1786| 363| 233| 949|  55| 186|\n   2011|  1850| 398| 237| 953|  44| 218|\n   2012|  1835| 389| 246| 936|  52| 212|\n   2013|  1561| 344| 240| 783|  48| 146|\n   2014|  1535| 361| 215| 731|  45| 183|\n   2015|  1582| 365| 209| 749|  55| 204|\n   2016|  1665| 341| 233| 825|  90| 176|\n   2017|  1638| 338| 219| 831|  80| 170|\n   2018|  1685| 360| 220| 840|  83| 182|\n   2019|  1625| 379| 200| 785|  92| 169|\n   2020|  1396| 295| 181| 703|  70| 147|\n   2021|  1642| 322| 209| 817| 119| 175|\n   2022|  1630| 312| 225| 804| 110| 179|\n   2023|    36|   9|   2|  16|   6|   3|\n\nSELECT ev_year,\n       count(*)                                           AS events,\n       count(*) filter (where ev_highest_injury = 'FATL') as fatl,\n       count(*) filter (where ev_highest_injury = 'MINR') as minr,\n       count(*) filter (where ev_highest_injury = 'NONE') as none,\n       count(*) filter (where ev_highest_injury is null)  as null,\n       count(*) filter (where ev_highest_injury = 'SERS') as sers\nFROM io_app_ae1982 e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#6-application-ae1982","title":"6. Application ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#61-bar-chart","title":"6.1 Bar chart","text":"<pre><code>year    Fatal   Serious Minor   None    Other\n2008    382     190     269     1030     22\n2009    359     224     234      937     30\n2010    363     186     233      949     55\n2011    398     218     237      953     44\n2012    389     212     246      936     52\n2013    344     146     240      783     48\n2014    361     183     215      731     45\n2015    365     204     209      749     55\n2016    341     176     233      825     90\n2017    338     170     219      831     80\n2018    360     182     220      840     83\n2019    379     169     200      785     92\n2020    295     147     181      703     70\n2021    322     175     209      817    119\n2022    312     179     225      804    110\n2023      9       3       2       16      6\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_injury_level.html#62-pie-chart","title":"6.2 Pie chart","text":"<pre><code>no   |ev_highest_injury|\n-----+-----------------+\n 5317|Fatal            |\n 2764|Serious          |\n 3372|Minor            |\n13690|None             |\n 1001|Other            |\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_type.html","title":"Events by Types","text":"<p>Important: All statistics provided below are based on NTSB data as of February 1, 2023 (period 2008 to 2023).</p>"},{"location":"__ARCHIVE__/data_reconc_events_type.html#1-data-basis","title":"1. Data Basis","text":"<ul> <li>In the database table events there is a column ev_type which contains the type of the event. </li> <li>The available database categories are <code>ACC</code> (Accident) and <code>INC</code> (Incident). </li> <li>If there is no information about the event type, then the event appears in the category <code>OTH</code> (other).</li> </ul>"},{"location":"__ARCHIVE__/data_reconc_events_type.html#2-results","title":"2. Results","text":""},{"location":"__ARCHIVE__/data_reconc_events_type.html#21-events","title":"2.1 Events","text":"Source events accidents incidents NTSB avall.mdb 25'182 23'492 1'690 IO-Aero's IO-AVSTATS-DB 25'143 23'458 1'685 IO-Aero's DB view io_app_ae1982 25'143 23'458 1'685 IO-Aero's application ae1982 23'458 1'685"},{"location":"__ARCHIVE__/data_reconc_events_type.html#3-ntsb-db-avallmdb","title":"3. NTSB DB avall.mdb","text":""},{"location":"__ARCHIVE__/data_reconc_events_type.html#31-database-table-events","title":"3.1 Database table events","text":"<pre><code>no       ev_type\n23'492   ACC\n 1'690   INC\n25'182 \n\nSELECT count(*) AS no,\n       ev_type  AS \"ev_type\"\nFROM events e\nGROUP BY ev_type\nORDER BY ev_type\n\nev_year events accidents incidents\n2008    1893    1790     103\n2009    1784    1681     103\n2010    1786    1648     138\n2011    1850    1732     118\n2012    1835    1717     118\n2013    1561    1462      99\n2014    1535    1451      84\n2015    1582    1488      94\n2016    1665    1542     123\n2017    1638    1514     124\n2018    1685    1565     120\n2019    1625    1504     121\n2020    1396    1309      87\n2021    1642    1522     120\n2022    1637    1507     130\n2023      68      60       8\n\nselect ev_year, count(*)\nfrom events\ngroup by ev_year\norder by ev_year\n\nselect ev_year, count(*)\nfrom events\nWHERE ev_type = 'ACC' \ngroup by ev_year\norder by ev_year\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_type.html#4-io-aero-database-io-avstats-db","title":"4. IO-Aero Database IO-AVSTATS-DB","text":""},{"location":"__ARCHIVE__/data_reconc_events_type.html#41-database-table-events","title":"4.1 Database table events","text":"<pre><code>no    |ev_type|\n------+-------+\n23'458|ACC    |\n 1'685|INC    |\n25'143\n\nSELECT count(*) AS no,\n       ev_type  AS \"ev_type\"\nFROM events e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_type\nORDER BY ev_type\n\nev_year|events|accidents|incidents|\n-------+------+---------+---------+\n   2008|  1893|     1790|      103|\n   2009|  1784|     1681|      103|\n   2010|  1786|     1648|      138|\n   2011|  1850|     1732|      118|\n   2012|  1835|     1717|      118|\n   2013|  1561|     1462|       99|\n   2014|  1535|     1451|       84|\n   2015|  1582|     1488|       94|\n   2016|  1665|     1542|      123|\n   2017|  1638|     1514|      124|\n   2018|  1685|     1565|      120|\n   2019|  1625|     1504|      121|\n   2020|  1396|     1309|       87|\n   2021|  1642|     1522|      120|\n   2022|  1630|     1500|      130|\n   2023|    36|       33|        3|\n\nSELECT ev_year,\n       count(*)                                AS events,\n       count(*) filter (where ev_type = 'ACC') as accidents,\n       count(*) filter (where ev_type = 'INC') as incidents\nFROM events e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_year\nORDER BY ev_year   \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_type.html#5-io-aero-database-io_app_ae1982","title":"5. IO-Aero Database io_app_ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_events_type.html#51-events","title":"5.1 events","text":"<pre><code>no   |ev_type|\n-----+-------+\n23458|ACC    |\n 1685|INC    |\n\nSELECT count(*) AS no,\n       ev_type  AS \"ev_type\"\nFROM io_app_ae1982 e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_type\nORDER BY ev_type\n\nev_year|events|accidents|incidents|\n-------+------+---------+---------+\n   2008|  1893|     1790|      103|\n   2009|  1784|     1681|      103|\n   2010|  1786|     1648|      138|\n   2011|  1850|     1732|      118|\n   2012|  1835|     1717|      118|\n   2013|  1561|     1462|       99|\n   2014|  1535|     1451|       84|\n   2015|  1582|     1488|       94|\n   2016|  1665|     1542|      123|\n   2017|  1638|     1514|      124|\n   2018|  1685|     1565|      120|\n   2019|  1625|     1504|      121|\n   2020|  1396|     1309|       87|\n   2021|  1642|     1522|      120|\n   2022|  1630|     1500|      130|\n   2023|    36|       33|        3|\n\nSELECT ev_year,\n       count(*)                                AS events,\n       count(*) filter (where ev_type = 'ACC') as accidents,\n       count(*) filter (where ev_type = 'INC') as incidents\nFROM io_app_ae1982 e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_year\nORDER BY ev_year   \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_type.html#6-application-ae1982","title":"6. Application ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_events_type.html#61-bar-chart","title":"6.1 Bar chart","text":"<pre><code>year    Accident Incident\n2008    1790     103\n2009    1681     103\n2010    1648     138\n2011    1732     118\n2012    1717     118\n2013    1462      99\n2014    1451      84\n2015    1488      94\n2016    1542     123\n2017    1514     124\n2018    1565     120\n2019    1504     121\n2020    1309      87\n2021    1522     120\n2022    1500     130\n2023      33       3\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_events_type.html#62-pie-chart","title":"6.2 Pie chart","text":"<pre><code>Accidents    23'458\nIncidents     1'685\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html","title":"Fatalities by FAR Operations Parts","text":"<p>Important: All statistics provided below are based on NTSB data as of February 1, 2023 (period 2008 to 2023).</p>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#1-data-basis","title":"1. Data Basis","text":"<ul> <li>In the database table aircraft there is the column far_part which contains the FAR operations parts.</li> <li>In the database table events there is a column inj_tot_f which contains the number of fatalities per event.</li> <li>Several FAR operations parts can be assigned to the same event, depending on the number of aircraft involved. However, this is only critical if the FAR operation parts are different.</li> </ul>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#2-results","title":"2. Results","text":""},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#21-events","title":"2.1 Events","text":"Source FAR parts 091x FAR parts 121 FAR parst 135 NTSB avall.mdb 3'303 9 139 IO-Aero's IO-AVSTATS-DB 3'297 9 139 IO-Aero's DB view io_app_ae1982 3'297 9 139"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#22-fatalities","title":"2.2 Fatalities","text":"Source FAR parts 091x FAR parts 121 FAR parst 135 NTSB avall.mdb 5'519 68 403 IO-Aero's IO-AVSTATS-DB 5'511 68 403 IO-Aero's DB view io_app_ae1982 5'511 68 403 IO-Aero's application ae1982 5'511 68 403"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#23-possible-double-counting-since-2008-as-of-02012013","title":"2.3 Possible double counting since 2008 as of 02/01/2013","text":"<pre><code>ev_id         |ev_year|aircraft_key|far_part|inj_tot_f|\n--------------+-------+------------+--------+---------+\n20090808X42846|   2009|           1|091     |        9|\n20090808X42846|   2009|           2|135     |        9|\n20160831X62719|   2016|           1|135     |        5|\n20160831X62719|   2016|           2|091     |        5|\n20180614X22730|   2018|           1|091     |        1|\n20180614X22730|   2018|           2|135     |        1|\n20200731X11938|   2020|           1|135     |        7|\n20200731X11938|   2020|           2|091     |        7|\n20200827X15154|   2020|           1|135     |        2|\n20200827X15154|   2020|           2|091     |        2|\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#24-all-possible-double-counting-as-of-02012013","title":"2.4 All possible double counting as of 02/01/2013","text":"<pre><code>ev_id         |ev_year|aircraft_key|far_part|inj_tot_f|\n--------------+-------+------------+--------+---------+\n20001206X01819|   1994|           1|091     |        1|\n20001206X01819|   1994|           2|PUBU    |        1|\n20001206X02586|   1994|           1|121     |        2|\n20001206X02586|   1994|           2|091     |        2|\n20001207X03733|   1995|           1|PUBU    |        3|\n20001207X03733|   1995|           2|091     |        3|\n20001208X07015|   1996|           1|135     |       14|\n20001208X07015|   1996|           2|091     |       14|\n20001211X09562|   1998|           1|091     |        1|\n20001211X09562|   1998|           2|ARMF    |        1|\n20001211X09966|   1998|           1|135     |        2|\n20001211X09966|   1998|           2|091     |        2|\n20001211X10541|   1998|           1|NUSC    |       15|\n20001211X10541|   1998|           2|NUSN    |       15|\n20001211X10789|   1998|           1|135     |        2|\n20001211X10789|   1998|           2|091     |        2|\n20001211X14946|   1992|           1|091     |        3|\n20001211X14946|   1992|           2|135     |        3|\n20001211X15767|   1992|           1|091     |        4|\n20001211X15767|   1992|           2|NUSN    |        4|\n20001212X16433|   1991|           1|121     |       34|\n20001212X16433|   1991|           2|135     |       34|\n20001212X16772|   1991|           1|091     |        7|\n20001212X16772|   1991|           2|135     |        7|\n20001212X19383|   1999|           1|091     |        3|\n20001212X19383|   1999|           2|103     |        3|\n20001212X20487|   2000|           1|091     |        1|\n20001212X20487|   2000|           2|135     |        1|\n20001212X21702|   2000|           1|135     |       11|\n20001212X21702|   2000|           2|091     |       11|\n20001212X22400|   1990|           1|091     |        1|\n20001212X22400|   1990|           2|121     |        1|\n20001212X22846|   1990|           1|135     |        2|\n20001212X22846|   1990|           2|091     |        2|\n20001212X23626|   1990|           1|091     |        3|\n20001212X23626|   1990|           2|135     |        3|\n20001213X25587|   1988|           1|091     |        4|\n20001213X25587|   1988|           2|135     |        4|\n20001213X28828|   1989|           1|091     |        2|\n20001213X28828|   1989|           2|135     |        2|\n20001213X30060|   1987|           1|135     |       10|\n20001213X30060|   1987|           2|091     |       10|\n20001213X30061|   1987|           1|091     |        6|\n20001213X30061|   1987|           2|ARMF    |        6|\n20001213X30961|   1987|           1|091     |        4|\n20001213X30961|   1987|           2|ARMF    |        4|\n20001213X31929|   1987|           1|091     |        2|\n20001213X31929|   1987|           2|135     |        2|\n20001213X34444|   1986|           1|129     |       82|\n20001213X34444|   1986|           2|091     |       82|\n20001213X35041|   1986|           1|091     |        2|\n20001213X35041|   1986|           2|135     |        2|\n20001213X35148|   1986|           1|091     |        1|\n20001213X35148|   1986|           2|121     |        1|\n20001214X36453|   1985|           1|091     |        1|\n20001214X36453|   1985|           2|ARMF    |        1|\n20001214X36733|   1985|           1|135     |        1|\n20001214X36733|   1985|           2|ARMF    |        1|\n20001214X38212|   1985|           1|091F    |        6|\n20001214X38212|   1985|           2|091     |        6|\n20001214X40665|   1984|           1|135     |       17|\n20001214X40665|   1984|           2|091     |       17|\n20001214X41935|   1983|           1|091     |        7|\n20001214X41935|   1983|           2|ARMF    |        7|\n20001214X43900|   1983|           1|135     |        4|\n20001214X43900|   1983|           2|091     |        4|\n20010914X01949|   2001|           1|PUBU    |        2|\n20010914X01949|   2001|           2|091     |        2|\n20020104X00034|   2001|           1|NUSN    |      118|\n20020104X00034|   2001|           2|NUSC    |      118|\n20020322X00392|   2002|           1|ARMF    |        1|\n20020322X00392|   2002|           2|091     |        1|\n20020917X02154|   1982|           1|UNK     |        6|\n20020917X02154|   1982|           2|091     |        6|\n20050126X00109|   2005|           1|ARMF    |        1|\n20050126X00109|   2005|           2|091     |        1|\n20050810X01200|   2005|           1|091     |        2|\n20050810X01200|   2005|           2|135     |        2|\n20061002X01435|   2006|           1|NUSC    |      154|\n20061002X01435|   2006|           2|091     |      154|\n20090808X42846|   2009|           1|091     |        9|\n20090808X42846|   2009|           2|135     |        9|\n20111004X45824|   2011|           1|NUSN    |        1|\n20111004X45824|   2011|           2|        |        1|\n20150707X22207|   2015|           1|091     |        2|\n20150707X22207|   2015|           2|ARMF    |        2|\n20160831X62719|   2016|           1|135     |        5|\n20160831X62719|   2016|           2|091     |        5|\n20180107X10632|   2017|           1|NUSN    |        1|\n20180107X10632|   2017|           2|NUSC    |        1|\n20180614X22730|   2018|           1|091     |        1|\n20180614X22730|   2018|           2|135     |        1|\n20180804X53521|   2018|           1|UNK     |        1|\n20180804X53521|   2018|           2|PUBU    |        1|\n20190826X90719|   2019|           1|NUSC    |        7|\n20190826X90719|   2019|           2|NUSN    |        7|\n20200731X11938|   2020|           1|135     |        7|\n20200731X11938|   2020|           2|091     |        7|\n20200827X15154|   2020|           1|135     |        2|\n20200827X15154|   2020|           2|091     |        2|\n20210715103483|   2020|           1|NUSN    |        5|\n20210715103483|   2020|           2|129     |        5|\n20211221104432|   2021|           1|135     |        2|\n20211221104432|   2021|           2|103     |        2|\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#3-ntsb-db-avallmdb","title":"3. NTSB DB avall.mdb","text":""},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#31-database-table-events","title":"3.1 Database table events","text":"<pre><code>Number events:      25'182\nNumber fatalities:  14'649\n\nSELECT count(*)       AS events,\n       sum(inj_tot_f) AS fatalities\nFROM events e\n\nev_year events  fatalities\n2008    1893    1201\n2009    1784    1184\n2010    1786    1370\n2011    1850     931\n2012    1835    1035\n2013    1561     822\n2014    1535    1428\n2015    1582    1101\n2016    1665     820\n2017    1638     640\n2018    1685    1044\n2019    1625     964\n2020    1396     776\n2021    1642     643\n2022    1637     673\n2023      68      17\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#32-database-table-aircraft","title":"3.2 Database table aircraft","text":"<pre><code>Number aircraft:    25'448 \n\nfar_part    no_aircraft_1    no_aircraft_2    no_aircraft_3  \n              678             17\n091         18329            226                2\n091K           14\n103             2              1\n107             4              3\n121           694             49\n125             5\n129           256             14\n133           108\n135           748             20\n137          1011             10\n437             1\nARMF            8              4\nNUSC         1045             25\nNUSN         1635             19\nPUBU          251              6\nUNK           385             11                1\n\nselect far_part,\n       count(*) as no_aircraft_1\nfrom aircraft\nwhere aircraft_key = 1\ngroup by far_part\norder by far_part\n\nev_id           ev_year aircraft_key    far_part    inj_tot_f\n20090808X42846  2009    1               091         9\n20090808X42846  2009    2               135         9\n20160831X62719  2016    1               135         5\n20160831X62719  2016    2               091         5\n20180614X22730  2018    1               091         1\n20180614X22730  2018    2               135         1\n20200731X11938  2020    1               135         7\n20200731X11938  2020    2               091         7\n20200827X15154  2020    1               135         2\n20200827X15154  2020    2               091         2\n\nselect events.ev_id,\n       ev_year,\n       aircraft_key,\n       far_part,\n       inj_tot_f\nfrom events\n         inner join aircraft on events.ev_id = aircraft.ev_id\nwhere events.ev_id in\n      (select ev_id from aircraft where aircraft_key &gt; 1 and far_part in ('091', '091K', '121', '135'))\n  and far_part in ('091', '091K', '121', '135')\n  and inj_tot_f &gt; 0\n  and events.ev_id in (select ev_id\n                       from aircraft\n                       where far_part in ('091', '091K', '121', '135')\n                       group by ev_id, far_part\n                       having count(*) = 1)\norder by events.ev_id,\n         ev_year,\n         aircraft_key\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#33-number-events-by-selected-far-operations-parts","title":"3.3 Number events by selected FAR operations parts","text":"<pre><code>events  far_part\n3303    091\n   9    121\n 139    135\n\nselect count(*) as events,\n       far_part\nfrom (select distinct events.ev_id,\n                      far_part\n      from events\n               inner join aircraft on events.ev_id = aircraft.ev_id\n      where inj_tot_f &gt; 0\n        and far_part in ('091', '091K', '121', '135'))\ngroup by far_part\norder by far_part\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#34-number-fatalities-by-selected-far-operations-parts","title":"3.4 Number fatalities by selected FAR operations parts","text":"<pre><code>**** \nfatalities  far_part\n5519        091\n  68        121\n 403        135\n\nselect sum(inj_tot_f) as fatalities,\n       far_part\nfrom (select distinct events.ev_id,\n                      far_part,\n                      inj_tot_f\n      from events\n               inner join aircraft on events.ev_id = aircraft.ev_id\n      where inj_tot_f &gt; 0\n        and far_part in ('091', '091K', '121', '135'))\ngroup by far_part\norder by far_part\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#4-io-aero-database-io-avstats-db","title":"4. IO-Aero Database IO-AVSTATS-DB","text":""},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#41-database-table-events","title":"4.1 Database table events","text":"<pre><code>Number events:      25'143\nNumber fatalities:  14'645\n\nSELECT count(*)       AS events,\n       sum(inj_tot_f) AS fatalities\nFROM events e\nWHERE ev_year &gt;= 2008\n\nev_year|events|fatalities|\n-------+------+----------+\n   2008|  1893|      1201|\n   2009|  1784|      1184|\n   2010|  1786|      1370|\n   2011|  1850|       931|\n   2012|  1835|      1035|\n   2013|  1561|       822|\n   2014|  1535|      1428|\n   2015|  1582|      1101|\n   2016|  1665|       820|\n   2017|  1638|       640|\n   2018|  1685|      1044|\n   2019|  1625|       964|\n   2020|  1396|       776|\n   2021|  1642|       643|\n   2022|  1630|       672|\n   2023|    36|        14|\n\nSELECT ev_year,\n       count(*)       AS events,\n       sum(inj_tot_f) AS fatalities\nFROM events e\nWHERE ev_year &gt;= 2008\nGROUP BY ev_year\nORDER BY ev_year   \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#42-database-table-aircraft","title":"4.2 Database table aircraft","text":"<pre><code>Number aircraft:    25'542 \n\nSELECT count(*)\nFROM aircraft\nWHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n\nfar_part|no_aircraft_1|no_aircraft_2|no_aircraft_3|\n--------+-------------+-------------+-------------+\n        |          687|           17|            0|\n091     |        18294|          226|            2|\n091K    |           14|            0|            0|\n103     |            2|            1|            0|\n107     |            4|            3|            0|\n121     |          692|           48|            0|\n125     |            5|            0|            0|\n129     |          253|           14|            0|\n133     |          107|            0|            0|\n135     |          748|           20|            0|\n137     |         1011|           10|            0|\n437     |            1|            0|            0|\nARMF    |            8|            4|            0|\nNUSC    |         1041|           25|            0|\nNUSN    |         1633|           19|            0|\nPUBU    |          251|            6|            0|\nUNK     |          384|           11|            1|\n\nselect far_part,\n       count(*) filter (where aircraft_key = 1) as no_aircraft_1,\n       count(*) filter (where aircraft_key = 2) as no_aircraft_2,\n       count(*) filter (where aircraft_key = 3) as no_aircraft_3\nfrom aircraft\nwhere ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\ngroup by far_part\norder by far_part NULLS first\n\nev_id         |ev_year|aircraft_key|far_part|inj_tot_f|\n--------------+-------+------------+--------+---------+\n20090808X42846|   2009|           1|091     |        9|\n20090808X42846|   2009|           2|135     |        9|\n20160831X62719|   2016|           1|135     |        5|\n20160831X62719|   2016|           2|091     |        5|\n20180614X22730|   2018|           1|091     |        1|\n20180614X22730|   2018|           2|135     |        1|\n20200731X11938|   2020|           1|135     |        7|\n20200731X11938|   2020|           2|091     |        7|\n20200827X15154|   2020|           1|135     |        2|\n20200827X15154|   2020|           2|091     |        2|\n\nselect e.ev_id,\n       ev_year,\n       aircraft_key,\n       far_part,\n       inj_tot_f\nfrom events e\n         inner join aircraft a on e.ev_id = a.ev_id\nwhere e.ev_year &gt;= 2008 AND e.ev_id in\n      (select ev_id from aircraft where aircraft_key &gt; 1 and far_part in ('091', '091K', '121', '135'))\n  and far_part in ('091', '091K', '121', '135')\n  and inj_tot_f &gt; 0\n  and e.ev_id in (select ev_id\n                       from aircraft\n                       where far_part in ('091', '091K', '121', '135')\n                       group by ev_id, far_part\n                       having count(*) = 1)\norder by e.ev_id,\n         ev_year,\n         aircraft_key\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#43-number-events-by-selected-far-operations-parts","title":"4.3 Number events by selected FAR operations parts","text":"<pre><code>events|far_part|\n------+--------+\n  3297|091     |\n     9|121     |\n   139|135     |\n\nselect count(*) as events,\n       far_part\nfrom (select DISTINCT e.ev_id,\n                      far_part\n      from events e\n               inner join aircraft a on e.ev_id = a.ev_id\n      where e.ev_year &gt;= 2008\n        AND inj_tot_f &gt; 0\n        and far_part in ('091', '091K', '121', '135')) ea\ngroup by far_part\norder by far_part\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#44-number-fatalities-by-selected-far-operations-parts","title":"4.4 Number fatalities by selected FAR operations parts","text":"<pre><code>fatalities|far_part|\n----------+--------+\n      5511|091     |\n        68|121     |\n       403|135     |\n\nselect sum(inj_tot_f) as fatalities,\n       far_part\nfrom (select DISTINCT e.ev_id,\n                      far_part,\n                      inj_tot_f\n      from events e\n               inner join aircraft a on e.ev_id = a.ev_id\n      where e.ev_year &gt;= 2008\n        AND inj_tot_f &gt; 0\n        and far_part in ('091', '091K', '121', '135')) ea\ngroup by far_part\norder by far_part\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#5-io-aero-database-io_app_ae1982","title":"5. IO-Aero Database io_app_ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#51-events","title":"5.1 events","text":"<pre><code>Number events:      25'143\nNumber fatalities:  14'645\n\nSELECT count(*)       AS events,\n       sum(inj_tot_f) AS fatalities\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\n\nev_year|events|fatalities|\n-------+------+----------+\n   2008|  1893|      1201|\n   2009|  1784|      1184|\n   2010|  1786|      1370|\n   2011|  1850|       931|\n   2012|  1835|      1035|\n   2013|  1561|       822|\n   2014|  1535|      1428|\n   2015|  1582|      1101|\n   2016|  1665|       820|\n   2017|  1638|       640|\n   2018|  1685|      1044|\n   2019|  1625|       964|\n   2020|  1396|       776|\n   2021|  1642|       643|\n   2022|  1630|       672|\n   2023|    36|        14|\n\nSELECT ev_year,\n       count(*)       AS events,\n       sum(inj_tot_f) AS fatalities\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\nGROUP BY ev_year\nORDER BY ev_year   \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#52-aircraft","title":"5.2 aircraft","text":"<pre><code>Number aircraft:\n\nby_aircraft_categories|by_far_parts|\n----------------------+------------+\n                 25542|       25542| \n\nSELECT sum(array_length (acft_categories, 1)) by_aircraft_categories,\n--     sum(array_length (dest_countries, 1))  by_dest_countries,\n--     sum(array_length (dprt_countries, 1))  by_dprt_countries,\n       sum(array_length (far_parts, 1))       by_far_parts\n--     sum(array_length (oper_countries, 1))  by_oper_countries,\n--     sum(array_length (owner_countries, 1)) by_owner_countries,\n--     sum(array_length (regis_countries, 1)) by_regis_countries,\n--     sum(array_length (regis_nos, 1))       by_regis_nos\nFROM io_app_ae1982\nWHERE ev_year &gt;= 2008\n\ncount|array_length|\n-----+------------+\n24746|           1|\n  395|           2|\n    2|           3|\n\nSELECT count(*),\n       array_length(acft_categories, 1)\nFROM io_app_ae1982 iaa\nWHERE ev_year &gt;= 2008\nGROUP BY array_length(acft_categories, 1)\nORDER BY 2    \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#53-number-events-by-selected-far-operations-parts","title":"5.3 Number events by selected FAR operations parts","text":"<pre><code>far_part_091|far_part_091f|far_part_091k|far_part_091x|far_part_121|far_part_135|\n------------+-------------+-------------+-------------+------------+------------+\n        3297|            0|            0|         3297|           9|         139|\n\nselect count(*) FILTER (WHERE '091' = ANY (far_parts))                            AS far_part_091,\n       count(*) FILTER (WHERE '091F' = ANY (far_parts))                           AS far_part_091F,\n       count(*) FILTER (WHERE '091K' = ANY (far_parts))                           AS far_part_091K,\n       count(*) FILTER (WHERE ARRAY ['091', '091F', '091K'] &amp;&amp; far_parts::TEXT[]) AS far_part_091x,\n       count(*) FILTER (WHERE '121' = ANY (far_parts))                            AS far_part_121,\n       count(*) FILTER (WHERE '135' = ANY (far_parts))                            AS far_part_135\nfrom io_app_ae1982\nwhere ev_year &gt;= 2008\n  AND inj_tot_f &gt; 0\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#54-number-fatalities-by-selected-far-operations-parts","title":"5.4 Number fatalities by selected FAR operations parts","text":"<pre><code>far_part_091|far_part_091f|far_part_091k|far_part_091x|far_part_121|far_part_135|\n------------+-------------+-------------+-------------+------------+------------+\n        5511|             |             |         5511|          68|         403|\n\nselect sum(inj_tot_f) FILTER (WHERE '091' = ANY (far_parts))                            AS far_part_091,\n       sum(inj_tot_f) FILTER (WHERE '091F' = ANY (far_parts))                           AS far_part_091F,\n       sum(inj_tot_f) FILTER (WHERE '091K' = ANY (far_parts))                           AS far_part_091K,\n       sum(inj_tot_f) FILTER (WHERE ARRAY ['091', '091F', '091K'] &amp;&amp; far_parts::TEXT[]) AS far_part_091x,\n       sum(inj_tot_f) FILTER (WHERE '121' = ANY (far_parts))                            AS far_part_121,\n       sum(inj_tot_f) FILTER (WHERE '135' = ANY (far_parts))                            AS far_part_135\nfrom io_app_ae1982\nwhere ev_year &gt;= 2008\n  AND inj_tot_f &gt; 0\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#6-application-ae1982","title":"6. Application ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#61-bar-chart","title":"6.1 Bar chart","text":"<pre><code>Year    Parts 091x  Parts 121   Parts 135\n2008    447          1          69\n2009    456         51          17\n2010    418          2          17\n2011    422          0          41\n2012    394          0          12\n2013    341          9          30\n2014    357          0          20\n2015    361          0          28\n2016    338          0          27\n2017    313          0          16\n2018    353          1          16\n2019    382          4          34\n2020    308          0          26\n2021    318          0          32\n2022    294          0          18\n2023      9          0           0\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_fatal_fop.html#62-pie-chart","title":"6.2 Pie chart","text":"<pre><code>FAR 091x     5'511\nFAR 121         68\nFAR 135        403\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_ntsb_io_avstats_db.html","title":"Data Analysis: Reconciliation Queries","text":""},{"location":"__ARCHIVE__/data_reconc_ntsb_io_avstats_db.html#io-avstats-db","title":"IO-AVSTATS-DB","text":"<pre><code>SELECT 'aircraft'                                                                                      \"DB Table\",\n(SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM aircraft)                                                                 \"Total\"\nUNION\nSELECT 'dt_aircraft'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_aircraft WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_aircraft)                                                                 \"Total\"\nUNION\nSELECT 'dt_events'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_events)                                                                 \"Total\"\nUNION\nSELECT 'dt_flight_crew'                                                                                      \"DB Table\",\n(SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM dt_flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM dt_flight_crew)                                                                 \"Total\"\nUNION\nSELECT 'engines'                                                                                      \"DB Table\",\n(SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM engines WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM engines)                                                                 \"Total\"\nUNION\nSELECT 'events'                                            \"DB Table\",\n(SELECT count(*) FROM events WHERE ev_year &lt; 2008)  \"&lt; 2008\",\n(SELECT count(*) FROM events WHERE ev_year &gt;= 2008) \"&gt;= 2008\",\n(SELECT count(*) FROM events)                       \"Total\"\nunion\nSELECT 'events_sequence'                                                                                      \"DB Table\",\n(SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM events_sequence WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM events_sequence)                                                                 \"Total\"\nunion\nSELECT 'findings'                                                                                      \"DB Table\",\n(SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM findings WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM findings)                                                                 \"Total\"\nunion\nSELECT 'flight_crew'                                                                                      \"DB Table\",\n(SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM flight_crew WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM flight_crew)                                                                 \"Total\"\nunion\nSELECT 'flight_time'                                                                                      \"DB Table\",\n(SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM flight_time WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM flight_time)                                                                 \"Total\"\nunion\nSELECT 'injury'                                                                                      \"DB Table\",\n(SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM injury WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM injury)                                                                 \"Total\"\nunion\nSELECT 'narratives'                                                                                      \"DB Table\",\n(SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM narratives WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM narratives)                                                                 \"Total\"\nunion\nSELECT 'ntsb_admin'                                                                                      \"DB Table\",\n(SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM ntsb_admin WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM ntsb_admin)                                                                 \"Total\"\nunion\nSELECT 'occurrences'                                                                                      \"DB Table\",\n(SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM occurrences WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM occurrences)                                                                 \"Total\"\nunion\nSELECT 'seq_of_events'                                                                                      \"DB Table\",\n(SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &lt; 2008))  \"&lt; 2008\",\n(SELECT count(*) FROM seq_of_events WHERE ev_id IN (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)) \"&gt;= 2008\",\n(SELECT count(*) FROM seq_of_events)                                                                 \"Total\"\nORDER BY 1\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_ntsb_io_avstats_db.html#ntsb-avall-and-pre2008","title":"NTSB avall and Pre2008","text":"<pre><code>SELECT 'aircraft' AS db_table,\ncount(*)   AS total\nFROM aircraft\nUNION\nSELECT 'dt_aircraft' AS db_table,\ncount(*)      AS total\nFROM dt_aircraft\nUNION\nSELECT 'dt_events' AS db_table,\ncount(*)    AS total\nFROM dt_events\nUNION\nSELECT 'dt_flight_crew' AS db_table,\ncount(*)         AS total\nFROM dt_flight_crew\nUNION\nSELECT 'engines' AS db_table,\ncount(*)  AS total\nFROM engines\nUNION\nSELECT 'events' AS db_table,\ncount(*) AS total\nFROM events\nUNION\nSELECT 'events_sequence' AS db_table,\ncount(*)          AS total\nFROM events_sequence\nUNION\nSELECT 'findings' AS db_table,\ncount(*)   AS total\nFROM findings\nUNION\nSELECT 'flight_crew' AS db_table,\ncount(*)      AS total\nFROM flight_crew\nUNION\nSELECT 'flight_time' AS db_table,\ncount(*)      AS total\nFROM flight_time\nUNION\nSELECT 'injury' AS db_table,\ncount(*) AS total\nFROM injury\nUNION\nSELECT 'narratives' AS db_table,\ncount(*)     AS total\nFROM narratives\nUNION\nSELECT 'ntsb_admin' AS db_table,\ncount(*)     AS total\nFROM ntsb_admin\nUNION\nSELECT 'occurrences' AS db_table,\ncount(*)      AS total\nFROM occurrences\nUNION\nSELECT 'seq_of_events' AS db_table,\ncount(*)        AS total\nFROM seq_of_events\nORDER BY 1\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html","title":"DB Tables vs. DB View io_app_ae1982","text":"<p>Important: All statistics provided below are based on NTSB data as of February 8, 2023 (period 2008 to 2023).</p>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#1-events-fatalities","title":"1. Events &amp; Fatalities","text":"Source Events Fatalities DB Table events 25'176 14'655 DB View io_app_ae1982 25'176 14'655 <pre><code>SELECT count(*)       AS events,\n       sum(inj_tot_f) AS fatalities\nFROM events\nWHERE ev_year &gt;= 2008\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#2-cictt_code","title":"2 cictt_code","text":""},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#21-db-tables","title":"2.1 DB tables","text":"<pre><code>Number events_sequence: 24'752 \n\nSELECT count(*) AS no_rows\nFROM events_sequence e\nWHERE defining_ev = TRUE\n  AND ev_id in (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n\nNumber cictt_codes:     24'752 \n\nSELECT count(*) AS no_rows\nFROM events_sequence e\nWHERE defining_ev = TRUE\n  AND ev_id in (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n  AND e.eventsoe_no IN (SELECT eventsoe_no FROM io_sequence_of_events isoe WHERE cictt_code IS NOT null)\n\ncictt_code|sum |\n----------+----+\nSCF-PP    |4086|\nLOC-I     |4031|\nLOC-G     |3204|\nARC       |2966|\nSCF-NP    |1375|\nOTHR      |1348|\nFUEL      |1235|\nUNK       | 922|\nCFIT      | 749|\nRE        | 641|\nCTOL      | 590|\nGCOL      | 457|\nLALT      | 373|\nMAC       | 352|\nUSOS      | 289|\nF-NI      | 285|\nTURB      | 277|\nUIMC      | 268|\nBIRD      | 168|\nRAMP      | 167|\nAMAN      | 161|\nLOLI      | 156|\n\nSELECT cictt_code,\n       sum(no_rows)\nFROM (select isoe.cictt_code,\n             es.no_rows\n      FROM (select es.eventsoe_no,\n                   count(*) as no_rows\n            from events_sequence es\n            where es.defining_ev = TRUE\n              AND es.ev_id in (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n            group by es.eventsoe_no) es\n               INNER JOIN io_sequence_of_events isoe ON es.eventsoe_no = isoe.soe_no) a\nGROUP BY cictt_code\nHAVING sum(no_rows) &gt;= 100\nORDER BY 2 desc\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#22-db-view-io_app_ae1982","title":"2.2 DB view io_app_ae1982","text":"<pre><code>Number cictt_codes: 25'256 \n\nSELECT sum(array_length(cictt_codes, 1)) no_cictt_codes\nFROM io_app_ae1982 iaa\nWHERE ev_year &gt;= 2008\n\nNumber cictt_codes 1: 25'096 \nNumber cictt_codes 2:     80 \nNumber cictt_codes 3:      0 \n\nSELECT count(*) no_cictt_codes\nFROM io_app_ae1982 iaa\nWHERE ev_year &gt;= 2008\nAND array_length(cictt_codes, 1) = 1\n\nAND array_length(cictt_codes, 1) = 2\n\nAND array_length(cictt_codes, 1) &gt;= 3\n\ncictt_codes|no_rows|\n-----------+-------+\n{SCF-PP}   |   4073|\n{LOC-I}    |   4015|\n{LOC-G}    |   3190|\n{ARC}      |   2954|\n{SCF-NP}   |   1370|\n{OTHR}     |   1324|\n{FUEL}     |   1226|\n{n/a}      |    976|\n{UNK}      |    904|\n{CFIT}     |    742|\n{RE}       |    634|\n{CTOL}     |    569|\n{LALT}     |    370|\n{GCOL}     |    335|\n{USOS}     |    288|\n{F-NI}     |    284|\n{TURB}     |    277|\n{UIMC}     |    267|\n{MAC}      |    192|\n{BIRD}     |    167|\n{RAMP}     |    161|\n{AMAN}     |    159|\n{LOLI}     |    154|\n\nSELECT cictt_codes,\n       count(*) AS no_rows\nFROM io_app_ae1982 iaa\nWHERE ev_year &gt;= 2008\nGROUP BY cictt_codes\nhaving count(*) &gt;= 100\nORDER BY 2 desc, 1\n\ncictt_codes    |count|\n---------------+-----+\n{AMAN,UNK}     |    1|\n{ARC,LOC-G}    |    1|\n{ARC,OTHR}     |    2|\n{ARC,RE}       |    1|\n{ATM,MAC}      |    3|\n{CTOL,ARC}     |    1|\n{CTOL,CFIT}    |    1|\n{CTOL,MAC}     |    1|\n{CTOL,OTHR}    |    3|\n{CTOL,RE}      |    1|\n{CTOL,UNK}     |    1|\n{FUEL,ATM}     |    1|\n{GCOL,AMAN}    |    1|\n{GCOL,CTOL}    |    2|\n{GCOL,MAC}     |    1|\n{GCOL,RAMP}    |    2|\n{LALT,CFIT}    |    1|\n{LALT,GCOL}    |    1|\n{LOC-G,GCOL}   |    6|\n{LOC-I,CFIT}   |    1|\n{LOC-I,LALT}   |    1|\n{LOC-I,LOC-G}  |    1|\n{LOC-I,SCF-PP} |    1|\n{LOC-I,UNK}    |    6|\n{LOLI,CTOL}    |    1|\n{LOLI,UNK}     |    1|\n{MAC,ADRM}     |    1|\n{MAC,LOC-I}    |    1|\n{MAC,OTHR}     |    1|\n{NAV,LOC-I}    |    1|\n{NAV,OTHR}     |    1|\n{OTHR,CFIT}    |    2|\n{OTHR,F-NI}    |    1|\n{OTHR,FUEL}    |    1|\n{OTHR,GCOL}    |    2|\n{OTHR,LOC-G}   |    2|\n{OTHR,LOC-I}   |    1|\n{OTHR,RE}      |    1|\n{OTHR,SCF-PP}  |    1|\n{OTHR,UNK}     |    3|\n{RE,LOC-G}     |    3|\n{SCF-NP,LOC-I} |    2|\n{SCF-NP,RE}    |    1|\n{SCF-PP,ARC}   |    1|\n{SCF-PP,FUEL}  |    4|\n{SCF-PP,SCF-NP}|    1|\n{UIMC,GCOL}    |    1|\n{UNK,FUEL}     |    2|\n{UNK,SCF-PP}   |    2|\n{USOS,GCOL}    |    1|\n\nSELECT cictt_codes, count(*)\nFROM io_app_ae1982 iaa\nWHERE ev_year &gt;= 2008\n  AND array_length(cictt_codes, 1) &gt;= 2\nGROUP BY cictt_codes\nORDER BY 1\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#3-ntsb-db-avallmdb","title":"3. NTSB DB avall.mdb","text":"<pre><code>Number events_sequence:  24'861\n\nSELECT count(*) AS no_rows\nFROM Events_Sequence e\nWHERE defining_ev = TRUE\n\nev_id          ev_year    aircraft_key    eventsoe_no\n20080505X00589    2008    1               200\n20080505X00589    2008    2               230\n20080829X01354    2008    1               260\n20080829X01354    2008    2               100\n20090202X21409    2009    1               250\n20090202X21409    2009    2               490\n20091010X63931    2009    1               250\n20091010X63931    2009    2               240\n20100317X00948    2010    1               260\n20100317X00948    2010    2               070\n20100704X92306    2010    1               380\n20100704X92306    2010    2               200\n20100803X25950    2010    1               200\n20100803X25950    2010    2               900\n20101022X34140    2010    1               190\n20101022X34140    2010    2               100\n20101022X34140    2010    3               100\n20110904X00636    2011    1               250\n20110904X00636    2011    2               440\n20111019X85758    2011    1               900\n20111019X85758    2011    2               260\n20120523X33839    2012    1               230\n20120523X33839    2012    2               200\n20120529X21628    2012    1               230\n20120529X21628    2012    2               200\n20120705X51659    2012    1               320\n20120705X51659    2012    2               900\n20120811X13221    2012    1               000\n20120811X13221    2012    2               900\n20121027X42304    2012    1               230\n20121027X42304    2012    2               200\n20121118X14342    2012    1               220\n20121118X14342    2012    2               200\n20140425X84104    2014    1               100\n20140425X84104    2014    2               260\n20150210X11721    2015    1               230\n20150210X11721    2015    2               200\n20150416X33824    2015    1               260\n20150416X33824    2015    2               320\n20150508X60256    2015    1               230\n20150508X60256    2015    2               200\n20151123X43413    2015    1               200\n20151123X43413    2015    2               402\n20160413X30204    2016    1               320\n20160413X30204    2016    2               100\n20160413X94401    2016    1               320\n20160413X94401    2016    2               070\n20160418X44917    2016    1               100\n20160418X44917    2016    2               260\n20171019X45158    2017    1               200\n20171019X45158    2017    2               490\n20180403X00427    2018    1               200\n20180403X00427    2018    2               490\n20200603X55158    2019    1               080\n20200603X55158    2019    2               200\n20201023102180    2020    2               230\n20201030102217    2020    2               230\n20210219102650    2021    2               900\n20210311102742    2021    2               333\n20210726103541    2021    1               200\n20210726103541    2021    2               270\n20210822103737    2021    2               333\n20220111104514    2022    1               200\n20220111104514    2022    2               900\n20220309104755    2022    2               240\n20220818105763    2022    2               250\n20220826105805    2022    2               341\n20221121106336    2022    1               200\n20221121106336    2022    2               250\n\nselect events.ev_id,\n       ev_year,\n       aircraft_key,\n       eventsoe_no\nfrom events\n         inner join events_sequence on events.ev_id = events_sequence.ev_id\nwhere events.ev_id in\n      (select ev_id from events_sequence where aircraft_key &gt; 1 and defining_ev = True)\n  and defining_ev = True\n  and events.ev_id in (select ev_id\n                       from events_sequence\n                       where defining_ev = True\n                       group by ev_id, eventsoe_no\n                       having count(*) = 1)\norder by events.ev_id,\n         ev_year,\n         aircraft_key\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#4-io-aero-database-io-avstats-db","title":"4. IO-Aero Database IO-AVSTATS-DB","text":"<pre><code>Number events_sequence:    24'711 \n\nSELECT count(*) AS no_rows\nFROM events_sequence e\nWHERE defining_ev = TRUE\n  AND ev_id in (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n\nNumber cictt_codes:    24'711 \n\nSELECT count(*) AS no_rows\nFROM events_sequence e\nWHERE defining_ev = TRUE\n  AND ev_id in (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n  AND e.eventsoe_no IN (SELECT eventsoe_no FROM io_sequence_of_events isoe WHERE cictt_code IS NOT null)\n\ncictt_code|sum |\n----------+----+\nSCF-PP    |4081|\nLOC-I     |4028|\nLOC-G     |3202|\nARC       |2962|\nSCF-NP    |1374|\nOTHR      |1342|\n\nSELECT cictt_code,\n       sum(no_rows)\nFROM (select isoe.cictt_code,\n             es.no_rows\n      FROM (select es.eventsoe_no,\n                   count(*) as no_rows\n            from events_sequence es\n            where es.defining_ev = TRUE\n              AND es.ev_id in (SELECT ev_id FROM events WHERE ev_year &gt;= 2008)\n            group by es.eventsoe_no) es\n               INNER JOIN io_sequence_of_events isoe ON es.eventsoe_no = isoe.soe_no\n      WHERE isoe.cictt_code IN (\n                                'ARC', 'LOC-G', 'LOC-I', 'OTHR', 'SCF-NP', 'SCF-PP'\n          )) a\nGROUP BY cictt_code\nORDER BY 2 desc\n\nev_year|SCF-PP|\n-------+---+\n   2008|301|\n   2009|277|\n   2010|274|\n   2011|292|\n   2012|292|\n   2013|251|\n   2014|259|\n   2015|277|\n   2016|261|\n   2017|245|\n   2018|247|\n   2019|258|\n   2020|181|\n   2021|339|\n   2022|319|\n   2023|  8|\n\nSELECT ev_year,\n       sum(no_rows)\nFROM (select ev_year,\n             es.no_rows\n      FROM (select e.ev_year,\n                   es.eventsoe_no,\n                   count(*) as no_rows\n            from events_sequence es inner join events e on es.ev_id = e.ev_id\n            where es.defining_ev = TRUE\n              AND e.ev_year &gt;= 2008\n            group by e.ev_year, es.eventsoe_no) es\n               INNER JOIN io_sequence_of_events isoe ON es.eventsoe_no = isoe.soe_no\n      WHERE isoe.cictt_code = 'SCF-PP') a\nGROUP BY ev_year\nORDER BY 2 desc\n\nev_id         |\n--------------+\n20220826105805|\n\nSELECT e.ev_id\nFROM events e\n         INNER JOIN aircraft a ON e.ev_id = a.ev_id\n         INNER JOIN events_sequence es ON e.ev_id = es.ev_id AND a.aircraft_key = es.aircraft_key\n         INNER JOIN io_sequence_of_events isoe ON isoe.soe_no = es.eventsoe_no\nWHERE e.ev_year &gt;= 2008\n  AND a.aircraft_key &gt; 1\n  AND es.defining_ev = TRUE\n  AND isoe.cictt_code = 'SCF-PP'\n\nev_id         |\n--------------+\n20091010X63931|\n20210822103737|\n20220309104755|\n\nSELECT e.ev_id\nFROM events e\n         INNER JOIN aircraft a ON e.ev_id = a.ev_id\n         INNER JOIN events_sequence es ON e.ev_id = es.ev_id AND a.aircraft_key = es.aircraft_key\n         INNER JOIN io_sequence_of_events isoe ON isoe.soe_no = es.eventsoe_no\nWHERE e.ev_year &gt;= 2008\n  AND a.aircraft_key &gt; 1\n  AND es.defining_ev = TRUE\n  AND isoe.cictt_code = 'LOC-I'\n\nev_id         |\n--------------+\n20080505X00589|\n20201023102180|\n20201030102217|\n\nSELECT e.ev_id\nFROM events e\n         INNER JOIN aircraft a ON e.ev_id = a.ev_id\n         INNER JOIN events_sequence es ON e.ev_id = es.ev_id AND a.aircraft_key = es.aircraft_key\n         INNER JOIN io_sequence_of_events isoe ON isoe.soe_no = es.eventsoe_no\nWHERE e.ev_year &gt;= 2008\n  AND a.aircraft_key &gt; 1\n  AND es.defining_ev = TRUE\n  AND isoe.cictt_code = 'LOC-G'\n\nev_id         |\n--------------+\n\nSELECT e.ev_id\nFROM events e\n         INNER JOIN aircraft a ON e.ev_id = a.ev_id\n         INNER JOIN events_sequence es ON e.ev_id = es.ev_id AND a.aircraft_key = es.aircraft_key\n         INNER JOIN io_sequence_of_events isoe ON isoe.soe_no = es.eventsoe_no\nWHERE e.ev_year &gt;= 2008\n  AND a.aircraft_key &gt; 1\n  AND es.defining_ev = TRUE\n  AND isoe.cictt_code = 'ARC'  \n\nev_id         |\n--------------+\n20210311102742|\n20210822103737|\n\nSELECT e.ev_id\nFROM events e\n         INNER JOIN aircraft a ON e.ev_id = a.ev_id\n         INNER JOIN events_sequence es ON e.ev_id = es.ev_id AND a.aircraft_key = es.aircraft_key\n         INNER JOIN io_sequence_of_events isoe ON isoe.soe_no = es.eventsoe_no\nWHERE e.ev_year &gt;= 2008\n  AND a.aircraft_key &gt; 1\n  AND es.defining_ev = TRUE\n  AND isoe.cictt_code = 'SCF-NP'  \n\nev_id         |\n--------------+\n20100224X50823|\n20100803X25950|\n20110830X71207|\n20120705X51659|\n20120811X13221|\n20210219102650|\n20220111104514|\n\nSELECT e.ev_id\nFROM events e\n         INNER JOIN aircraft a ON e.ev_id = a.ev_id\n         INNER JOIN events_sequence es ON e.ev_id = es.ev_id AND a.aircraft_key = es.aircraft_key\n         INNER JOIN io_sequence_of_events isoe ON isoe.soe_no = es.eventsoe_no\nWHERE e.ev_year &gt;= 2008\n  AND a.aircraft_key &gt; 1\n  AND es.defining_ev = TRUE\n  AND isoe.cictt_code = 'OTHR'  \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#5-io-aero-database-io_app_ae1982","title":"5. IO-Aero Database io_app_ae1982","text":"<pre><code>cictt_scf_pp|cictt_loc_i|cictt_loc_g|cictt_arc|cictt_scf_np|cictt_othr|\n------------+-----------+-----------+---------+------------+----------+\n        4080|       4028|       3201|     2956|        1373|      1340|\n\nSELECT count(*) FILTER (WHERE 'SCF-PP' = ANY (cictt_codes)) AS cictt_scf_pp,\n       count(*) FILTER (WHERE 'LOC-I'  = ANY (cictt_codes)) AS cictt_loc_i,\n       count(*) FILTER (WHERE 'LOC-G'  = ANY (cictt_codes)) AS cictt_loc_g,\n       count(*) FILTER (WHERE 'ARC'    = ANY (cictt_codes)) AS cictt_arc,\n       count(*) FILTER (WHERE 'SCF-NP' = ANY (cictt_codes)) AS cictt_scf_np,\n       count(*) FILTER (WHERE 'OTHR'   = ANY (cictt_codes)) AS cictt_othr\nFROM io_app_ae1982\n\nev_id         |cictt_codes    |\n--------------+---------------+\n20200808X63356|{SCF-PP,ARC}   |\n20210216102634|{SCF-PP,SCF-NP}|\n20210218102641|{SCF-PP,FUEL}  |\n20210506103043|{SCF-PP,FUEL}  |\n20210702103405|{UNK,SCF-PP}   |\n20210816103702|{LOC-I,SCF-PP} |\n20220815105734|{SCF-PP,FUEL}  |\n20220829105808|{OTHR,SCF-PP}  |\n20221213106451|{SCF-PP,FUEL}  |\n\nSELECT ev_id,\n       cictt_codes\nFROM io_app_ae1982\nWHERE 'SCF-PP' = ANY (cictt_codes)\n  AND array_length(cictt_codes, 1) &gt; 1\nORDER BY 1\n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#6-application-ae1982","title":"6. Application ae1982","text":""},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#61-bar-chart","title":"6.1 Bar chart","text":"<pre><code>year    LOC-I    UNK    SCF-PP    CFIT    OTHR    UIMC    SCF-NP\n2008    298       9     301       39      173     21      106   \n2009    299      22     277       58       99     18       95   \n2010    229      33     274       49      216     18       96   \n2011    329      30     292       80       71     19      104   \n2012    308      37     292       66       66     15      104   \n2013    273      33     251       76       49     21       86   \n2014    299      52     259       45       42     17       65   \n2015    265      74     277       60       39     23       87   \n2016    264      91     261       47       58     19       88   \n2017    279      77     245       45       44     29       91   \n2018    259      94     247       49       57     15      100   \n2019    290      69     258       32       53     24       80   \n2020    225      86     180       33       58     10       74   \n2021    211      99     338       39      139     14       96   \n2022    194     107     319       27      170      4       99   \n2023      5       4       8        1        5      0        2   \n       4027            4079              1339            1373   \n</code></pre>"},{"location":"__ARCHIVE__/data_reconc_tables_io_app_ae1982.html#62-pie-chart","title":"6.2 Pie chart","text":"<pre><code>SCF-PP     4'079\nLOC-I      4'027\nLOC-G      3'201\nARC        2'956\nSCF-NP     1'373\nOTHR       1'339\n</code></pre>"},{"location":"__ARCHIVE__/release_schedule.html","title":"Release Schedule","text":"<p>To create a new release, the following steps must be performed in the specified order. It is not allowed to continue with the next step until the current step has been completed successfully, i.e. also without any errors. </p>"},{"location":"__ARCHIVE__/release_schedule.html#1-manual-quality-control","title":"1. Manual quality control.","text":""},{"location":"__ARCHIVE__/release_schedule.html#a-remove-all-personal-markers","title":"a) Remove all personal markers.","text":"<p>It is good practice to mark experimental source code, such as source code comments or logging messages that are only used for testing, with a uniform personal marker, such as <code>lho</code> or <code>wwe</code>, so that this source code can be easily discovered and removed for release builds.</p>"},{"location":"__ARCHIVE__/release_schedule.html#b-check-all-todo-markers-for-necessity","title":"b) Check all <code>TODO</code> markers for necessity.","text":""},{"location":"__ARCHIVE__/release_schedule.html#c-check-all-links-in-the-docs-file-directory","title":"c) Check all links in the <code>docs</code> file directory.","text":"<p>Links should generally contain the following suffix: <code>{:target=\"_blank\"}</code>.  This ensures that a web page activated by the link is opened in a new tab.</p>"},{"location":"__ARCHIVE__/release_schedule.html#d-unnecessary-annotations-pytestmarkissue-in-the-file-directory-tests","title":"d) Unnecessary annotations <code>@pytest.mark.issue</code> in the file directory <code>tests</code>.","text":"<p>This annotation can be used to run individual tests selectively.  To remove the remains of it one can use the regular expression <code>^@pytest.mark.issue</code>.</p>"},{"location":"__ARCHIVE__/release_schedule.html#2-define-a-new-version-number","title":"2. Define a new version number.","text":"<p>The rules of semantic versioning must be applied.  Given a version number MAJOR.MINOR.PATCH, increment the:</p> <ul> <li>MAJOR version when you make incompatible API changes</li> <li>MINOR version when you add functionality in a backwards compatible manner</li> <li>PATCH version when you make backwards compatible bug fixes</li> </ul> <p>See here for details.</p>"},{"location":"__ARCHIVE__/release_schedule.html#a-update-the-version-number-in-the-io-avstats-files","title":"a) Update the version number in the IO-AVSTATS files:","text":"<ul> <li>docs/release_history.md</li> <li>docs/release_notes.md</li> <li>src//io_glob.py</li> </ul>"},{"location":"__ARCHIVE__/release_schedule.html#3-create-release-candidate-branch-rel_branch","title":"3. Create release candidate branch <code>&lt;rel_branch&gt;</code>.","text":""},{"location":"__ARCHIVE__/release_schedule.html#4-switch-to-the-release-candidate-branch-rel_branch","title":"4. Switch to the release candidate branch <code>&lt;rel_branch&gt;</code>.","text":"<pre><code>git checkout &lt;rel_branch&gt;\n</code></pre>"},{"location":"__ARCHIVE__/release_schedule.html#5-finalise-the-new-release","title":"5. Finalise the new release.","text":""},{"location":"__ARCHIVE__/release_schedule.html#a-execute-the-following-command-in-the-io-avstats-clone","title":"a. Execute the following command in the IO-AVSTATS clone.","text":"<pre><code>make final\n</code></pre>"},{"location":"__ARCHIVE__/release_schedule.html#b-create-the-final-pull-request","title":"b. Create the final pull request.","text":""},{"location":"__ARCHIVE__/release_schedule.html#c-create-the-new-release-in-github","title":"c. Create the new release in GitHub:","text":"<ul> <li>Releases --&gt; Create a new release</li> <li>Choose a tag ---&gt; <code>9.9.9</code> ---&gt; + Create a new tag</li> <li>Release title ---&gt; <code>Release 9.9.9: &lt;headline&gt;</code>.</li> <li>Describe the release ---&gt; <code>see: https://github.com/io-aero/io-avstats/blob/main/docs/release_notes.md</code></li> <li><code>x</code> This is a pre-release</li> <li><code>x</code> Create a discussion for this release</li> <li>Publish release</li> </ul>"},{"location":"__ARCHIVE__/release_schedule.html#6-preepare-the-next-release","title":"6. Preepare the next release.","text":""},{"location":"__ARCHIVE__/release_schedule.html#a-choose-a-new-version-number","title":"a. Choose a new version number.","text":""},{"location":"__ARCHIVE__/release_schedule.html#b-prepare-the-following-files-in-the-io-rsaster-repository-for-the-new-version","title":"b. Prepare the following files in the io-rsaster repository for the new version:","text":"<ul> <li>docs/release_history.md</li> <li>docs/release_notes.md</li> <li>src//io_glob.py</li> </ul>"},{"location":"__ARCHIVE__/img/index.html","title":"File Directory <code>docs/img</code>","text":"<p>This directory contains all the image files used in the documentation. </p>"},{"location":"img/index.html","title":"File Directory <code>docs/img</code>","text":"<p>This directory contains all the image files used in the documentation. </p>"}]}