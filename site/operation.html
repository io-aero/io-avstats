
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Aviation Accident Statistics">
      
      
        <meta name="author" content="IO-Aero Team">
      
      
        <link rel="canonical" href="https://io-aero.com/operation.html">
      
      
        <link rel="prev" href="config_logging.html">
      
      
        <link rel="next" href="data_analyis_ntsb_accident_data.html">
      
      <link rel="icon" href="img/IO-Aero Logo.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.2">
    
    
      
        <title>Operation - IO-AVSTATS - Aviation Accident Statistics</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.f56500e0.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="assets/pymdownx-extras/extra-b1466b3f51.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="red">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#operation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="IO-AVSTATS - Aviation Accident Statistics" class="md-header__button md-logo" aria-label="IO-AVSTATS - Aviation Accident Statistics" data-md-component="logo">
      
  <img src="img/IO-Aero Logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            IO-AVSTATS - Aviation Accident Statistics
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Operation
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/io-aero/io-avstats" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="IO-AVSTATS - Aviation Accident Statistics" class="md-nav__button md-logo" aria-label="IO-AVSTATS - Aviation Accident Statistics" data-md-component="logo">
      
  <img src="img/IO-Aero Logo.png" alt="logo">

    </a>
    IO-AVSTATS - Aviation Accident Statistics
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/io-aero/io-avstats" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_requirements.html" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="setup_installation.html" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config_io_avstats.html" class="md-nav__link">
        IO-AVSTATS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="config_logging.html" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Operation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="operation.html" class="md-nav__link md-nav__link--active">
        Operation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-detailed-task-list" class="md-nav__link">
    1. Detailed task list
  </a>
  
    <nav class="md-nav" aria-label="1. Detailed task list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-c_d_s-create-the-postgresql-database-schema" class="md-nav__link">
    1.1 c_d_s - Create the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-c_l_l-correct-decimal-us-latitudes-and-longitudes" class="md-nav__link">
    1.2 c_l_l - Correct decimal US latitudes and longitudes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-c_p_d-cleansing-postgresql-data" class="md-nav__link">
    1.3 c_p_d - Cleansing PostgreSQL data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-d_d_f-delete-the-postgresql-database-files" class="md-nav__link">
    1.4 d_d_f - Delete the PostgreSQL database files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-d_d_s-drop-the-postgresql-database-schema" class="md-nav__link">
    1.5 d_d_s - Drop the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-d_n_a-download-a-ntsb-ms-access-database-file" class="md-nav__link">
    1.6 d_n_a - Download a NTSB MS Access database file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-d_s_f-download-basic-simplemaps-files" class="md-nav__link">
    1.7 d_s_f - Download basic simplemaps files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-d_z_f-download-the-zip-code-database-file" class="md-nav__link">
    1.8 d_z_f - Download the ZIP Code Database file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-l_c_d-load-data-from-a-correction-file-into-postgresql" class="md-nav__link">
    1.9 l_c_d - Load data from a correction file into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-l_c_s-load-country-and-state-data-into-postgresql" class="md-nav__link">
    1.10 l_c_s - Load country and state data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-l_n_a-load-ntsb-ms-access-database-data-into-postgresql" class="md-nav__link">
    1.11 l_n_a - Load NTSB MS Access database data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-l_s_d-load-simplemaps-data-into-postgresql" class="md-nav__link">
    1.12 l_s_d - Load simplemaps data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-l_z_d-load-zip-code-database-data-into-postgresql" class="md-nav__link">
    1.13 l_z_d - Load ZIP Code Database data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-r_d_s-refresh-the-postgresql-database-schema" class="md-nav__link">
    1.14 r_d_s - Refresh the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-s_d_c-set-up-the-postgresql-database-container" class="md-nav__link">
    1.15 s_d_c - Set up the PostgreSQL database container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#116-u_d_s-update-the-postgresql-database-schema" class="md-nav__link">
    1.16 u_d_s - Update the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117-v_n_d-verify-selected-ntsb-data" class="md-nav__link">
    1.17 v_n_d - Verify selected NTSB data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-first-installation" class="md-nav__link">
    2. First installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-regular-updates" class="md-nav__link">
    3. Regular updates
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Data Analysis
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Data Analysis" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Data Analysis
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data_analyis_ntsb_accident_data.html" class="md-nav__link">
        Aviation Accident Data Sets
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data_analyis_io_ntsb_2002_2021.html" class="md-nav__link">
        DB Table io_ntsb_2002_2021
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="data_analyis_aaus1982.html" class="md-nav__link">
        DB View aaus1982
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          How to ...
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="How to ..." data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          How to ...
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="how_to_add_ntsb_accident_files.html" class="md-nav__link">
        ... add NTSB accident files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="how_to_create_new_streamlit_app.html" class="md-nav__link">
        ... create a new Streamlit app
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="how_to_setup_aws_instance.html" class="md-nav__link">
        ... set up an AWS instance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="how_to_update_avstats_on_aws.html" class="md-nav__link">
        ... update IO-AVSTATS in AWS
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Release Documents
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release Documents" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Release Documents
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="release_notes.html" class="md-nav__link">
        Release Notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="release_history.html" class="md-nav__link">
        Release History
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="release_schedule.html" class="md-nav__link">
        Release Schedule
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="LICENSE.html" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-detailed-task-list" class="md-nav__link">
    1. Detailed task list
  </a>
  
    <nav class="md-nav" aria-label="1. Detailed task list">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-c_d_s-create-the-postgresql-database-schema" class="md-nav__link">
    1.1 c_d_s - Create the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-c_l_l-correct-decimal-us-latitudes-and-longitudes" class="md-nav__link">
    1.2 c_l_l - Correct decimal US latitudes and longitudes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-c_p_d-cleansing-postgresql-data" class="md-nav__link">
    1.3 c_p_d - Cleansing PostgreSQL data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-d_d_f-delete-the-postgresql-database-files" class="md-nav__link">
    1.4 d_d_f - Delete the PostgreSQL database files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-d_d_s-drop-the-postgresql-database-schema" class="md-nav__link">
    1.5 d_d_s - Drop the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#16-d_n_a-download-a-ntsb-ms-access-database-file" class="md-nav__link">
    1.6 d_n_a - Download a NTSB MS Access database file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#17-d_s_f-download-basic-simplemaps-files" class="md-nav__link">
    1.7 d_s_f - Download basic simplemaps files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#18-d_z_f-download-the-zip-code-database-file" class="md-nav__link">
    1.8 d_z_f - Download the ZIP Code Database file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#19-l_c_d-load-data-from-a-correction-file-into-postgresql" class="md-nav__link">
    1.9 l_c_d - Load data from a correction file into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#110-l_c_s-load-country-and-state-data-into-postgresql" class="md-nav__link">
    1.10 l_c_s - Load country and state data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#111-l_n_a-load-ntsb-ms-access-database-data-into-postgresql" class="md-nav__link">
    1.11 l_n_a - Load NTSB MS Access database data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#112-l_s_d-load-simplemaps-data-into-postgresql" class="md-nav__link">
    1.12 l_s_d - Load simplemaps data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#113-l_z_d-load-zip-code-database-data-into-postgresql" class="md-nav__link">
    1.13 l_z_d - Load ZIP Code Database data into PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#114-r_d_s-refresh-the-postgresql-database-schema" class="md-nav__link">
    1.14 r_d_s - Refresh the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#115-s_d_c-set-up-the-postgresql-database-container" class="md-nav__link">
    1.15 s_d_c - Set up the PostgreSQL database container
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#116-u_d_s-update-the-postgresql-database-schema" class="md-nav__link">
    1.16 u_d_s - Update the PostgreSQL database schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#117-v_n_d-verify-selected-ntsb-data" class="md-nav__link">
    1.17 v_n_d - Verify selected NTSB data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-first-installation" class="md-nav__link">
    2. First installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-regular-updates" class="md-nav__link">
    3. Regular updates
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="operation">Operation</h1>
<p>The main tool for operating <strong>IO-AVSTATS</strong> is the <strong><code>run_io_avstats</code></strong> script. 
The script is available in a Windows command line version and in a Linux bash shell version.</p>
<p>The following tasks can be executed with this script:</p>
<table>
<thead>
<tr>
<th>Code</th>
<th>Task</th>
<th>Additional parameter(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>c_d_s</code></td>
<td>Create the PostgreSQL database schema</td>
<td></td>
</tr>
<tr>
<td><code>c_l_l</code></td>
<td>Correct decimal US latitudes and longitudes</td>
<td></td>
</tr>
<tr>
<td><code>c_p_d</code></td>
<td>Cleansing PostgreSQL data</td>
<td></td>
</tr>
<tr>
<td><code>d_d_f</code></td>
<td>Delete the PostgreSQL database files</td>
<td></td>
</tr>
<tr>
<td><code>d_d_s</code></td>
<td>Drop the PostgreSQL database schema</td>
<td></td>
</tr>
<tr>
<td><code>d_n_a</code></td>
<td>Download a <strong>NTSB</strong> MS Access database file</td>
<td>-m / -msaccess</td>
</tr>
<tr>
<td><code>d_s_f</code></td>
<td>Download basic <strong>simplemaps</strong> files</td>
<td></td>
</tr>
<tr>
<td><code>d_z_f</code></td>
<td>Download the ZIP Code Database file</td>
<td></td>
</tr>
<tr>
<td><code>l_c_d</code></td>
<td>Load data from a correction file into PostgreSQL</td>
<td>-c / -correction</td>
</tr>
<tr>
<td><code>l_c_s</code></td>
<td>Load country and state data into PostgreSQL</td>
<td></td>
</tr>
<tr>
<td><code>l_n_a</code></td>
<td>Load <strong>NTSB</strong> MS Access database data into PostgreSQL</td>
<td>-m / -msaccess</td>
</tr>
<tr>
<td><code>l_s_d</code></td>
<td>Load <strong>simplemaps</strong> data into PostgreSQL</td>
<td></td>
</tr>
<tr>
<td><code>l_z_d</code></td>
<td>Load ZIP Code Database data into PostgreSQL</td>
<td></td>
</tr>
<tr>
<td><code>r_d_s</code></td>
<td>Refresh the PostgreSQL database schema</td>
<td></td>
</tr>
<tr>
<td><code>s_d_c</code></td>
<td>Set up the PostgreSQL database container</td>
<td></td>
</tr>
<tr>
<td><code>u_d_s</code></td>
<td>Update the PostgreSQL database schema</td>
<td></td>
</tr>
<tr>
<td><code>v_n_d</code></td>
<td>Verify selected <strong>NTSB</strong> data</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="1-detailed-task-list">1. Detailed task list</h2>
<h3 id="11-c_d_s-create-the-postgresql-database-schema">1.1 <strong><code>c_d_s</code></strong> - Create the PostgreSQL database schema</h3>
<p>The creation of the database schema includes the following steps, among others:</p>
<ol>
<li>creation of a new database user, and</li>
<li>creation of a new database, and</li>
<li>creation of database objects such as database tables and so on.</li>
</ol>
<p>The following parameters are used when creating the database schema:</p>
<ul>
<li><code>postgres_dbname_admin</code> - administration database name</li>
<li><code>postgres_password_admin</code> - administration database password</li>
<li><code>postgres_user_admin</code> - administration database username</li>
</ul>
<p>Subsequently, the task <strong><code>u_d_s</code></strong> (Update the PostgreSQL database schema) is also executed.</p>
<p>Successful creation of a new database schema requires that neither the user to be created nor the database to be created exists in the PostgreSQL DBMS.
This is achieved by the previous execution of the following task:</p>
<ul>
<li><strong><code>d_d_s</code></strong> - Drop the PostgreSQL database schema</li>
</ul>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-26 02:25:26.802413 : ===============================================================================.
Progress update 2022-11-26 02:25:26.802413 : INFO.00.004 Start Launcher.
Progress update 2022-11-26 02:25:26.804413 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-26 02:25:26.812413 : INFO.00.005 Argument task=&#39;c_d_s&#39;.
Progress update 2022-11-26 02:25:26.812413 : -------------------------------------------------------------------------------.
Progress update 2022-11-26 02:25:26.812413 : INFO.00.044 Creating the database schema.
Progress update 2022-11-26 02:25:26.812913 : --------------------------------------------------------------------------------
Progress update 2022-11-26 02:25:26.899052 : INFO.00.016 Database user is available: io_aero.
Progress update 2022-11-26 02:25:27.874113 : INFO.00.017 Database is available: io_avstats_dev_db.
Progress update 2022-11-26 02:25:28.024496 : INFO.00.007 Database table is available: events.
Progress update 2022-11-26 02:25:28.132516 : INFO.00.007 Database table is available: aircraft.
Progress update 2022-11-26 02:25:28.191012 : INFO.00.007 Database table is available: dt_events.
Progress update 2022-11-26 02:25:28.241033 : INFO.00.007 Database table is available: ntsb_admin.
Progress update 2022-11-26 02:25:28.298867 : INFO.00.007 Database table is available: dt_aircraft.
Progress update 2022-11-26 02:25:28.357619 : INFO.00.007 Database table is available: engines.
Progress update 2022-11-26 02:25:28.415529 : INFO.00.007 Database table is available: events_sequence.
Progress update 2022-11-26 02:25:28.465931 : INFO.00.007 Database table is available: findings.
Progress update 2022-11-26 02:25:28.666134 : INFO.00.007 Database table is available: flight_crew.
Progress update 2022-11-26 02:25:28.757239 : INFO.00.007 Database table is available: injury.
Progress update 2022-11-26 02:25:28.840655 : INFO.00.007 Database table is available: narratives.
Progress update 2022-11-26 02:25:28.890426 : INFO.00.007 Database table is available: occurrences.
Progress update 2022-11-26 02:25:28.940723 : INFO.00.007 Database table is available: dt_flight_crew.
Progress update 2022-11-26 02:25:28.990598 : INFO.00.007 Database table is available: flight_time.
Progress update 2022-11-26 02:25:29.057116 : INFO.00.007 Database table is available: seq_of_events.
Progress update 2022-11-26 02:25:29.107615 : INFO.00.007 Database table is available: io_countries.
Progress update 2022-11-26 02:25:29.157116 : INFO.00.007 Database table is available: io_states.
Progress update 2022-11-26 02:25:29.224119 : INFO.00.007 Database table is available: io_lat_lng.
Progress update 2022-11-26 02:25:29.290617 : INFO.00.007 Database table is available: io_processed_files.
Progress update 2022-11-26 02:25:29.290617 : --------------------------------------------------------------------------------
Progress update 2022-11-26 02:25:29.290617 : INFO.00.045 Updating the database schema.
Progress update 2022-11-26 02:25:29.291115 : --------------------------------------------------------------------------------
Progress update 2022-11-26 02:25:29.407115 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_city&#39;.
Progress update 2022-11-26 02:25:29.432118 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_country&#39;.
Progress update 2022-11-26 02:25:29.457114 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_dec_lat_lng_actions&#39;.
Progress update 2022-11-26 02:25:29.482114 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_dec_latitude&#39;.
Progress update 2022-11-26 02:25:29.507115 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_dec_longitude&#39;.
Progress update 2022-11-26 02:25:29.532116 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_deviating_latitude&#39;.
Progress update 2022-11-26 02:25:29.557114 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_deviating_longitude&#39;.
Progress update 2022-11-26 02:25:29.582115 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_latitude&#39;.
Progress update 2022-11-26 02:25:29.607614 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_longitude&#39;.
Progress update 2022-11-26 02:25:29.632114 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_us_city&#39;.
Progress update 2022-11-26 02:25:29.657614 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_us_state&#39;.
Progress update 2022-11-26 02:25:29.682117 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_us_zipcode&#39;.
Progress update 2022-11-26 02:25:29.707116 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_latitude&#39;.
Progress update 2022-11-26 02:25:29.731616 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_longitude&#39;.
Progress update 2022-11-26 02:25:29.756848 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_site_zipcode&#39;.
Progress update 2022-11-26 02:25:29.781847 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_state&#39;.
Progress update 2022-11-26 02:25:29.806863 : INFO.00.032 Database view is available: io_accidents_us_1982.
Progress update 2022-11-26 02:25:29.831848 : INFO.00.032 Database view is available: io_lat_lng_issues.
Progress update 2022-11-26 02:25:29.831848 : -------------------------------------------------------------------------------.
Progress update 2022-11-26 02:25:29.832351 :        3,172,935,000 ns - Total time launcher.
Progress update 2022-11-26 02:25:29.832351 : INFO.00.006 End   Launcher.
Progress update 2022-11-26 02:25:29.832351 : ===============================================================================.
</code></pre></div>
<h3 id="12-c_l_l-correct-decimal-us-latitudes-and-longitudes">1.2 <strong><code>c_l_l</code></strong> - Correct decimal US latitudes and longitudes</h3>
<p>TODO</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-29 14:26:53.195199 : ===============================================================================.
Progress update 2022-11-29 14:26:53.195199 : INFO.00.004 Start Launcher.
Progress update 2022-11-29 14:26:53.197199 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-29 14:26:53.205699 : INFO.00.005 Argument task=&#39;c_l_l&#39;.
Progress update 2022-11-29 14:26:53.205699 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 14:26:53.205699 : INFO.00.040 Correct decimal US latitudes and longitudes.
Progress update 2022-11-29 14:26:53.205699 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:26:56.179717 : Number of rows so far read :   5000.
Progress update 2022-11-29 14:26:56.217217 : Number of rows so far read :  10000.
Progress update 2022-11-29 14:26:56.255218 : Number of rows so far read :  15000.
Progress update 2022-11-29 14:26:56.350217 : Number of rows so far read :  20000.
Progress update 2022-11-29 14:26:56.418218 : Number of rows so far read :  25000.
Progress update 2022-11-29 14:26:56.506301 : Number of rows so far read :  30000.
Progress update 2022-11-29 14:26:56.544302 : Number of rows so far read :  35000.
Progress update 2022-11-29 14:26:56.582301 : Number of rows so far read :  40000.
Progress update 2022-11-29 14:26:58.644218 : Number of rows so far read :  45000.
Progress update 2022-11-29 14:27:04.165484 : Number of rows so far read :  50000.
Progress update 2022-11-29 14:27:04.202984 : Number of rows so far read :  55000.
Progress update 2022-11-29 14:27:04.264984 : Number of rows so far read :  60000.
Progress update 2022-11-29 14:27:04.302484 : Number of rows so far read :  65000.
Progress update 2022-11-29 14:27:04.340484 : Number of rows so far read :  70000.
Progress update 2022-11-29 14:27:04.378484 : Number of rows so far read :  75000.
Progress update 2022-11-29 14:27:04.416985 : Number of rows so far read :  80000.
Progress update 2022-11-29 14:27:04.454984 : Number of rows so far read :  85000.
Progress update 2022-11-29 14:27:04.494488 : Number of rows so far read :  90000.
Progress update 2022-11-29 14:27:04.533484 : Number of rows so far read :  95000.
Progress update 2022-11-29 14:27:26.444050 : Number of rows so far read : 100000.
Progress update 2022-11-29 14:28:59.310881 : Number of rows so far read : 105000.
Progress update 2022-11-29 14:29:13.783233 : Number of rows so far read : 110000.
Progress update 2022-11-29 14:30:30.710774 : Number of rows so far read : 115000.
Progress update 2022-11-29 14:32:47.465443 : Number of rows so far read : 120000.
Progress update 2022-11-29 14:35:07.660574 : Number of rows so far read : 125000.
Progress update 2022-11-29 14:37:26.256310 : Number of rows so far read : 130000.
Progress update 2022-11-29 14:39:43.194030 : Number of rows so far read : 135000.
Progress update 2022-11-29 14:39:43.332530 : Number rows selected : 135081.
Progress update 2022-11-29 14:39:43.332530 : Number rows updated  :  26989.
Progress update 2022-11-29 14:39:43.333028 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 14:39:43.333028 :      770,285,829,500 ns - Total time launcher.
Progress update 2022-11-29 14:39:43.333028 : INFO.00.006 End   Launcher.
Progress update 2022-11-29 14:39:43.333028 : ===============================================================================.
</code></pre></div>
<h3 id="13-c_p_d-cleansing-postgresql-data">1.3 <strong><code>c_p_d</code></strong> - Cleansing PostgreSQL data</h3>
<p>The task cleans up data abnormalities in the database. 
This includes the following activities:</p>
<ul>
<li>remove trailing whitespace in string data types (trimming),</li>
<li>converting string data types that contain only whitespace to NULL (nullifying).</li>
</ul>
<p>As a result, a much simplified simplification of data is possible, e.g. for comparisons.</p>
<p>The functionality is limited to the following database columns:</p>
<table>
<thead>
<tr>
<th>DB table</th>
<th>DB columns</th>
</tr>
</thead>
<tbody>
<tr>
<td>events</td>
<td>ev_city, ev_site_zipcode, latitude, longitude</td>
</tr>
</tbody>
</table>
<p>On the one hand, the task can be executed explicitly with the <strong><code>run_io_avstats_db</code></strong> script (task <strong><code>c_p_d</code></strong>) and, on the other hand, it always runs after loading NTSB MS Access data into the PostgreSQL database (task <strong><code>l_n_a</code></strong>).</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-29 13:03:13.182527 : ===============================================================================.
Progress update 2022-11-29 13:03:13.182527 : INFO.00.004 Start Launcher.
Progress update 2022-11-29 13:03:13.184528 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-29 13:03:13.192529 : INFO.00.005 Argument task=&#39;c_p_d&#39;.
Progress update 2022-11-29 13:03:13.193028 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 13:03:13.193028 : INFO.00.065 Cleansing PostgreSQL data.
Progress update 2022-11-29 13:03:13.193028 : --------------------------------------------------------------------------------
Progress update 2022-11-29 13:03:13.264027 : INFO.00.066 Cleansing table &#39;events&#39; column &#39;ev_city&#39;.
Progress update 2022-11-29 13:03:14.812228 : Number cols trimmed  :  47967.
Progress update 2022-11-29 13:03:14.853583 : Number cols nullified:      4.
Progress update 2022-11-29 13:03:14.854085 : --------------------------------------------------------------------------------
Progress update 2022-11-29 13:03:14.854085 : INFO.00.066 Cleansing table &#39;events&#39; column &#39;ev_site_zipcode&#39;.
Progress update 2022-11-29 13:03:15.795002 : Number cols trimmed  :  48691.
Progress update 2022-11-29 13:03:15.870127 : Number cols nullified:   2299.
Progress update 2022-11-29 13:03:15.870127 : --------------------------------------------------------------------------------
Progress update 2022-11-29 13:03:15.870632 : INFO.00.066 Cleansing table &#39;events&#39; column &#39;latitude&#39;.
Progress update 2022-11-29 13:03:16.720436 : Number cols trimmed  :  42292.
Progress update 2022-11-29 13:03:17.979937 : Number cols nullified:  42292.
Progress update 2022-11-29 13:03:17.980436 : --------------------------------------------------------------------------------
Progress update 2022-11-29 13:03:17.980436 : INFO.00.066 Cleansing table &#39;events&#39; column &#39;longitude&#39;.
Progress update 2022-11-29 13:03:19.136341 : Number cols trimmed  :  42292.
Progress update 2022-11-29 13:03:21.218871 : Number cols nullified:  42292.
Progress update 2022-11-29 13:03:21.218871 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 13:03:21.218871 :        8,180,840,400 ns - Total time launcher.
Progress update 2022-11-29 13:03:21.219372 : INFO.00.006 End   Launcher.
Progress update 2022-11-29 13:03:21.219372 : ===============================================================================.
</code></pre></div>
<h3 id="14-d_d_f-delete-the-postgresql-database-files">1.4 <strong><code>d_d_f</code></strong> - Delete the PostgreSQL database files</h3>
<p>This task deletes all PostgreSQL database files.
The execution requires administration rights.
Subsequently, the PostgreSQL database must be completely rebuilt.</p>
<p><strong>Tip</strong>: The administration password is required to use the administration rights. 
This can be difficult with the Windows operating system, as there seems to be no functionality to set the administration password. 
The use of the Windows Subsystem for Linux can help here. </p>
<h3 id="15-d_d_s-drop-the-postgresql-database-schema">1.5 <strong><code>d_d_s</code></strong> - Drop the PostgreSQL database schema</h3>
<p>Successful execution of this task requires that no other process uses the database defined with the <strong><code>postgres_dbname</code></strong> parameter.
After execution, the database with all objects and the database user defined with the <strong><code>postgres_user</code></strong> parameter are deleted.</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-22 19:40:05.757556 : ===============================================================================.
Progress update 2022-11-22 19:40:05.757556 : INFO.00.004 Start Launcher.
Progress update 2022-11-22 19:40:05.762558 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-22 19:40:05.771056 : INFO.00.005 Argument task=&#39;d_d_s&#39;.
Progress update 2022-11-22 19:40:05.771558 : -------------------------------------------------------------------------------.
Progress update 2022-11-22 19:40:05.771558 : INFO.00.046 Dropping the database schema.
Progress update 2022-11-22 19:40:05.771558 : -------------------------------------------------------------------------------.
Progress update 2022-11-22 19:40:06.742328 : INFO.00.019 Database is dropped: io_avstats_db.
Progress update 2022-11-22 19:40:06.775829 : INFO.00.018 Database user is dropped: io_aero.
Progress update 2022-11-22 19:40:06.775829 : -------------------------------------------------------------------------------.
Progress update 2022-11-22 19:40:06.775829 :        1,186,272,600 ns - Total time launcher.
Progress update 2022-11-22 19:40:06.775829 : INFO.00.006 End   Launcher.
Progress update 2022-11-22 19:40:06.776329 : ===============================================================================.
</code></pre></div>
<h3 id="16-d_n_a-download-a-ntsb-ms-access-database-file">1.6 <strong><code>d_n_a</code></strong> - Download a <strong>NTSB</strong> MS Access database file</h3>
<p>This task allows files containing aviation accident data to be downloaded from the <strong>NTSB</strong> download site.
These files are there as MS Access databases in a compressed format.
The following subtasks are executed:</p>
<ol>
<li>A connection to the <strong>NTSB</strong> download page is established.</li>
<li>The selected file is downloaded to the local system in chunks. </li>
<li>The downloaded file is then unpacked. </li>
<li>A script with the database schema definition is created with RazorSQL from the downloaded database.</li>
<li>The newly created script is then compared with a reference script for matching.</li>
</ol>
<p>Subsequently, the downloaded data can be loaded into the PostgreSQL database with the task <strong><code>l_n_a</code></strong> (Load <strong>NTSB</strong> MS Access database data into PostgreSQL).</p>
<p>Further details can be found <a href="https://github.com/io-aero/io-avstats-db/blob/main/site/db_data_transfer.html" target="_blank">here</a>.</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-23 12:20:05.623207 : ===============================================================================.
Progress update 2022-11-23 12:20:05.623207 : INFO.00.004 Start Launcher.
Progress update 2022-11-23 12:20:05.625207 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-23 12:20:05.633207 : INFO.00.008 Arguments task=&#39;d_n_a&#39; msaccess=&#39;up22oct&#39;.
Progress update 2022-11-23 12:20:05.633707 : -------------------------------------------------------------------------------.
Progress update 2022-11-23 12:20:05.633707 : INFO.00.047 Downloading NTSB MS Access database file &#39;up22OCT&#39;.
Progress update 2022-11-23 12:20:05.633707 : --------------------------------------------------------------------------------
Progress update 2022-11-23 12:20:06.163453 : INFO.00.013 The connection to the MS Access database file &#39;up22OCT.zip&#39; on the NTSB download page was successfully established.
Progress update 2022-11-23 12:20:07.188487 : INFO.00.014 From the file &#39;up22OCT.zip&#39; 2 chunks were downloaded.
Progress update 2022-11-23 12:20:07.206986 : INFO.00.015 The file &#39;up22OCT.zip&#39; was successfully unpacked.
Progress update 2022-11-23 12:20:07.218987 : INFO.00.051 msaccess_file     =&#39;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\data\download\IO-AVSTATS.mdb&#39;.
Progress update 2022-11-23 12:20:07.219487 : INFO.00.051 msaccess_file     =&#39;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\data\download\up22OCT.sql&#39;.
Progress update 2022-11-23 12:20:07.219487 : INFO.00.052 razorsql_jar_file =&#39;C:\Program Files\RazorSQL\razorsql.jar&#39;.
Progress update 2022-11-23 12:20:07.219487 : INFO.00.053 razorsql_java_path=&#39;C:\Program Files\RazorSQL\jre11\bin\java&#39;.
1669202407306: launching RazorSQL . . .
1669202407307: args . . .
-backup
IO-AVSTATS
null
null
;
null
D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\data\download\up22OCT.sql
NO
tables
YES
null
NO
NO
1669202407342: userName: walte
1669202407342: libraryPath: C:\Program Files\RazorSQL\jre11\bin;C:\WINDOWS\Sun\Java\bin;C:\WINDOWS\system32;C:\WINDOWS;C:\Users\walte\.virtualenvs\io-avstats-db-NXLRYNgF\Scripts;C:\Program Files (x86)\VMware\VMware Player\bin\;C:\Program Files (x86)\infogridpacific\AZARDI;C:\Program Files (x86)\NVIDIA Corporation\PhysX\Common;C:\Program Files\Calibre2\;C:\Program Files\dotnet\;C:\Program Files\Git LFS;C:\Program Files\Microsoft SQL Server\110\Tools\Binn\;C:\Program Files\NVIDIA Corporation\NVIDIA NvDLISR;C:\Program Files\Pandoc\;C:\Program Files\TortoiseGit\bin;C:\Software\GnuWin32\bin;C:\WINDOWS;C:\WINDOWS\system32;C:\WINDOWS\System32\OpenSSH\;C:\WINDOWS\System32\Wbem;C:\WINDOWS\System32\WindowsPowerShell\v1.0\;C:\Users\walte\.nimble\bin;C:\Windows;C:\Windows\system32;C:\Windows\System32\OpenSSH\;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Software\.cargo\bin;%GRADLE_HOME%\bin;%HOME_ELIXIR%\bin;%HOME_ERLANG%\bin;%HOME_GO%\bin;%HOME_JULIA%\bin;%HOME_NIM%\bin;C:\Software\PostgreSQL\15\bin;C:\Software\poppler-0.68.0\bin;C:\Software\Python\Python310;C:\Software\Python\Python310\Scripts;C:\Software\rebar3;%HOME_RUST%\bin;C:\Software\Tesseract-OCR;C:\Software\jdk-18.0.2\bin;%KOTLIN_HOME%\bin;C:\Software\oracle\instantclient_21_6;C:\Software\Gpg4win\..\GnuPG\bin;C:\Program Files\Git\cmd;C:\Program Files\LLVM\bin;C:\Program Files\nodejs\;C:\Program Files\Docker\Docker\resources\bin;C:\Users\walte\.cargo\bin;C:\Users\walte\AppData\Local\Microsoft\WindowsApps;C:\Software\Microsoft VS Code\bin;C:\Users\walte\go\bin;C:\Software\texlive\2021\bin\win32;c:\users\walte\.local\bin;C:\Users\walte\AppData\Local\JetBrains\Toolbox\scripts;C:\Users\walte\AppData\Roaming\npm;.
1669202407343: javaVersion: 11.0.13
1669202407343:
1669202407343: Verifying RazorSQL resources location.
1669202407343:
1669202407343: testing base url: / = file:/C:/Program%20Files/RazorSQL/
1669202407343:
1669202407344: testString1: file:/C:/Program%20Files/RazorSQL/razorsql.jar
1669202407344: testString2: file:/C:/Program%20Files/RazorSQL/data/base.ssql
1669202407344: testFile1: C:\Program Files\RazorSQL\razorsql.jar
1669202407344: testFile2: C:\Program Files\RazorSQL\data\base.ssql
1669202407344: both test file exists.  Base URL found.
1669202407344: resource directory: file:/C:/Program%20Files/RazorSQL/
1669202407344: user home: C:\Users\walte
1669202407346: user profile: C:\Users\walte
1669202407346: app data: C:\Users\walte\AppData\Roaming
1669202407346: checking write access to: C:\Users\walte\AppData\Roaming
1669202407346: write dir: C:\Users\walte\AppData\Roaming\RichardsonSoftware
1669202407346: can write to C:\Users\walte\AppData\Roaming
1669202407346: user.home: C:\Users\walte\AppData\Roaming
1669202407346: RazorSQL Scratch Directory: C:\Users\walte\AppData\Roaming\RazorSQL
1669202407347: RazorSQL Scratch Directory exists
1669202407347: checking for sub directories
1669202407347: razorsql launch log: C:\Users\walte\AppData\Roaming\RazorSQL\razorsql_launch_log.txt
1669202407347: launch log file = C:\Users\walte\AppData\Roaming\RazorSQL\razorsql_launch_log.txt
1669202407347: Checking for graphics properties
1669202407348: graphics properties file: C:\Users\walte\AppData\Roaming\RazorSQL\data\graphics_properties.txt
1669202407348: gOverride: null
1669202407348: not disabling advanced graphics
1669202407348: path0: file:/C:/Program%20Files/RazorSQL/data/run.ssql
1669202407348: path1: file:/C:/Program%20Files/RazorSQL/razorsql.jar
1669202407348: runArgs: true
1669202407348: showScreen: false
1669202407349: args[0]: -backup
1669202407349: args[1]: IO-AVSTATS
1669202407349: args[2]: null
1669202407349: args[3]: null
1669202407349: args[4]: ;
1669202407349: args[5]: null
1669202407349: args[6]: D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\data\download\up22OCT.sql
1669202407349: args[7]: NO
1669202407349: args[8]: tables
1669202407349: args[9]: YES
1669202407349: args[10]: null
1669202407349: args[11]: NO
1669202407349: args[12]: NO
1669202407349: Command: -backup
1669202407350: Running -backup
h: name = C:\Program Files\RazorSQL\data\run.ssql
h: name = C:\Program Files\RazorSQL\razorsql.jar
1669202407356: Attempting to load . . .
command found
uOne: file:/C:/Program%20Files/RazorSQL/
h: name = C:\Program Files\RazorSQL\data\run.ssql
1669202407367reading file . . .C:\Program Files\RazorSQL\data\base.ssql
1669202407392done reading . . .
1669202407401done converting
1669202407401starting lib load.
1669202407413lib load complete.
In command line processor
Max Memory: 30688.0
Current Total Memory: 2048.0
Free Memory: 1957.998046875
1669202407486: r init
1669202407486: d init
1669202407487: get default file encoding
1669202407487: end d init
custom home directory: null
Checking for user data from old versions
1669202407488: user home: C:\Users\walte
1669202407489: user profile: C:\Users\walte
1669202407489: app data: C:\Users\walte\AppData\Roaming
1669202407489: checking write access to: C:\Users\walte\AppData\Roaming
1669202407489: write dir: C:\Users\walte\AppData\Roaming\RichardsonSoftware
1669202407489: can write to C:\Users\walte\AppData\Roaming
newHome: C:\Users\walte\AppData\Roaming\RazorSQL
dataHome: C:\Users\walte\AppData\Roaming/RazorSQL/data/
preferences file: C:\Users\walte\AppData\Roaming\RazorSQL\data\preferences.txt
Profiles Exist
1669202407499: loading icons
1669202407663: done r init
Getting connection data from: IO-AVSTATS
1669202407665: r init
1669202407665: d init
1669202407665: get default file encoding
1669202407665: end d init
custom home directory: null
Checking for user data from old versions
newHome: C:\Users\walte\AppData\Roaming\RazorSQL
dataHome: C:\Users\walte\AppData\Roaming/RazorSQL/data/
preferences file: C:\Users\walte\AppData\Roaming\RazorSQL\data\preferences.txt
Profiles Exist
1669202407666: loading icons
1669202407675: done r init
getting connection . . .
Not using SSH Tunnel
driver: sun.jdbc.odbc.JdbcOdbcDriver
classLocation: C:\Program Files\RazorSQL\drivers\common\odbc.jar
loadedCommonJars: false
commonURL: file:/C:/Program%20Files/RazorSQL/drivers/common/
commonDir: C:\Program Files\RazorSQL\drivers\common
commonFiles[0]: file:/C:/Program%20Files/RazorSQL/drivers/common/activation.jar
commonFiles[1]: file:/C:/Program%20Files/RazorSQL/drivers/common/common.jar
commonFiles[2]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-api.jar
commonFiles[3]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-core.jar
commonFiles[4]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-impl.jar
commonFiles[6]: file:/C:/Program%20Files/RazorSQL/drivers/common/odbc.jar
connection type: ODBC
final classLocation: C:\Program Files\RazorSQL\drivers\common\odbc.jar
classLocation file: C:\Program Files\RazorSQL\drivers\common\odbc.jar
building sql manager
Loading driver
Done loading driver
Getting connection with no login info
JdbcOdbcDriver: in initialize
OdbcApi == null
Creating new OdbcApi, nativePrefix:
JdbcOdbc constructor
Attempting to load JdbcOdbc library
Got OdbcApi: sun.jdbc.odbc.JdbcOdbc@2d127a61
Getting charset
JdbcOdbcDriver.OdbcApi.charSet: Cp1252
Connection obtained
obtained connection
database major version = 2
database product name: ACCESS
multiValueInsert: false
includeIdentifyColumns: false
Calling backup . . .
Retrieving Tables . . .
Generating Table DDL . . .
1 of 20
number of columns 93
column map size: 93
foundNull: false
2 of 20
number of columns 2
column map size: 2
foundNull: false
3 of 20
number of columns 11
column map size: 11
foundNull: false
4 of 20
number of columns 2
column map size: 2
foundNull: false
5 of 20
number of columns 6
column map size: 6
foundNull: false
6 of 20
number of columns 5
column map size: 5
foundNull: false
7 of 20
number of columns 7
column map size: 7
foundNull: false
8 of 20
number of columns 13
column map size: 13
foundNull: false
9 of 20
number of columns 17
column map size: 17
foundNull: false
10 of 20
number of columns 73
column map size: 73
foundNull: false
11 of 20
number of columns 10
column map size: 10
foundNull: false
12 of 20
number of columns 13
column map size: 13
foundNull: false
13 of 20
number of columns 33
column map size: 33
foundNull: false
14 of 20
number of columns 8
column map size: 8
foundNull: false
15 of 20
number of columns 7
column map size: 7
foundNull: false
16 of 20
number of columns 8
column map size: 8
foundNull: false
17 of 20
number of columns 5
column map size: 5
foundNull: false
18 of 20
number of columns 8
column map size: 8
foundNull: false
19 of 20
number of columns 11
column map size: 11
foundNull: false
20 of 20
number of columns 3
column map size: 3
foundNull: false
Generating Alter Table DDL . . .
1 of 20
2 of 20
3 of 20
4 of 20
5 of 20
6 of 20
7 of 20
8 of 20
9 of 20
10 of 20
11 of 20
12 of 20
13 of 20
14 of 20
15 of 20
16 of 20
17 of 20
18 of 20
19 of 20
20 of 20
backup finished
closing connection . . .
connection closed.
Shutting down logging streams
Done shutting down logging streams
Exiting . . .
Progress update 2022-11-23 12:20:08.292807 : INFO.00.011 The DDL script for the MS Access database &#39;up22OCT.mdb&#39; was created successfully.
Progress update 2022-11-23 12:20:08.297807 : INFO.00.012 The DDL script for the MS Access database &#39;up22OCT.mdb&#39; is identical to the reference script.
Progress update 2022-11-23 12:20:08.297807 : -------------------------------------------------------------------------------.
Progress update 2022-11-23 12:20:08.297807 :        2,816,100,200 ns - Total time launcher.
Progress update 2022-11-23 12:20:08.297807 : INFO.00.006 End   Launcher.
Progress update 2022-11-23 12:20:08.298305 : ===============================================================================.
</code></pre></div>
<h3 id="17-d_s_f-download-basic-simplemaps-files">1.7 <strong><code>d_s_f</code></strong> - Download basic <strong>simplemaps</strong> files</h3>
<p>This task downloads the basic versions of the two databases <strong><code>United States Cities</code></strong> and <strong><code>US Zip Codes</code></strong> from the <strong>simplemaps</strong> website to the file directory defined in <strong><code>download_work_dir</code></strong>.</p>
<p>Subsequently, the downloaded data can be loaded into the PostgreSQL database with the task <strong><code>l_s_d</code></strong> (Load <strong>simplemaps</strong> data into PostgreSQL).</p>
<p>Further details can be found <a href="https://github.com/io-aero/io-avstats-db/blob/main/site/db_data_transfer.html" target="_blank">here</a>.</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-27 14:59:11.670613 : ===============================================================================.
Progress update 2022-11-27 14:59:11.670613 : INFO.00.004 Start Launcher.
Progress update 2022-11-27 14:59:11.672613 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-27 14:59:11.681113 : INFO.00.005 Argument task=&#39;d_s_f&#39;.
Progress update 2022-11-27 14:59:11.681113 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 14:59:11.681113 : INFO.00.048 Downloading basic simplemaps files.
Progress update 2022-11-27 14:59:11.681113 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:59:11.917087 : INFO.00.030 The connection to the US city file &#39;simplemaps_uscities_basicv1.75.zip&#39; on the simplemaps download page was successfully established.
Progress update 2022-11-27 14:59:14.671525 : INFO.00.023 From the file &#39;simplemaps_uscities_basicv1.75.zip&#39; 8 chunks were downloaded.
Progress update 2022-11-27 14:59:14.705528 : INFO.00.024 The file &#39;simplemaps_uscities_basicv1.75.zip&#39; was successfully unpacked.
Progress update 2022-11-27 14:59:14.916882 : INFO.00.022 The connection to the US zip code file &#39;simplemaps_uszips_basicv1.81.zip&#39; on the simplemaps download page was successfully established.
Progress update 2022-11-27 14:59:15.642184 : INFO.00.023 From the file &#39;simplemaps_uszips_basicv1.81.zip&#39; 8 chunks were downloaded.
Progress update 2022-11-27 14:59:15.675685 : INFO.00.024 The file &#39;simplemaps_uszips_basicv1.81.zip&#39; was successfully unpacked.
Progress update 2022-11-27 14:59:15.676184 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 14:59:15.676184 :        4,151,071,300 ns - Total time launcher.
Progress update 2022-11-27 14:59:15.676184 : INFO.00.006 End   Launcher.
Progress update 2022-11-27 14:59:15.676184 : ===============================================================================.
</code></pre></div>
<h3 id="18-d_z_f-download-the-zip-code-database-file">1.8 <strong><code>d_z_f</code></strong> - Download the ZIP Code Database file</h3>
<p>With this task, the free version of the file <a href="https://www.unitedstateszipcodes.org/zip-code-database/" target="_blank">ZIP Code Database</a> can be downloaded from the website <a href="https://www.unitedstateszipcodes.org/"><strong>United States Zip Codes.org</strong></a>.
However, since a license window appears first before the actual download, it is better to download the file manually.
Therefore, this task is currently not offered in the <strong><code>run_io_avstats_db</code></strong> shell script menu.</p>
<p><kbd><img alt="" src="img/Zip%20Codes.org%20Verify%20License%20Terms.png" /></kbd></p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-26 07:12:23.326957 : ===============================================================================.
Progress update 2022-11-26 07:12:23.326957 : INFO.00.004 Start Launcher.
Progress update 2022-11-26 07:12:23.328958 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-26 07:12:23.336956 : INFO.00.005 Argument task=&#39;d_z_f&#39;.
Progress update 2022-11-26 07:12:23.337457 : -------------------------------------------------------------------------------.
Progress update 2022-11-26 07:12:23.337457 : INFO.00.055 Downloading ZIP Code Database file.
Progress update 2022-11-26 07:12:23.337457 : --------------------------------------------------------------------------------

  File &quot;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\src\launcher.py&quot;, line 416, in &lt;module&gt;
    main(sys.argv)
  File &quot;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\src\launcher.py&quot;, line 376, in main
    avstats.download_zip_code_db_file()
  File &quot;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\src\io_avstats_db\avstats.py&quot;, line 98, in download_zip_code_db_file
    db_dml_base.download_zip_code_db_file()
  File &quot;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\src\io_avstats_db\db_dml_base.py&quot;, line 4052, in download_zip_code_db_file
    io_utils.terminate_fatal(
  File &quot;D:\SoftDevelopment\Projects\IO-Aero\io-avstats-db\src\io_avstats_db\io_utils.py&quot;, line 99, in terminate_fatal
    traceback.print_stack()

FATAL ERROR: program abort =====&gt;
FATAL ERROR: program abort =====&gt; ERROR.00.906 Unexpected response status code=&#39;403&#39; &lt;===== FATAL ERROR
FATAL ERROR: program abort =====&gt;
Processing of the script run_io_avstats was aborted, error code=0
</code></pre></div>
<h3 id="19-l_c_d-load-data-from-a-correction-file-into-postgresql">1.9 <strong><code>l_c_d</code></strong> - Load data from a correction file into PostgreSQL</h3>
<p>TODO</p>
<p>This task allows files containing aviation accident data to be downloaded from the NTSB download site.
These files are there as MS Access databases in a compressed format.
The following subtasks are executed:</p>
<ol>
<li>A connection to the NTSB download page is established.</li>
<li>The selected file is downloaded to the local system in chunks. </li>
<li>The downloaded file is then unpacked. </li>
<li>A script with the database schema definition is created with RazorSQL from the downloaded database.</li>
<li>The newly created script is then compared with a reference script for matching.</li>
</ol>
<h3 id="110-l_c_s-load-country-and-state-data-into-postgresql">1.10 <strong><code>l_c_s</code></strong> - Load country and state data into PostgreSQL</h3>
<p>TODO</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-27 14:15:55.817859 : ===============================================================================.
Progress update 2022-11-27 14:15:55.817859 : INFO.00.004 Start Launcher.
Progress update 2022-11-27 14:15:55.819858 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-27 14:15:55.827859 : INFO.00.005 Argument task=&#39;l_c_s&#39;.
Progress update 2022-11-27 14:15:55.827859 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 14:15:55.827859 : INFO.00.057 Loading country and state data.
Progress update 2022-11-27 14:15:55.828359 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:55.894605 : INFO.00.059 Loading country data.
Progress update 2022-11-27 14:15:55.894605 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:55.954085 : Number rows selected :     52.
Progress update 2022-11-27 14:15:55.954597 : Number rows inserted :      1.
Progress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:55.954597 : INFO.00.060 Loading state data.
Progress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:57.545443 : Number rows selected :     52.
Progress update 2022-11-27 14:15:57.545443 : Number rows inserted :     51.
Progress update 2022-11-27 14:15:57.570593 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 14:15:57.570593 :        1,896,734,300 ns - Total time launcher.
Progress update 2022-11-27 14:15:57.570593 : INFO.00.006 End   Launcher.
Progress update 2022-11-27 14:15:57.571096 : ===============================================================================.
</code></pre></div>
<h3 id="111-l_n_a-load-ntsb-ms-access-database-data-into-postgresql">1.11 <strong><code>l_n_a</code></strong> - Load <strong>NTSB</strong> MS Access database data into PostgreSQL</h3>
<p>This task transfers the data from an <strong>NTSB</strong> MS Access database previously downloaded from the <strong>NTSB</strong> website to the PostgreSQL database.
The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database.
The initial loading is done with both <strong>NTSB</strong> MS Access databases Pre2008 ubd avall.
After that only the monthly updates are then transferred. </p>
<p>Further details can be found <a href="https://github.com/io-aero/io-avstats-db/blob/main/site/db_data_transfer.html" target="_blank">here</a>.</p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-27 14:15:55.817859 : ===============================================================================.
Progress update 2022-11-27 14:15:55.817859 : INFO.00.004 Start Launcher.
Progress update 2022-11-27 14:15:55.819858 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-27 14:15:55.827859 : INFO.00.005 Argument task=&#39;l_c_s&#39;.
Progress update 2022-11-27 14:15:55.827859 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 14:15:55.827859 : INFO.00.057 Loading country and state data.
Progress update 2022-11-27 14:15:55.828359 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:55.894605 : INFO.00.059 Loading country data.
Progress update 2022-11-27 14:15:55.894605 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:55.954085 : Number rows selected :     52.
Progress update 2022-11-27 14:15:55.954597 : Number rows inserted :      1.
Progress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:55.954597 : INFO.00.060 Loading state data.
Progress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------
Progress update 2022-11-27 14:15:57.545443 : Number rows selected :     52.
Progress update 2022-11-27 14:15:57.545443 : Number rows inserted :     51.
Progress update 2022-11-27 14:15:57.570593 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 14:15:57.570593 :        1,896,734,300 ns - Total time launcher.
Progress update 2022-11-27 14:15:57.570593 : INFO.00.006 End   Launcher.
Progress update 2022-11-27 14:15:57.571096 : ===============================================================================.
</code></pre></div>
<h3 id="112-l_s_d-load-simplemaps-data-into-postgresql">1.12 <strong><code>l_s_d</code></strong> - Load <strong>simplemaps</strong> data into PostgreSQL</h3>
<p>TODO</p>
<p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database.
The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database.
The initial loading is done with both MS Access databases Pre2008 ubd avall.
After that only the monthly updates are then transferred. </p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>    Progress update 2022-11-21 18:52:41.629692 : ===============================================================================.
    Progress update 2022-11-21 18:52:41.629692 : INFO.00.004 Start Launcher.
    Progress update 2022-11-21 18:52:41.631692 : INFO.00.001 The logger is configured and ready.
    Progress update 2022-11-21 18:52:41.640190 : INFO.00.005 Argument task=&#39;l_s_d&#39;.
    Progress update 2022-11-21 18:52:41.640190 : -------------------------------------------------------------------------------.
    Progress update 2022-11-21 18:52:41.685192 : INFO.00.039 Database table io_lat_lng: Loading the zipcode data from file uscities.xlsx.
    Progress update 2022-11-21 18:55:11.254186 : Number of rows so far read :   5000.
    Progress update 2022-11-21 18:57:31.973745 : Number of rows so far read :  10000.
    Progress update 2022-11-21 18:59:47.094776 : Number of rows so far read :  15000.
    Progress update 2022-11-21 19:02:08.097587 : Number of rows so far read :  20000.
    Progress update 2022-11-21 19:04:27.858850 : Number of rows so far read :  25000.
    Progress update 2022-11-21 19:06:49.294785 : Number of rows so far read :  30000.
    Progress update 2022-11-21 19:09:07.306370 : Number of rows so far read :  35000.
    Progress update 2022-11-21 19:11:28.117981 : Number of rows so far read :  40000.
    Progress update 2022-11-21 19:12:10.470503 : Number rows selected :  41620.
    Progress update 2022-11-21 19:12:10.470503 : Number rows inserted :  41620.
    Progress update 2022-11-21 19:12:10.530003 : INFO.00.025 Database table io_lat_lng: Loading the zipcode data from file uszips.xlsx.
    Progress update 2022-11-21 19:14:41.797284 : Number of rows so far read :   5000.
    Progress update 2022-11-21 19:17:10.506606 : Number of rows so far read :  10000.
    Progress update 2022-11-21 19:19:38.757474 : Number of rows so far read :  15000.
    Progress update 2022-11-21 19:22:08.373896 : Number of rows so far read :  20000.
    Progress update 2022-11-21 19:24:29.851643 : Number of rows so far read :  25000.
    Progress update 2022-11-21 19:26:58.685870 : Number of rows so far read :  30000.
    Progress update 2022-11-21 19:28:47.784316 : Number rows selected :  33788.
    Progress update 2022-11-21 19:28:47.784316 : Number rows inserted :   9651.
    Progress update 2022-11-21 19:28:47.784316 : Number rows updated  :  24133.
    Progress update 2022-11-21 19:28:47.784815 : INFO.00.026 Database table io_us_stats: Loading data.
    Progress update 2022-11-21 19:28:49.122315 : Number rows selected :     56.
    Progress update 2022-11-21 19:28:49.122315 : Number rows inserted :     51.
    Progress update 2022-11-21 19:28:49.122315 : INFO.00.027 Database table io_lat_lng: Loading the city data.
    Progress update 2022-11-21 19:31:05.759170 : Number of rows so far read :   5000.
    Progress update 2022-11-21 19:33:29.969709 : Number of rows so far read :  10000.
    Progress update 2022-11-21 19:35:42.591083 : Number of rows so far read :  15000.
    Progress update 2022-11-21 19:38:00.961652 : Number of rows so far read :  20000.
    Progress update 2022-11-21 19:40:21.097913 : Number of rows so far read :  25000.
    Progress update 2022-11-21 19:42:39.434729 : Number of rows so far read :  30000.
    Progress update 2022-11-21 19:45:05.010766 : Number of rows so far read :  35000.
    Progress update 2022-11-21 19:46:26.359902 : Number rows selected :  37982.
    Progress update 2022-11-21 19:46:26.360403 : Number rows inserted :  37982.
    Progress update 2022-11-21 19:46:26.360403 : INFO.00.028 Database table io_lat_lng: Loading the state data.
    Progress update 2022-11-21 19:46:28.312902 : Number rows selected :     56.
    Progress update 2022-11-21 19:46:28.312902 : Number rows inserted :     56.
    Progress update 2022-11-21 19:46:28.313404 : INFO.00.029 Database table io_lat_lng: Loading the country data.
    Progress update 2022-11-21 19:46:28.346407 : Number rows inserted :      1.
    Progress update 2022-11-21 19:46:28.391904 : INFO.00.027 Database table io_lat_lng: Loading the city data.
    Progress update 2022-11-21 19:48:23.972756 : Number of rows so far read :   5000.
    Progress update 2022-11-21 19:50:01.546746 : Number of rows so far read :  10000.
    Progress update 2022-11-21 19:51:44.317761 : Number of rows so far read :  15000.
    Progress update 2022-11-21 19:53:32.879336 : Number of rows so far read :  20000.
    Progress update 2022-11-21 19:55:18.566257 : Number of rows so far read :  25000.
    Progress update 2022-11-21 19:56:46.677403 : Number of rows so far read :  30000.
    Progress update 2022-11-21 19:56:52.002902 : Number rows selected :  30409.
    Progress update 2022-11-21 19:56:52.003409 : Number rows updated  :  20621.
    Progress update 2022-11-21 19:56:52.003409 : -------------------------------------------------------------------------------.
    Progress update 2022-11-21 19:56:52.003409 :    3,850,528,217,800 ns - Total time launcher.
    Progress update 2022-11-21 19:56:52.003903 : INFO.00.006 End   Launcher.
    Progress update 2022-11-21 19:56:52.003903 : ===============================================================================.
</code></pre></div>
<h3 id="113-l_z_d-load-zip-code-database-data-into-postgresql">1.13 <strong><code>l_z_d</code></strong> - Load ZIP Code Database data into PostgreSQL</h3>
<p>TODO</p>
<p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database.
The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database.
The initial loading is done with both MS Access databases Pre2008 ubd avall.
After that only the monthly updates are then transferred. </p>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-29 14:12:25.117005 : ===============================================================================.
Progress update 2022-11-29 14:12:25.117502 : INFO.00.004 Start Launcher.
Progress update 2022-11-29 14:12:25.119503 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-29 14:12:25.128005 : INFO.00.005 Argument task=&#39;l_z_d&#39;.
Progress update 2022-11-29 14:12:25.128005 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 14:12:25.128005 : INFO.00.056 Loading ZIP Code Database data.
Progress update 2022-11-29 14:12:25.128005 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:12:25.179505 : INFO.00.061 Database table io_lat_lng: Loading the estimated zip code data.
Progress update 2022-11-29 14:12:25.179505 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:13:21.866512 : Number of rows so far read :   5000.
Progress update 2022-11-29 14:14:16.970167 : Number of rows so far read :  10000.
Progress update 2022-11-29 14:15:10.266064 : Number of rows so far read :  15000.
Progress update 2022-11-29 14:16:08.694846 : Number of rows so far read :  20000.
Progress update 2022-11-29 14:16:47.652646 : Number of rows so far read :  25000.
Progress update 2022-11-29 14:17:32.877233 : Number of rows so far read :  30000.
Progress update 2022-11-29 14:18:06.643788 : Number of rows so far read :  35000.
Progress update 2022-11-29 14:18:55.944095 : Number of rows so far read :  40000.
Progress update 2022-11-29 14:19:13.847623 : Number rows selected :  42735.
Progress update 2022-11-29 14:19:13.848123 : Number rows inserted :  10115.
Progress update 2022-11-29 14:19:13.848123 : Number rows duplicate:  32660.
Progress update 2022-11-29 14:19:13.848123 : Number rows updated  :   3252.
Progress update 2022-11-29 14:19:13.848123 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:19:13.919921 : INFO.00.063 Processed data source &#39;average&#39;.
Progress update 2022-11-29 14:19:13.919921 : Number rows deleted  :   7631.
Progress update 2022-11-29 14:19:13.919921 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:19:13.919921 : INFO.00.062 Database table io_lat_lng: Loading the averaged city data.
Progress update 2022-11-29 14:19:13.919921 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:20:03.226487 : Number of rows so far read :   5000.
Progress update 2022-11-29 14:20:49.819656 : Number of rows so far read :  10000.
Progress update 2022-11-29 14:21:36.281703 : Number of rows so far read :  15000.
Progress update 2022-11-29 14:22:22.562620 : Number of rows so far read :  20000.
Progress update 2022-11-29 14:23:04.766437 : Number of rows so far read :  25000.
Progress update 2022-11-29 14:23:48.995380 : Number of rows so far read :  30000.
Progress update 2022-11-29 14:24:37.784042 : Number of rows so far read :  35000.
Progress update 2022-11-29 14:25:21.929065 : Number of rows so far read :  40000.
Progress update 2022-11-29 14:26:07.064444 : Number rows selected :  44743.
Progress update 2022-11-29 14:26:07.064444 : Number rows inserted :  14392.
Progress update 2022-11-29 14:26:07.064444 : Number rows duplicate:  30351.
Progress update 2022-11-29 14:26:07.090743 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 14:26:07.090743 :      822,117,242,100 ns - Total time launcher.
Progress update 2022-11-29 14:26:07.090743 : INFO.00.006 End   Launcher.
Progress update 2022-11-29 14:26:07.090743 : ===============================================================================.
</code></pre></div>
<h3 id="114-r_d_s-refresh-the-postgresql-database-schema">1.14 <strong><code>r_d_s</code></strong> - Refresh the PostgreSQL database schema</h3>
<p>Hereby changes can be made to the database schema.
The task can be executed several times without problems, since before a change is always first checked whether this has already been done.</p>
<ol>
<li>
<p>Materialized database view</p>
</li>
<li>
<p><strong><code>io_app_aaus1982</code></strong> - provides the data for processing the task <strong><code>c_l_l</code></strong> (Correct decimal US latitudes and longitudes).</p>
</li>
</ol>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-12-19 08:37:09.337180 : INFO.00.004 Start Launcher.
Progress update 2022-12-19 08:37:09.342679 : INFO.00.001 The logger is configured and ready.
Progress update 2022-12-19 08:37:09.352180 : INFO.00.005 Argument task=&#39;r_d_s&#39;.
Progress update 2022-12-19 08:37:09.352180 : -------------------------------------------------------------------------------.
Progress update 2022-12-19 08:37:09.352180 : INFO.00.071 Refreshing the database schema.
Progress update 2022-12-19 08:37:09.352180 : --------------------------------------------------------------------------------
Progress update 2022-12-19 08:37:19.366370 : INFO.00.069 Materialized database view is refreshed: io_app_aaus1982.
Progress update 2022-12-19 08:37:19.366370 : -------------------------------------------------------------------------------.
Progress update 2022-12-19 08:37:19.366370 :       10,187,690,800 ns - Total time launcher.
Progress update 2022-12-19 08:37:19.366370 : INFO.00.006 End   Launcher.
Progress update 2022-12-19 08:37:19.366370 : ===============================================================================.
</code></pre></div>
<h3 id="115-s_d_c-set-up-the-postgresql-database-container">1.15 <strong><code>s_d_c</code></strong> - Set up the PostgreSQL database container</h3>
<p>The default installation of the PostgreSQL database is done using the official Docker images from Dockerhub - see <a href="https://hub.docker.com/_/postgres" target="_blank">here</a>.</p>
<p>This task consists of the following steps:</p>
<ol>
<li>any running Docker container is stopped.</li>
<li>any existing Docker container is deleted.</li>
<li>if not already present, the file directory for the PostgreSQL database files is created.</li>
<li>the Docker network for the PostgreSQL database is created if it does not already exist.</li>
<li>the PostgreSQL Docker image is either created or updated based on DockerHub.</li>
<li>a new PostgreSQL Docker container is started.</li>
</ol>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Docker stop/rm io_avstats_db_dev_container .................... before:
CONTAINER ID   IMAGE                    COMMAND                  CREATED       STATUS        PORTS                                                      NAMES
66c741493677   postgres:latest          &quot;docker-entrypoint.s&quot;   8 hours ago   Up 8 hours    0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container
a4469ea39fdd   postgres:latest          &quot;docker-entrypoint.s&quot;   2 weeks ago   Up 10 hours   0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container
f67eb28b8888   portainer/portainer-ce   &quot;/portainer&quot;             4 weeks ago   Up 10 hours   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer
66c741493677   postgres:latest          &quot;docker-entrypoint.s&quot;   8 hours ago   Up 8 hours    0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container
io_avstats_db_dev_container
66c741493677   postgres:latest          &quot;docker-entrypoint.s&quot;   8 hours ago   Exited (0) Less than a second ago                                                              io_avstats_db_dev_container
io_avstats_db_dev_container
............................................................. after:
CONTAINER ID   IMAGE                    COMMAND                  CREATED       STATUS        PORTS                                                      NAMES
a4469ea39fdd   postgres:latest          &quot;docker-entrypoint.s&quot;   2 weeks ago   Up 10 hours   0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container
f67eb28b8888   portainer/portainer-ce   &quot;/portainer&quot;             4 weeks ago   Up 10 hours   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer
Timer 4.0 - Command Line Timer - www.Gammadyne.com
Copyright (C) 2007-2017 by Greg Wittmeyer - All Rights Reserved
Timer started: 22.11.2022 19:35:22
PostgreSQL
--------------------------------------------------------------------------------
Docker create io_avstats_db_dev_container (PostgreSQL latest)
Docker network io_avstats_db_dev_net already existing
93a1342e70d367bee07fa9b021293324d7ce04a8113563a3d995d63f9d5b6172
Docker start io_avstats_db_dev_container (PostgreSQL ) ...
io_avstats_db_dev_container
NETWORK ID     NAME                    DRIVER    SCOPE
6c9fa25a23dc   AVSTATS_POSTGRES_NET    bridge    local
ad56537ead3f   bridge                  bridge    local
da3331b29cb2   host                    host      local
d6ad44ee9141   io_avstats_db_dev_net   bridge    local
e33d9f5149d3   io_avstats_net          bridge    local
3df9e6ac5dfa   none                    null      local
[
    {
        &quot;Name&quot;: &quot;io_avstats_db_dev_net&quot;,
        &quot;Id&quot;: &quot;d6ad44ee9141424aec5d8e5643d4f4349e13482935a594f2553f4a7fd4648446&quot;,
        &quot;Created&quot;: &quot;2022-11-06T12:04:36.9326894Z&quot;,
        &quot;Scope&quot;: &quot;local&quot;,
        &quot;Driver&quot;: &quot;bridge&quot;,
        &quot;EnableIPv6&quot;: false,
        &quot;IPAM&quot;: {
            &quot;Driver&quot;: &quot;default&quot;,
            &quot;Options&quot;: {},
            &quot;Config&quot;: [
                {
                    &quot;Subnet&quot;: &quot;172.20.0.0/16&quot;,
                    &quot;Gateway&quot;: &quot;172.20.0.1&quot;
                }
            ]
        },
        &quot;Internal&quot;: false,
        &quot;Attachable&quot;: false,
        &quot;Ingress&quot;: false,
        &quot;ConfigFrom&quot;: {
            &quot;Network&quot;: &quot;&quot;
        },
        &quot;ConfigOnly&quot;: false,
        &quot;Containers&quot;: {},
        &quot;Options&quot;: {},
        &quot;Labels&quot;: {}
    }
]
DOCKER PostgreSQL was ready in 30.2 seconds
CONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                                                      NAMES
93a1342e70d3   postgres:latest          &quot;docker-entrypoint.s&quot;   30 seconds ago   Up 29 seconds   0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container
a4469ea39fdd   postgres:latest          &quot;docker-entrypoint.s&quot;   2 weeks ago      Up 10 hours     0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container
f67eb28b8888   portainer/portainer-ce   &quot;/portainer&quot;             4 weeks ago      Up 10 hours     0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer
</code></pre></div>
<h3 id="116-u_d_s-update-the-postgresql-database-schema">1.16 <strong><code>u_d_s</code></strong> - Update the PostgreSQL database schema</h3>
<p>Hereby changes can be made to the database schema.
The task can be executed several times without problems, since before a change is always first checked whether this has already been done.</p>
<ol>
<li>
<p>New database tables:</p>
</li>
<li>
<p><strong><code>io_countries</code></strong>: contains latitude and longitude of selected countries.</p>
</li>
<li><strong><code>io_lat_lng</code></strong>: used to store the <strong>simplemaps</strong> and <strong>United States Zip Codes.org</strong> data.</li>
<li>
<p><strong><code>io_states</code></strong>: contains the identification, name, latitude and longitude of all US states.</p>
</li>
<li>
<p>Extensions for database tables:</p>
</li>
</ol>
<p>2.1 Database table <strong><code>events</code></strong>.</p>
<ul>
<li>The columns <strong><code>io_city</code></strong>, <strong><code>io_country</code></strong>, <strong><code>io_latitude</code></strong>, <strong><code>io_longitude</code></strong>, <strong><code>io_site_zipcode</code></strong> and <strong><code>io_state</code></strong> to store manual corrections.</li>
<li>The columns <strong><code>io_deviating_dec_latitude</code></strong>, <strong><code>io_deviating_dec_longitude</code></strong>, <strong><code>io_invalid_latitude</code></strong>, <strong><code>io_invalid_longitude</code></strong>, <strong><code>io_invalid_us_city</code></strong>, <strong><code>io_invalid_us_state</code></strong> and , <strong><code>io_invalid_us_zipcode</code></strong> for documenting data plausibility (task <strong><code>v_n_d</code></strong>).</li>
<li>
<p>the columns <strong><code>io_dec_lat_lng_actions</code></strong>, <strong><code>io_dec_latitude</code></strong> and <strong><code>io_dec_longitude</code></strong> to store corrected decimal latitude and longitude values.</p>
</li>
<li>
<p>New database views:</p>
</li>
<li>
<p><strong><code>io_lat_lng_issues</code></strong> - provides the data for processing the task <strong><code>c_l_l</code></strong> (Correct decimal US latitudes and longitudes).</p>
</li>
<li><strong><code>io_accidents_us_1982</code></strong> - provides event data for aviation accidents in the U.S. since 1982.</li>
</ul>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-27 13:37:13.316694 : ===============================================================================.
Progress update 2022-11-27 13:37:13.316694 : INFO.00.004 Start Launcher.
Progress update 2022-11-27 13:37:13.318694 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-27 13:37:13.327195 : INFO.00.005 Argument task=&#39;u_d_s&#39;.
Progress update 2022-11-27 13:37:13.327195 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 13:37:13.327195 : INFO.00.045 Updating the database schema.
Progress update 2022-11-27 13:37:13.327195 : --------------------------------------------------------------------------------
Progress update 2022-11-27 13:37:13.436194 : INFO.00.007 Database table is available: io_msaccess_file.
Progress update 2022-11-27 13:37:13.520032 : INFO.00.007 Database table is available: io_countries.
Progress update 2022-11-27 13:37:13.595030 : INFO.00.007 Database table is available: io_states.
Progress update 2022-11-27 13:37:13.770060 : INFO.00.007 Database table is available: io_lat_lng.
Progress update 2022-11-27 13:37:13.810990 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_city&#39;.
Progress update 2022-11-27 13:37:13.844989 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_country&#39;.
Progress update 2022-11-27 13:37:13.878039 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_dec_lat_lng_actions&#39;.
Progress update 2022-11-27 13:37:13.911450 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_dec_latitude&#39;.
Progress update 2022-11-27 13:37:13.944473 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_dec_longitude&#39;.
Progress update 2022-11-27 13:37:13.977929 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_deviating_dec_latitude&#39;.
Progress update 2022-11-27 13:37:14.010969 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_deviating_dec_longitude&#39;.
Progress update 2022-11-27 13:37:14.044449 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_latitude&#39;.
Progress update 2022-11-27 13:37:14.077702 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_longitude&#39;.
Progress update 2022-11-27 13:37:14.111268 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_us_city&#39;.
Progress update 2022-11-27 13:37:14.144267 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_us_state&#39;.
Progress update 2022-11-27 13:37:14.178253 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_invalid_us_zipcode&#39;.
Progress update 2022-11-27 13:37:14.211254 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_latitude&#39;.
Progress update 2022-11-27 13:37:14.244753 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_longitude&#39;.
Progress update 2022-11-27 13:37:14.277753 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_site_zipcode&#39;.
Progress update 2022-11-27 13:37:14.311253 : INFO.00.031 Database column added: table_schema &#39;public&#39; table_name &#39;events&#39; column_name &#39;io_state&#39;.
Progress update 2022-11-27 13:37:14.378313 : INFO.00.032 Database view is available: io_accidents_us_1982.
Progress update 2022-11-27 13:37:14.402813 : INFO.00.032 Database view is available: io_lat_lng_issues.
Progress update 2022-11-27 13:37:14.402813 : -------------------------------------------------------------------------------.
Progress update 2022-11-27 13:37:14.402813 :        1,230,619,900 ns - Total time launcher.
Progress update 2022-11-27 13:37:14.403313 : INFO.00.006 End   Launcher.
Progress update 2022-11-27 13:37:14.403313 : ===============================================================================.
</code></pre></div>
<h3 id="117-v_n_d-verify-selected-ntsb-data">1.17 <strong><code>v_n_d</code></strong> - Verify selected <strong>NTSB</strong> data</h3>
<p>This task can be used to perform a plausibility check for the following columns in the database table <strong><code>events</code></strong>:</p>
<ul>
<li><strong><code>dec_latitude</code></strong>,</li>
<li><strong><code>dec_longitude</code></strong>,</li>
<li><strong><code>ev_state</code></strong>,</li>
<li><strong><code>ev_site_zipcode</code></strong>,</li>
<li><strong><code>latitude</code></strong>,</li>
<li><strong><code>longitude</code></strong>,</li>
</ul>
<p>and the combination of:</p>
<ul>
<li><strong><code>ev_state</code></strong> and <strong><code>ev_city</code></strong>,</li>
<li><strong><code>ev_state</code></strong>, <strong><code>ev_city</code></strong> and <strong><code>ev_site_zipcode</code></strong>.</li>
</ul>
<p>The results of the check are stored in the following columns:</p>
<ul>
<li><strong><code>io_deviating_dec_latitude</code></strong> (absolute difference),</li>
<li><strong><code>io_deviating_dec_longitude</code></strong> (absolute difference),</li>
<li><strong><code>io_invalid_latitude</code></strong> (true),</li>
<li><strong><code>io_invalid_longitude</code></strong> (true),</li>
<li><strong><code>io_invalid_us_city</code></strong> (true),</li>
<li><strong><code>io_invalid_us_city_zipcode</code></strong> (true),</li>
<li><strong><code>io_invalid_us_state</code></strong> (true),</li>
<li><strong><code>io_invalid_us_zipcode</code></strong> (true).</li>
</ul>
<p>The tests are performed according to the following logic:</p>
<ul>
<li><strong><code>io_deviating_dec_latitude</code></strong>: Absolute difference between <strong><code>dec_latitude</code></strong> and <strong><code>latitude</code></strong> exceeding a given limit in <strong><code>max_deviation_latitude</code></strong>.</li>
<li><strong><code>io_deviating_dec_longitude</code></strong>: Absolute difference between <strong><code>dec_longitude</code></strong> and <strong><code>longitude</code></strong> exceeding a given limit <strong><code>max_deviation_longitude</code></strong>.</li>
<li><strong><code>io_invalid_latitude</code></strong>: Can the latitude in the <strong><code>latitude</code></strong> column be converted to its decimal equivalent?</li>
<li><strong><code>io_invalid_longitude</code></strong>: Can the longitude in the <strong><code>longitude</code></strong> column be converted to its decimal equivalent?</li>
<li><strong><code>io_invalid_us_city</code></strong>: For country <code>USA</code> and the given state, is the specified value in the <strong><code>ev_city</code></strong> column a existing city?</li>
<li><strong><code>io_invalid_us_city_zipcode</code></strong>: For country <code>USA</code> and the given state, are the specified values in the <strong><code>ev_city</code></strong> column and in the <strong><code>ev_site_zipcode</code></strong> column a existing city?</li>
<li><strong><code>io_invalid_us_state</code></strong>: For country <code>USA</code>, is the specified value in the <strong><code>ev_state</code></strong> column a valid state identifier?</li>
<li><strong><code>io_invalid_us_z ipcode</code></strong>: For country <code>USA</code>, is the specified value in the <strong><code>ev_site_zipcode</code></strong> column a existing zip code?</li>
</ul>
<p>Example protocol:</p>
<div class="highlight"><pre><span></span><code>Progress update 2022-11-29 14:52:27.221649 : ===============================================================================.
Progress update 2022-11-29 14:52:27.221649 : INFO.00.004 Start Launcher.
Progress update 2022-11-29 14:52:27.223649 : INFO.00.001 The logger is configured and ready.
Progress update 2022-11-29 14:52:27.232150 : INFO.00.005 Argument task=&#39;v_n_d&#39;.
Progress update 2022-11-29 14:52:27.232150 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 14:52:27.232150 : INFO.00.043 Verify selected NTSB data.
Progress update 2022-11-29 14:52:27.232150 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:52:27.449649 : INFO.00.064 Verification of table &#39;events&#39; column(s) &#39;latitude &amp; longitude&#39;.
Progress update 2022-11-29 14:52:27.449649 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:52:28.124099 : Number of rows so far read :   5000.
Progress update 2022-11-29 14:52:33.701741 : Number of rows so far read :  10000.
Progress update 2022-11-29 14:53:21.979567 : Number of rows so far read :  15000.
Progress update 2022-11-29 14:54:41.899911 : Number of rows so far read :  20000.
Progress update 2022-11-29 14:55:56.229700 : Number of rows so far read :  25000.
Progress update 2022-11-29 14:57:09.659083 : Number of rows so far read :  30000.
Progress update 2022-11-29 14:58:10.139422 : Number rows errors   :  12322.
Progress update 2022-11-29 14:58:10.139422 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:58:10.139422 : INFO.00.064 Verification of table &#39;events&#39; column(s) &#39;ev_city&#39;.
Progress update 2022-11-29 14:58:10.968104 : Number rows errors   :   6039.
Progress update 2022-11-29 14:58:10.968104 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:58:10.968104 : INFO.00.064 Verification of table &#39;events&#39; column(s) &#39;ev_city &amp; ev_site_zipcode&#39;.
Progress update 2022-11-29 14:58:11.934347 : Number rows errors   :  16491.
Progress update 2022-11-29 14:58:11.934347 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:58:11.934846 : INFO.00.064 Verification of table &#39;events&#39; column(s) &#39;ev_state&#39;.
Progress update 2022-11-29 14:58:12.175729 : Number rows errors   :    292.
Progress update 2022-11-29 14:58:12.176230 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:58:12.176230 : INFO.00.064 Verification of table &#39;events&#39; column(s) &#39;ev_site_zipcode&#39;.
Progress update 2022-11-29 14:58:12.400731 : Number rows errors   :   6029.
Progress update 2022-11-29 14:58:12.401230 : --------------------------------------------------------------------------------
Progress update 2022-11-29 14:58:12.402230 : Number rows selected :  34221.
Progress update 2022-11-29 14:58:12.402230 : Number rows updated  :  41173.
Progress update 2022-11-29 14:58:12.402730 : Number rows errors   :  41173.
Progress update 2022-11-29 14:58:12.402730 : -------------------------------------------------------------------------------.
Progress update 2022-11-29 14:58:12.402730 :      345,321,580,900 ns - Total time launcher.
Progress update 2022-11-29 14:58:12.402730 : INFO.00.006 End   Launcher.
Progress update 2022-11-29 14:58:12.402730 : ===============================================================================.
</code></pre></div>
<h2 id="2-first-installation">2. First installation</h2>
<p>The initial load in a fresh Windows environment requires the execution of the following tasks in the given order:</p>
<ul>
<li><strong><code>s_d_c</code></strong> - Set up the PostgreSQL database container                              </li>
<li><strong><code>c_d_s</code></strong> - Create the PostgreSQL database schema </li>
<li><strong><code>d_n_a</code></strong> - Download the <strong>NTSB</strong> MS Access files Pre2008 and avall                      </li>
<li><strong><code>l_n_a</code></strong> - Load the <strong>NTSB</strong> MS Access database from Pre2008 and avall</li>
</ul>
<h2 id="3-regular-updates">3. Regular updates</h2>
<p><a href="how_to_add_ntsb_accident_files.html" target="_blank">see</a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy;2022, IO-Aero.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["search.highlight", "search.suggest"], "search": "assets/javascripts/workers/search.12658920.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.5cf534bf.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.13.3/dist/mermaid.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="assets/pymdownx-extras/extra-loader-9e2c67b9.js"></script>
      
    
  </body>
</html>