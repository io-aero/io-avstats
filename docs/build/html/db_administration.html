<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PostgreSQL Administration &#8212; Python 24-3-22 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=dff755f8"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Master Data Logs" href="data_master_logs.html" />
    <link rel="prev" title="Data Sources" href="data_sources.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="postgresql-administration">
<h1>PostgreSQL Administration<a class="headerlink" href="#postgresql-administration" title="Link to this heading">¶</a></h1>
<p><strong>IO-AVSTATS</strong> uses the <a class="reference external" href="https://www.postgresql.org">PostgreSQL DBMS</a> for data management.
PostgreSQL is a very powerful relational database system where the SQL language can be extended by procedural add-ons like <a class="reference external" href="https://www.postgresql.org/docs/current/plpgsql.html">PL/pgSQL</a> or <a class="reference external" href="https://www.postgresql.org/docs/current/plpython.html">PL/Python</a>.</p>
<p><strong>IO-AVSTATS</strong> provides all the tools to import the data from the MS Access databases available on the <a class="reference external" href="https://data.ntsb.gov/avdata">**NTSB**</a> website and the data from the basic flat files available on <strong>simplemaps</strong> <a class="reference external" href="https://simplemaps.com/data/us-cities">United States Cities Database</a> and <a class="reference external" href="https://simplemaps.com/data/us-zips">US Zip Codes Database</a> websites.</p>
<section id="docker">
<h2>Docker<a class="headerlink" href="#docker" title="Link to this heading">¶</a></h2>
<p>The PostgreSQL Docker community provides PostgreSQL images suitable for <strong>IO-AVSTATS</strong> on <a class="reference external" href="https://hub.docker.com">DockerHub</a>.
The official image can be found <a class="reference external" href="https://hub.docker.com/_/postgres">here</a>.
The <cite>c_d_l</cite> task available in the <cite>run_io_avstats_db</cite> script downloads a selected PostgreSQL DBMS image from DockerHub and creates, configures and starts a Docker container.</p>
</section>
<section id="parameterization">
<h2>Parameterization<a class="headerlink" href="#parameterization" title="Link to this heading">¶</a></h2>
<p>The parameters can be defined either via environment variables or in the <cite>settings.io_aero.toml</cite> file.
Details can be found under <cite>Configuration</cite> and <cite>IO-AVSTATS</cite>.</p>
<p>The following parameters are used when downloading the Docker image and creating the Docker container:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_connection_port</span></code> - the database IP address</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_container_name</span></code> - the container name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_dbname_admin</span></code> - the administration database name</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_password_admin</span></code> - the administration database password</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_pgdata</span></code> - the file directory on the host for the database files</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_user_admin</span></code> - the administration database username</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">postgres_version</span></code> - the requested PostgreSQL version from DockerHub</p></li>
</ul>
<p>When using environment variables, they must contain the prefix <code class="docutils literal notranslate"><span class="pre">IO_AERO_</span></code>, e.g., <code class="docutils literal notranslate"><span class="pre">IO_AERO_POSTGRES_USER</span></code>.</p>
</section>
<section id="backup-restore">
<h2>Backup &amp; Restore<a class="headerlink" href="#backup-restore" title="Link to this heading">¶</a></h2>
<p>Since the <strong>IO-AVSTATS</strong> database contains only statistical data, it is subject to a relatively low frequency of change.
The following three events can lead to a change in the <strong>IO-AVSTATS</strong> database:</p>
<ol class="arabic simple">
<li><p>a new change file on the <strong>NTSB</strong> download site, or</p></li>
<li><p>an evolution of the database software or schema, or</p></li>
<li><p>a new PostgreSQL version that requires database migration.</p></li>
</ol>
<p>This does not require sophisticated methods for backing up and restoring the <strong>IO-AVSTATS</strong> database, especially since the database contents reside in a dedicated local file directory.
For data backup it is therefore sufficient to create a copy of the file directory with the <strong>IO-AVSTATS</strong> database before a change event.
This copy can then replace the corrupted <strong>IO-AVSTATS</strong> database in the event of an error.</p>
<p><strong>Very important</strong>: before any backup or restore, the PostgreSQL Docker container must be stopped first!</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Python</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_io_avstats.html">Configuration IO-AVSTATS</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration_logging.html">Configuration Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_steps.html">First Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_usage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_sources.html">Data Sources</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PostgreSQL Administration</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_master_logs.html">Master Data Logs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_transaction_logs.html">Transaction Data Logs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">ioavstats</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">End-User License Agreement</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="data_sources.html" title="previous chapter">Data Sources</a></li>
      <li>Next: <a href="data_master_logs.html" title="next chapter">Master Data Logs</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/db_administration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>