{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Aviation Accident Statistics","text":"<p>This repository is used for the development and maintenance of applications based on the data of the IO-AVSTATS database.  Currently, it includes the following applications:</p> <ul> <li>aaus1982 - Aircraft Accidents in the US since 1982</li> <li>pdus1982 - Profiling Data for the US since 1982</li> </ul> <p>These applications and the database are available in the cloud via AWS. In addition, the maintenance of the database content is also done in this repository. </p> <p>The related database software is maintained in the repository io-avstats-db.</p>"},{"location":"LICENSE.html","title":"End-User License Agreement (EULA) of IO-Aero Software","text":"<p>This End-User License Agreement (\"EULA\") is a legal agreement between you and IO-Aero. </p> <p>This EULA agreement governs your acquisition and use of our IO-Aero Software (\"Software\") directly from IO-Aero or indirectly through a IO-Aero authorized reseller or distributor (a \"Reseller\").</p> <p>Please read this EULA agreement carefully before completing the installation process and using the IO-Aero Software.  It provides a license to use the IO-Aero Software and contains warranty information and liability disclaimers.</p> <p>If you register for a free trial of the IO-Aero Software, this EULA agreement will also govern that trial.  By clicking \"accept\" or installing and/or using the IO-Aero Software, you are confirming your acceptance of the Software and agreeing to become bound by the terms of this EULA agreement.</p> <p>If you are entering into this EULA agreement on behalf of a company or other legal entity, you represent that you have the authority to bind such entity and its affiliates to these terms and conditions.  If you do not have such authority or if you do not agree with the terms and conditions of this EULA agreement, do not install or use the Software, and you must not accept this EULA agreement.</p> <p>This EULA agreement shall apply only to the Software supplied by IO-Aero herewith regardless of whether other software is referred to or described herein.  The terms also apply to any IO-Aero updates, supplements, Internet-based services, and support services for the Software, unless other terms accompany those items on delivery.  If so, those terms apply.</p>"},{"location":"LICENSE.html#license-grant","title":"License Grant","text":"<p>IO-Aero hereby grants you a personal, non-transferable, non-exclusive licence to use the IO-Aero Software on your devices in accordance with the terms of this EULA agreement.</p> <p>You are permitted to load the IO-Aero Software (for example a PC, laptop, mobile or tablet) under your control.  You are responsible for ensuring your device meets the minimum requirements of the IO-Aero Software.</p>"},{"location":"LICENSE.html#you-are-not-permitted-to","title":"You are not permitted to:","text":"<ul> <li>Edit, alter, modify, adapt, translate or otherwise change the whole or any part of the Software nor permit the whole or any part of the Software to be combined with or become incorporated in any other software, nor decompile, disassemble or reverse engineer the Software or attempt to do any such things</li> <li>Reproduce, copy, distribute, resell or otherwise use the Software for any commercial purpose</li> <li>Allow any third party to use the Software on behalf of or for the benefit of any third party</li> <li>Use the Software in any way which breaches any applicable local, national or international law</li> <li>use the Software for any purpose that IO-Aero considers is a breach of this EULA agreement Intellectual Property and Ownership</li> </ul> <p>IO-Aero shall at all times retain ownership of the Software as originally downloaded by you and all subsequent downloads of the Software by you.  The Software (and the copyright, and other intellectual property rights of whatever nature in the Software, including any modifications made thereto) are and shall remain the property of IO-Aero.</p> <p>IO-Aero reserves the right to grant licences to use the Software to third parties.</p>"},{"location":"LICENSE.html#termination","title":"Termination","text":"<p>This EULA agreement is effective from the date you first use the Software and shall continue until terminated.  You may terminate it at any time upon written notice to IO-Aero.</p> <p>It will also terminate immediately if you fail to comply with any term of this EULA agreement.  Upon such termination, the licenses granted by this EULA agreement will immediately terminate, and you agree to stop all access and use of the Software.  The provisions that by their nature continue and survive will survive any termination of this EULA agreement.</p>"},{"location":"LICENSE.html#governing-law","title":"Governing Law","text":"<p>This EULA agreement, and any dispute arising out of or in connection with this EULA agreement, shall be governed by and construed in accordance with the laws of the United States.</p>"},{"location":"config_io_avstats.html","title":"Configuration - IO-AVSTATS","text":"<p>For the administration of the configuration parameters of IO-AVSTATS the tool dynaconf is used. The two files <code>settings.io_avstats.toml</code> and <code>.settings.io_avstats.toml</code> are available as configuration files. The <code>.settings.io_avstats.toml</code> file contains the security related parameters such as passwords and is not made available in the GitHub repository. The names of IO-AVSTATS related environment variables must include the prefix <code>IO_AVSTATS</code>. Layered environments are supported. The <code>test</code> layer is used for the automated tests.</p>"},{"location":"config_io_avstats.html#1-available-parameters","title":"1. Available Parameters","text":"Parameter Default value Description     correction_work_dir data/correction file directory containing the files with the manual corrections   database_commit_size 5000 number of rows processed before a progress message is created   download_chunk_size 524288 chunk size for download from the NTSB website   download_file_countries_states_json data/Countries_States/countries_states.json name of the file containing data of countries and states   download_file_simplemaps_us_cities_xlsx uscities.xlsx simplemaps: name of the zipped US city file   download_file_simplemaps_us_cities_zip simplemaps_uscities_basicv1.75.zip simplemaps: name of the unzipped US city file   download_file_simplemaps_us_zips_xlsx uszips.xlsx simplemaps: name of the zipped US zip code file   download_file_simplemaps_us_zips_zip simplemaps_uszips_basicv1.81.zip simplemaps: name of the unzipped US zip code file   download_file_zip_codes_org_xls zip_code_database.xls ZIP Code Database: name of the unzipped US zip code file   download_timeout 10 seconds to wait for the server to send data   download_url_ntsb_prefix https://data.ntsb.gov/... prefix of the download link for the NTSB data sets   download_url_simplemaps_us_cities https://simplemaps.com/... prefix of the download link for the simplemaps US cities data sets   download_url_simplemaps_us_zips https://simplemaps.com/... prefix of the download link for the simplemaps US zip code data sets   download_url_zip_codes_org https://www.unitedstateszipcodes.org/... prefix of the download link for the ZIP Code Database data set   download_work_dir data/download working directory for the processing of NTSB data sets   is_runtime_environment_local false / true local execution environment - unlike Docker   is_verbose true display progress messages for processing   max_deviation_latitude 0.01 maximum decimal deviation of the latitude in the database table even   max_deviation_longitude 0.01 maximum decimal deviation of the longitude in the database table even   odbc_connection_string Driver={MS Access Driver ... connection string for the MS Access ODBC driver   postgres_connection_port 5432 database port number   postgres_container_name io_avstats_container container name   postgres_container_port 5432 container port number   postgres_database_schema public database schema name   postgres_dbname io_avstats_db database name   postgres_dbname_admin postgres administration database name   postgres_host db database server hostname   postgres_password postgresql database password   postgres_password_admin postgresql administration database password   postgres_pgdata data/postgres file directory on the host for the database files   postgres_user io_aero database username   postgres_user_admin postgres administration database username   postgres_version latest requested PostgreSQL version from DockerHub   razorsql_jar_file_windows C:\\Program Files\\RazorSQL\\razorsql.jar name of the jar file (Windows version)   razorsql_java_path_windows C:\\Program Files\\RazorSQL\\jre11\\bin\\java name of the Java file (Windows version)   razorsql_profile IO-AVSTATS name of the RazorSQL connection profile   razorsql_reference_dir data/RazorSQL file directory of the database schema reference file   razorsql_reference_file 2022.11.01_avall.sql file name of the database schema reference file   streamlit_server_port 8501 Streamlit port number   streamlit_server_port_aaus1982 8501 Streamlit port number for application aaus1982   streamlit_server_port_pdus1982 8502 Streamlit port number for application pdus1982"},{"location":"config_io_avstats.html#2-notes","title":"2. Notes","text":"<ol> <li>The configuration parameters <code>postgres_password</code> and <code>postgres_password_admin</code> can be found in the configuration file <code>.settings.io_avstats.toml</code>.</li> <li>The configuration parameters in the configuration files can be overridden with corresponding environment variables, e.g. the environment variable <code>IO_AVSTATS_IS_VERBOSE</code> overrides the configuration parameter <code>is_verbose</code>. </li> </ol>"},{"location":"config_logging.html","title":"Configuration - Logging","text":"<p>In IO-AVSTATS the Python standard module for logging is used - details can be found here.</p> <p>The file <code>logging_cfg.yaml</code> controls the logging behaviour of the application. </p>"},{"location":"config_logging.html#default-content","title":"Default content:","text":"<pre><code>version: 1\n\nformatters:\n  simple:\n    format: \"%(asctime)s [%(module)s.py  ] %(levelname)-5s %(funcName)s:%(lineno)d %(message)s\"\n  extended:\n    format: \"%(asctime)s [%(module)s.py  ] %(levelname)-5s %(funcName)s:%(lineno)d \\n%(message)s\"\n\nhandlers:\n  console:\n    class: logging.StreamHandler\n    level: INFO\n    formatter: simple\n\n  file_handler:\n    class: logging.FileHandler\n    level: INFO\n    filename: logging_io-avstats.log\n    formatter: extended\n\nloggers:\n  io-avstats:\n    handlers: [ console ]\nroot:\n  handlers: [ file_handler ]\n</code></pre>"},{"location":"data_analyis_aaus1982.html","title":"Data Analysis: DB View <code>aaus1982</code>","text":"<p>Status as of Jan. 1, 2023</p>"},{"location":"data_analyis_aaus1982.html#1-totals","title":"1. Totals","text":"<pre><code>SELECT count(*),\n       'Total accidents since 1982'\n  FROM events\n WHERE ev_year &gt;= 1982 \n UNION\nSELECT count(*),\n       'Total accidents since 2008'\n  FROM events\n WHERE ev_year &gt;= 2008 \n UNION\nSELECT count(*),\n      'Fatal accidents since 1982'\n  FROM events\n WHERE ev_year &gt;= 1982 \n   AND inj_tot_f &gt; 0\n UNION\nSELECT count(*),\n      'Fatal accidents since 2008'\n  FROM events\n WHERE ev_year &gt;= 2008 \n   AND inj_tot_f &gt; 0\n UNION\nSELECT count(*),\n       'Total accidents since 1982 by io_app_aaus1982'\n  FROM io_app_aaus1982\n UNION\nSELECT count(*),\n       'Total accidents since 2008 by io_app_aaus1982'\n  FROM io_app_aaus1982\n WHERE ev_year &gt;= 2008 \n UNION\nSELECT count(*),\n      'Fatal accidents since 1982 by io_app_aaus1982'\n  FROM io_app_aaus1982\n WHERE inj_tot_f &gt; 0\n UNION\nSELECT count(*),\n      'Fatal accidents since 2008 by io_app_aaus1982'\n  FROM io_app_aaus1982\n WHERE ev_year &gt;= 2008 \n   AND inj_tot_f &gt; 0\n UNION \nSELECT sum(inj_tot_f),\n       'Total fatalities since 1982'\n  FROM events\n WHERE ev_year &gt;= 1982\n UNION\nSELECT sum(inj_tot_f),\n       'Total fatalities since 2008'\n  FROM events\n WHERE ev_year &gt;= 2008\n UNION\nSELECT sum(inj_tot_f),\n       'Total fatalities since 1982 by io_app_aaus1982'\n  FROM io_app_aaus1982\n UNION\nSELECT sum(inj_tot_f),\n       'Total fatalities since 2008 by io_app_aaus1982'\n  FROM io_app_aaus1982\n WHERE ev_year &gt;= 2008\n ORDER BY 2 \n</code></pre> <pre><code>count|?column?                                      |\n-----+----------------------------------------------+\n17570|Fatal accidents since 1982                    |\n17570|Fatal accidents since 1982 by io_app_aaus1982 |\n 5260|Fatal accidents since 2008                    |\n 5260|Fatal accidents since 2008 by io_app_aaus1982 |\n88084|Total accidents since 1982                    |\n88084|Total accidents since 1982 by io_app_aaus1982 |\n25055|Total accidents since 2008                    |\n25055|Total accidents since 2008 by io_app_aaus1982 |\n48672|Total fatalities since 1982                   |\n48672|Total fatalities since 1982 by io_app_aaus1982|\n14607|Total fatalities since 2008                   |\n14607|Total fatalities since 2008 by io_app_aaus1982|\n</code></pre>"},{"location":"data_analyis_aaus1982.html#2-far-parts","title":"2. FAR parts","text":""},{"location":"data_analyis_aaus1982.html#21-accidents-since-1982","title":"2.1 Accidents since 1982","text":"<pre><code>SELECT count(*),\n       far_part\n  FROM io_app_aaus1982\n WHERE ev_year &gt;= 1982\n GROUP BY far_part\n ORDER BY 2,\n          1 DESC\n</code></pre> <pre><code>count|far_part      |\n-----+--------------+\n  693|{}            |\n69370|{091}         |\n  822|{091,091}     |\n    2|{091,091,091} |\n    1|{091,091,091F}|\n    1|{091,091F}    |\n    1|{091,091K}    |\n    5|{091,103}     |\n    2|{091,107}     |\n   39|{091,121}     |\n    1|{091,125}     |\n    5|{091,129}     |\n   58|{091,135}     |\n   10|{091,137}     |\n   12|{091,ARMF}    |\n    1|{091,NUSC}    |\n    1|{091,NUSN}    |\n    5|{091,PUBU}    |\n    4|{091,UNK}     |\n   35|{091F}        |\n   14|{091K}        |\n  184|{103}         |\n    2|{103,103}     |\n    1|{103,135}     |\n    3|{107}         |\n    1|{107,135}     |\n    1|{107,ARMF}    |\n 2315|{121}         |\n   85|{121,121}     |\n   24|{121,129}     |\n   14|{121,135}     |\n    3|{121,ARMF}    |\n    5|{121,NUSC}    |\n    1|{121,NUSN}    |\n    2|{121,PUBU}    |\n    1|{121,UNK}     |\n   26|{125}         |\n  578|{129}         |\n   11|{129,129}     |\n    2|{129,135}     |\n    1|{129,NUSC}    |\n    1|{129,NUSN}    |\n  448|{133}         |\n    1|{133,133}     |\n 3694|{135}         |\n   45|{135,135}     |\n    1|{135,ARMF}    |\n 4697|{137}         |\n   30|{137,137}     |\n    1|{137,ARMF}    |\n    1|{437}         |\n   10|{ARMF}        |\n    1|{ARMF,ARMF}   |\n 1507|{NUSC}        |\n   23|{NUSC,NUSC}   |\n    8|{NUSC,NUSN}   |\n    1|{NUSC,PUBU}   |\n 2245|{NUSN}        |\n   26|{NUSN,NUSN}   |\n  553|{PUBU}        |\n    3|{PUBU,PUBU}   |\n    1|{PUBU,UNK}    |\n  437|{UNK}         |\n    7|{UNK,UNK}     |\n    1|{UNK,UNK,UNK} |\n</code></pre>"},{"location":"data_analyis_aaus1982.html#22-fatalities-since-1982","title":"2.2 Fatalities since 1982","text":"<pre><code>SELECT count(*),\n       far_part\n  FROM io_app_aaus1982\n WHERE ev_year &gt;= 1982\n   AND inj_tot_f &gt; 0 \n GROUP BY far_part\n ORDER BY 1 DESC,\n          2\n</code></pre> <pre><code>count|far_part     |\n-----+-------------+\n13210|{091}        |\n 1376|{NUSN}       |\n  781|{135}        |\n  442|{137}        |\n  421|{NUSC}       |\n  264|{091,091}    |\n  258|{}           |\n  192|{UNK}        |\n  115|{PUBU}       |\n  103|{129}        |\n   98|{121}        |\n   93|{133}        |\n   90|{103}        |\n   25|{NUSN,NUSN}  |\n   22|{091,135}    |\n   17|{137,137}    |\n    8|{091,ARMF}   |\n    7|{091F}       |\n    6|{135,135}    |\n    4|{125}        |\n    4|{ARMF}       |\n    4|{NUSC,NUSN}  |\n    4|{UNK,UNK}    |\n    3|{091,121}    |\n    3|{091,PUBU}   |\n    3|{NUSC,NUSC}  |\n    1|{091,091,091}|\n    1|{091,091F}   |\n    1|{091,103}    |\n    1|{091,129}    |\n    1|{091,NUSC}   |\n    1|{091,NUSN}   |\n    1|{091,UNK}    |\n    1|{103,103}    |\n    1|{103,135}    |\n    1|{121,121}    |\n    1|{121,135}    |\n    1|{129,129}    |\n    1|{129,NUSN}   |\n    1|{135,ARMF}   |\n    1|{437}        |\n    1|{PUBU,PUBU}  |\n    1|{PUBU,UNK}   |\n</code></pre>"},{"location":"data_analyis_aaus1982.html#23-fatalities-since-2008","title":"2.3 Fatalities since 2008","text":"<pre><code>SELECT count(*),\n       far_part\n  FROM io_app_aaus1982\n WHERE ev_year &gt;= 2008\n   AND inj_tot_f &gt; 0 \n GROUP BY far_part\n ORDER BY 1 DESC,\n          2\n</code></pre> <pre><code>count|far_part     |\n-----+-------------+\n 3228|{091}        |\n  953|{NUSN}       |\n  258|{}           |\n  212|{NUSC}       |\n  170|{UNK}        |\n  129|{135}        |\n  113|{137}        |\n   53|{091,091}    |\n   43|{PUBU}       |\n   25|{133}        |\n   22|{129}        |\n   14|{NUSN,NUSN}  |\n    9|{121}        |\n    5|{091,135}    |\n    4|{137,137}    |\n    4|{UNK,UNK}    |\n    3|{135,135}    |\n    2|{125}        |\n    2|{ARMF}       |\n    2|{NUSC,NUSC}  |\n    2|{NUSC,NUSN}  |\n    1|{091,091,091}|\n    1|{091,ARMF}   |\n    1|{103,135}    |\n    1|{129,NUSN}   |\n    1|{437}        |\n    1|{PUBU,PUBU}  |\n    1|{PUBU,UNK}   |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html","title":"Data Analysis: DB Table <code>io_ntsb_2002_2021</code>","text":"<p>Note: The <code>IO-AVSTATS</code> database used here contains NTSB aircraft accident data as of January 1, 2023.</p> <p>This report is about comparing the <code>IO-AVSTATS</code> database to common public records for aviation accidents.  </p> <p>In the November 17, 2021, news release U.S. Civil Aviation Fatalities and Flight Activity Decreased in 2020, the NTSB published, among other things, the US Civil Aviation Accident Statistics. These are available on this website at this link as a Microsoft Execel file.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#1worksheet-no-29","title":"1.Worksheet no. 29","text":"<p>Worksheet no. 29 obviously contains the detailed events underlying the statistics in the previous worksheets. Now, in order to make the data in the <code>IO-AVSTATS</code> database comparable to this MS Excel file, the data from Worksheet no. 29 was loaded into the <code>IO-AVSTATS</code> database as database table <code>io_ntsb_2002_2021</code>, unchanged.</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-1-fatalities","title":"Observation 1 - Fatalities","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-discrepancy-between-fatal-injuries-and-highest-injury-level","title":"Observation: Discrepancy between <code>Fatal Injuries</code> and <code>Highest Injury Level</code>:","text":"<pre><code>SELECT ev_year                                                \"Year\",\n       count(*) FILTER (WHERE highest_injury_level = 'Fatal') \"Accidents Fatal 1\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0)             \"Accidents Fatal 2\"\nFROM io_ntsb_2002_2021\nGROUP BY ev_year\nHAVING count(*) FILTER (WHERE highest_injury_level = 'Fatal') != count(*) FILTER (WHERE fatal_injuries &gt; 0)\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents Fatal 1|Accidents Fatal 2|\n----+-----------------+-----------------+\n2008|              298|              305|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#events-affected-table-29","title":"Events affected - Table 29:","text":"<pre><code>SELECT ntsb_number, event_date, fatal_injuries, highest_injury_level\nFROM io_ntsb_2002_2021\nWHERE fatal_injuries &gt; 0\n  AND highest_injury_level != 'Fatal'\n</code></pre> <pre><code>ntsb_number|event_date             |fatal_injuries|highest_injury_level|\n-----------+-----------------------+--------------+--------------------+\nANC09FA001 |2008-10-01 00:00:00.000|             2|                    |\nDFW08FA237 |2008-09-28 00:00:00.000|             2|                    |\nLAX08FA300 |2008-09-28 00:00:00.000|             1|                    |\nMIA08MA203 |2008-09-27 00:00:00.000|             4|                    |\nNYC08FA319 |2008-09-23 00:00:00.000|             1|                    |\nNYC08FA324 |2008-09-26 00:00:00.000|             1|                    |\nNYC08LA322 |2008-09-23 00:00:00.000|             1|                    |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#this-problem-does-not-occur-in-the-io-avstats-database","title":"This problem does not occur in the <code>IO-AVSTATS</code> database!","text":"<pre><code>SELECT ntsb_no, ev_year, inj_f_grnd, inj_tot_f, ev_highest_injury\nFROM io_app_aaus1982 iaa\nWHERE (inj_f_grnd &gt; 0 OR inj_tot_f &gt; 0)\n  AND ev_highest_injury != 'FATL'\nORDER BY ntsb_no \n</code></pre> <pre><code>ntsb_no|ev_year|inj_f_grnd|inj_tot_f|ev_highest_injury|\n-------+-------+----------+---------+-----------------+\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#the-corrupted-data-in-the-ms-excel-file-looks-correct-in-the-io-avstats-database","title":"The corrupted data in the MS Excel file looks correct in the <code>IO-AVSTATS</code> database:","text":"<pre><code>SELECT ntsb_no, ev_year, inj_f_grnd, inj_tot_f, ev_highest_injury\nFROM io_app_aaus1982 iaa\nWHERE ntsb_no\n          IN ('NYC08FA319',\n              'NYC08LA322',\n              'NYC08FA324',\n              'MIA08MA203',\n              'DFW08FA237',\n              'LAX08FA300',\n              'ANC09FA001')\nORDER BY ntsb_no\n</code></pre> <pre><code>ntsb_no   |ev_year|inj_f_grnd|inj_tot_f|ev_highest_injury|\n----------+-------+----------+---------+-----------------+\nANC09FA001|   2008|         0|        2|FATL             |\nDFW08FA237|   2008|         0|        2|FATL             |\nLAX08FA300|   2008|         0|        1|FATL             |\nMIA08MA203|   2008|         0|        4|FATL             |\nNYC08FA319|   2008|         0|        1|FATL             |\nNYC08FA324|   2008|         0|        1|FATL             |\nNYC08LA322|   2008|         0|        1|FATL             |\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-the-highest-injury-level-column-in-the-ms-excel-file-cannot-be-used-to-determine-fatalities","title":"Conclusion: The <code>Highest Injury Level</code> column in the MS Excel file cannot be used to determine fatalities!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-2-incidents","title":"Observation 2 - Incidents","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-if-the-worksheet-no-29-also-contains-events-of-type-inc-incident","title":"Observation: If the worksheet no. 29+ also contains events of type <code>INC</code> (incident):","text":"<pre><code>SELECT ntsb_number, event_date\nFROM io_ntsb_2002_2021\nWHERE ntsb_number IN (SELECT ntsb_no FROM io_app_aaus1982 WHERE ev_type = 'INC')\n</code></pre> <pre><code>ntsb_number|event_date|\n-----------+----------+\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-worksheet-no-29-does-not-contain-any-events-of-type-inc","title":"Conclusion: Worksheet no. 29 does not contain any events of type 'INC'!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#2worksheet-no-10-vs-no-29","title":"2.Worksheet no. 10 vs. no. 29","text":"<p>Worksheet no. 10</p>"},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-1-completeness","title":"Observation 1 - Completeness","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-are-all-events-from-worksheet-29-included-in-worksheet-10","title":"Observation: Are all events from worksheet 29 included in worksheet 10:","text":"<pre><code>SELECT ev_year                                    \"Year\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nGROUP BY ev_year\nORDER BY ev_year\n</code></pre> <pre><code>Year|Accidents All|Accidents Fatal|Fatalities|\n----+-------------+---------------+----------+\n2002|         1837|            367|       624|\n2003|         1890|            381|       723|\n2004|         1735|            346|       648|\n2005|         1804|            340|       613|\n2006|         1626|            326|       787|\n2007|         1765|            308|       551|\n2008|         1688|            305|       593|\n2009|         1572|            285|       559|\n2010|         1527|            284|       491|\n2011|         1578|            293|       510|\n2012|         1556|            285|       456|\n2013|         1306|            238|       436|\n2014|         1302|            268|       451|\n2015|         1296|            239|       411|\n2016|         1355|            228|       427|\n2017|         1331|            212|       349|\n2018|         1366|            234|       402|\n2019|         1322|            255|       467|\n2020|         1152|            215|       369|\n2021|         1233|            221|       378|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-worksheet-no-29-always-contains-more-events-than-are-included-in-worksheet-no-10","title":"Conclusion: Worksheet no. 29 always contains more events than are included in Worksheet no. 10!","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-2-search-discrepancy","title":"Observation 2 - Search discrepancy","text":""},{"location":"data_analyis_io_ntsb_2002_2021.html#observation-look-for-reasons-for-the-discrepancies","title":"Observation: Look for reasons for the discrepancies:","text":"<p><code>state_or_region</code>:</p> <pre><code>SELECT state_or_region                            \"State\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\n  AND ev_state IS null\nGROUP BY state_or_region\nORDER BY 1\n</code></pre> <pre><code>State        |Accidents All|Accidents Fatal|Fatalities|\n-------------+-------------+---------------+----------+\n             |           16|              6|        11|\nOther Foreign|            4|              2|         3|\nPuerto Rico  |            4|              1|         2|\n</code></pre> <p><code>country</code>:</p> <pre><code>SELECT country                                    \"Country\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020 AND ev_state IS null\nGROUP BY country\nORDER BY 1\n</code></pre> <pre><code>Country      |Accidents All|Accidents Fatal|Fatalities|\n-------------+-------------+---------------+----------+\nAfghanistan  |            1|              0|          |\nAustralia    |            1|              1|         3|\nBahamas      |            1|              0|          |\nFrance       |            3|              2|         5|\nGermany      |            4|              2|         3|\nGuadeloupe   |            1|              0|          |\nGuatemala    |            1|              1|         1|\nIraq         |            1|              0|          |\nIreland      |            1|              0|          |\nMexico       |            1|              0|          |\nRomania      |            1|              0|          |\nSaudi Arabia |            1|              1|         1|\nSouth Africa |            2|              1|         1|\nUnited States|            5|              1|         2|\n</code></pre> <p><code>aircraft_number</code>:</p> <pre><code>SELECT aircraft_number                            \"Aircraft Number\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY aircraft_number\nORDER BY 1\n</code></pre> <pre><code>Aircraft Number|Accidents All|Accidents Fatal|Fatalities|\n---------------+-------------+---------------+----------+\n              1|         1138|            210|       349|\n              2|           14|              5|        20|\n</code></pre> <p><code>damage_level</code>:</p> <pre><code>SELECT damage_level                               \"Damage Level\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY damage_level\nORDER BY 1\n</code></pre> <pre><code>Damage Level|Accidents All|Accidents Fatal|Fatalities|\n------------+-------------+---------------+----------+\nDestroyed   |          154|            120|       216|\nMinor       |            4|              0|         0|\nNone        |           15|              0|         0|\nSubstantial |          979|             95|       153|\n</code></pre> <p><code>registration_number</code>:</p> <pre><code>SELECT registration_number                        \"Registration Number\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020 AND registration_number NOT LIKE 'N%'\nGROUP BY registration_number\nORDER BY 1\n</code></pre> <pre><code>Registration Number|Accidents All|Accidents Fatal|Fatalities|\n-------------------+-------------+---------------+----------+\nCBP213             |            1|              0|          |\nCBP233             |            1|              0|          |\n</code></pre> <p><code>aircraft_category</code>:</p> <pre><code>SELECT aircraft_category                          \"Aircraft Category\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY aircraft_category\nORDER BY 1\n</code></pre> <pre><code>Aircraft Category|Accidents All|Accidents Fatal|Fatalities|\n-----------------+-------------+---------------+----------+\nAirplane         |         1008|            183|       321|\nBalloon          |            8|              0|          |\nGlider           |           19|              5|         5|\nGyroplane        |            9|              4|         5|\nHelicopter       |           94|             20|        35|\nPowered parachute|            3|              0|          |\nUnknown          |            1|              1|         1|\nWeight-shift     |           10|              2|         2|\n</code></pre> <p><code>flight_regulation</code>:</p> <pre><code>SELECT flight_regulation                          \"Flight Regulation\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY flight_regulation\nORDER BY 1\n</code></pre> <pre><code>Flight Regulation             |Accidents All|Accidents Fatal|Fatalities|\n------------------------------+-------------+---------------+----------+\nNon-U.S., non-commercial      |           11|              6|        10|\nPart 121: Air carrier         |           14|              0|         0|\nPart 133: Rotorcraft ext. load|           11|              4|         6|\nPart 135: Air taxi &amp; commuter |           45|              7|        26|\nPart 137: Agricultural        |           50|              9|         9|\nPart 91: General aviation     |         1006|            182|       307|\nPublic aircraft               |           12|              5|         7|\nUnknown                       |            3|              2|         4|\n</code></pre> <p><code>flight_schedule_type</code>:</p> <pre><code>SELECT flight_schedule_type                       \"Flight Schedule Type\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY flight_schedule_type\nORDER BY 1\n</code></pre> <pre><code>Flight Schedule Type|Accidents All|Accidents Fatal|Fatalities|\n--------------------+-------------+---------------+----------+\n                    |         1043|            194|       326|\nNon-scheduled       |           94|             20|        38|\nScheduled           |           15|              1|         5|\n</code></pre> <p><code>purpose_of_flight</code>:</p> <pre><code>SELECT purpose_of_flight                          \"Purpose of Flight\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY purpose_of_flight\nORDER BY 1\n</code></pre> <pre><code>Purpose of Flight        |Accidents All|Accidents Fatal|Fatalities|\n-------------------------+-------------+---------------+----------+\n                         |           66|             13|        36|\nAerial application       |           51|             10|        10|\nAerial observation       |           19|              5|        17|\nBanner tow               |            4|              0|          |\nBusiness                 |           21|              5|        10|\nExecutive/Corporate      |            7|              0|         0|\nExternal load            |           11|              4|         6|\nFerry                    |            3|              1|         1|\nFirefighting             |            6|              4|         6|\nFlight test              |           18|              5|         7|\nGlider tow               |            2|              1|         1|\nInstructional            |          153|             12|        20|\nOther work use           |           11|              1|         1|\nPersonal                 |          751|            149|       249|\nPositioning              |           19|              3|         3|\nPublic aircraft          |            1|              0|          |\nPublic aircraft - federal|            2|              0|          |\nPublic aircraft - local  |            2|              1|         1|\nPublic aircraft - state  |            1|              0|          |\nSkydiving                |            1|              0|          |\nUnknown                  |            3|              1|         1|\n</code></pre> <p><code>intentional_act</code>:</p> <pre><code>SELECT intentional_act                            \"Intentional Act\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY intentional_act\nORDER BY 1\n</code></pre> <pre><code>Intentional Act|Accidents All|Accidents Fatal|Fatalities|\n---------------+-------------+---------------+----------+\n               |         1152|            215|       369|\n</code></pre> <p><code>defining_event</code>:</p> <pre><code>SELECT defining_event                             \"Defining Event\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY defining_event\nORDER BY 1\n</code></pre> <pre><code>Defining Event                       |Accidents All|Accidents Fatal|Fatalities|\n-------------------------------------+-------------+---------------+----------+\n                                     |           19|              3|         3|\nAbnormal Runway Contact              |          148|              0|         0|\nAbrupt Maneuver                      |            4|              2|         4|\nAerodrome                            |            1|              0|          |\nBird Strike                          |            3|              1|         1|\nCabin Safety Events                  |            1|              0|          |\nCollision on Takeoff or Landing      |           47|              4|         6|\nControlled Flight Into Terrain       |           24|             13|        26|\nFire - Non-Impact                    |            5|              1|         2|\nFuel Related                         |          108|             18|        23|\nGround Collision                     |           14|              0|         0|\nGround Handling                      |            4|              0|          |\nLoss of Control In-Flight            |          187|             87|       136|\nLoss of Control on Ground            |          204|              3|         3|\nLoss of Lift                         |            7|              0|          |\nLow Altitude Operation               |           26|              3|         3|\nMedical Event                        |            4|              3|         3|\nMidair                               |           13|              9|        39|\nNavigation Error                     |            4|              1|         1|\nOther                                |           43|             12|        20|\nRunway Excursion                     |           28|              2|         6|\nSystem/Component Failure - Non-power |           46|              7|        11|\nSystem/Component Failure - Powerplant|          145|             18|        29|\nTurbulence Encounter                 |            8|              0|         0|\nUndershoot/Overshoot                 |           11|              0|         0|\nUnintended Flight Into IMC           |           10|              6|        16|\nUnknown                              |           32|             21|        35|\nWildlife Encounter                   |            5|              0|         0|\nWindshear/Thunderstorm               |            1|              1|         2|\n</code></pre> <p><code>phase_of_flight</code>:</p> <pre><code>SELECT phase_of_flight                            \"Phase of Flight\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY phase_of_flight\nORDER BY 1\n</code></pre> <pre><code>Phase of Flight  |Accidents All|Accidents Fatal|Fatalities|\n-----------------+-------------+---------------+----------+\n                 |            5|              1|         1|\nApproach         |          139|             39|        61|\nEmergency Descent|           10|              2|         6|\nEnroute          |          180|             62|       142|\nInitial Climb    |           85|             27|        41|\nLanding          |          378|              4|         4|\nManeuvering      |          134|             50|        67|\nStanding         |           19|              0|         0|\nTakeoff          |          162|             18|        27|\nTaxi             |           21|              1|         1|\nUnknown          |           19|             11|        19|\n</code></pre>"},{"location":"data_analyis_io_ntsb_2002_2021.html#conclusion-todo","title":"Conclusion: TODO!","text":"<pre><code>SELECT * FROM (\nSELECT 'state_or_region'                          \"Type\", \n       state_or_region                            \"State\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\n  AND ev_state IS null\nGROUP BY state_or_region\nUNION \nSELECT 'country'                                  \"Type\", \n       country                                    \"Country\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020 AND ev_state IS null\nGROUP BY country\nUNION \nSELECT 'aircraft_number'                          \"Type\", \n       aircraft_number::varchar(10)               \"Aircraft Number\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY aircraft_number\nUNION \nSELECT 'damage_level'                             \"Type\", \n       damage_level                               \"Damage Level\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY damage_level\nUNION \nSELECT 'registration_number'                      \"Type\", \n       registration_number                        \"Registration Number\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020 AND registration_number NOT LIKE 'N%'\nGROUP BY registration_number\nUNION \nSELECT 'aircraft_category'                        \"Type\", \n       aircraft_category                          \"Aircraft Category\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY aircraft_category\nUNION \nSELECT 'flight_regulation'                        \"Type\", \n       flight_regulation                          \"Flight Regulation\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY flight_regulation\nUNION \nSELECT 'flight_schedule_type'                     \"Type\", \n       flight_schedule_type                       \"Flight Schedule Type\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY flight_schedule_type\nUNION \nSELECT 'purpose_of_flight'                       \"Type\", \n       purpose_of_flight                          \"Purpose of Flight\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY purpose_of_flight\nUNION \nSELECT 'intentional_act'                          \"Type\", \n       intentional_act::varchar(10)               \"Intentional Act\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY intentional_act\nUNION \nSELECT 'defining_event'                           \"Type\", \n       defining_event                             \"Defining Event\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY defining_event\nUNION \nSELECT 'phase_of_flight'                          \"Type\", \n       phase_of_flight                            \"Phase of Flight\",\n       count(*)                                   \"Accidents All\",\n       count(*) FILTER (WHERE fatal_injuries &gt; 0) \"Accidents Fatal\",\n       sum(fatal_injuries)                        \"Fatalities\"\nFROM io_ntsb_2002_2021\nWHERE ev_YEAR = 2020\nGROUP BY phase_of_flight) xx\nWHERE \"Accidents All\" &lt;= 66\n  AND \"Accidents Fatal\" &lt;= 10\nORDER BY 3, 1, 2\n</code></pre> <pre><code>Type                |State                               |Accidents All|Accidents Fatal|Fatalities|\n--------------------+------------------------------------+-------------+---------------+----------+\naircraft_category   |Unknown                             |            1|              1|         1|\ncountry             |Afghanistan                         |            1|              0|          |\ncountry             |Australia                           |            1|              1|         3|\ncountry             |Bahamas                             |            1|              0|          |\ncountry             |Guadeloupe                          |            1|              0|          |\ncountry             |Guatemala                           |            1|              1|         1|\ncountry             |Iraq                                |            1|              0|          |\ncountry             |Ireland                             |            1|              0|          |\ncountry             |Mexico                              |            1|              0|          |\ncountry             |Romania                             |            1|              0|          |\ncountry             |Saudi Arabia                        |            1|              1|         1|\ndefining_event      |Aerodrome                           |            1|              0|          |\ndefining_event      |Cabin Safety Events                 |            1|              0|          |\ndefining_event      |Windshear/Thunderstorm              |            1|              1|         2|\npurpose_of_flight   |Public aircraft                     |            1|              0|          |\npurpose_of_flight   |Public aircraft - state             |            1|              0|          |\npurpose_of_flight   |Skydiving                           |            1|              0|          |\nregistration_number |CBP213                              |            1|              0|          |\nregistration_number |CBP233                              |            1|              0|          |\ncountry             |South Africa                        |            2|              1|         1|\npurpose_of_flight   |Glider tow                          |            2|              1|         1|\npurpose_of_flight   |Public aircraft - federal           |            2|              0|          |\npurpose_of_flight   |Public aircraft - local             |            2|              1|         1|\naircraft_category   |Powered parachute                   |            3|              0|          |\ncountry             |France                              |            3|              2|         5|\ndefining_event      |Bird Strike                         |            3|              1|         1|\nflight_regulation   |Unknown                             |            3|              2|         4|\npurpose_of_flight   |Ferry                               |            3|              1|         1|\npurpose_of_flight   |Unknown                             |            3|              1|         1|\ncountry             |Germany                             |            4|              2|         3|\ndamage_level        |Minor                               |            4|              0|         0|\ndefining_event      |Abrupt Maneuver                     |            4|              2|         4|\ndefining_event      |Ground Handling                     |            4|              0|          |\ndefining_event      |Medical Event                       |            4|              3|         3|\ndefining_event      |Navigation Error                    |            4|              1|         1|\npurpose_of_flight   |Banner tow                          |            4|              0|          |\nstate_or_region     |Other Foreign                       |            4|              2|         3|\nstate_or_region     |Puerto Rico                         |            4|              1|         2|\ncountry             |United States                       |            5|              1|         2|\ndefining_event      |Fire - Non-Impact                   |            5|              1|         2|\ndefining_event      |Wildlife Encounter                  |            5|              0|         0|\nphase_of_flight     |                                    |            5|              1|         1|\npurpose_of_flight   |Firefighting                        |            6|              4|         6|\ndefining_event      |Loss of Lift                        |            7|              0|          |\npurpose_of_flight   |Executive/Corporate                 |            7|              0|         0|\naircraft_category   |Balloon                             |            8|              0|          |\ndefining_event      |Turbulence Encounter                |            8|              0|         0|\naircraft_category   |Gyroplane                           |            9|              4|         5|\naircraft_category   |Weight-shift                        |           10|              2|         2|\ndefining_event      |Unintended Flight Into IMC          |           10|              6|        16|\nphase_of_flight     |Emergency Descent                   |           10|              2|         6|\ndefining_event      |Undershoot/Overshoot                |           11|              0|         0|\nflight_regulation   |Non-U.S., non-commercial            |           11|              6|        10|\nflight_regulation   |Part 133: Rotorcraft ext. load      |           11|              4|         6|\npurpose_of_flight   |External load                       |           11|              4|         6|\npurpose_of_flight   |Other work use                      |           11|              1|         1|\nflight_regulation   |Public aircraft                     |           12|              5|         7|\ndefining_event      |Midair                              |           13|              9|        39|\naircraft_number     |2                                   |           14|              5|        20|\ndefining_event      |Ground Collision                    |           14|              0|         0|\nflight_regulation   |Part 121: Air carrier               |           14|              0|         0|\ndamage_level        |None                                |           15|              0|         0|\nflight_schedule_type|Scheduled                           |           15|              1|         5|\nstate_or_region     |                                    |           16|              6|        11|\npurpose_of_flight   |Flight test                         |           18|              5|         7|\naircraft_category   |Glider                              |           19|              5|         5|\ndefining_event      |                                    |           19|              3|         3|\nphase_of_flight     |Standing                            |           19|              0|         0|\npurpose_of_flight   |Aerial observation                  |           19|              5|        17|\npurpose_of_flight   |Positioning                         |           19|              3|         3|\nphase_of_flight     |Taxi                                |           21|              1|         1|\npurpose_of_flight   |Business                            |           21|              5|        10|\ndefining_event      |Low Altitude Operation              |           26|              3|         3|\ndefining_event      |Runway Excursion                    |           28|              2|         6|\nflight_regulation   |Part 135: Air taxi &amp; commuter       |           45|              7|        26|\ndefining_event      |System/Component Failure - Non-power|           46|              7|        11|\ndefining_event      |Collision on Takeoff or Landing     |           47|              4|         6|\nflight_regulation   |Part 137: Agricultural              |           50|              9|         9|\npurpose_of_flight   |Aerial application                  |           51|             10|        10|\n</code></pre>"},{"location":"data_analyis_ntsb_accident_data.html","title":"Data Analysis: Aviation Accident Data Sets","text":"<p>Note: The <code>IO-AVSTATS</code> database used here contains NTSB aircraft accident data as of January 1, 2023.</p> <p>This report is about comparing the NTSB Census of US Civil Aviation Accidents and the <code>IO-AVSTATS</code> database  for consistency.  </p> <p>The NTSB provides U.S. aviation accident data in Microsoft Acces format on its website at the following link. There are three file types to distinguish:</p> <ul> <li><code>Pre2008</code>: contains the data from 1982 to 2008 with some older data,</li> <li><code>avall</code>: contains the data since 2008</li> <li><code>upDDMON</code>: contains update data on the 1st, 8th, 15th and 22nd of each month. </li> </ul> <p>IO-Aero migrated the data from MS Access files <code>Pre2008</code> and <code>avall</code> to a PostgreSQL database on November 5, 2022, and has been processing new update files <code>upDDMON</code> since that time.</p> <pre><code>file_name |first_processed        |last_processed         |counter|\n----------+-----------------------+-----------------------+-------+\nPre2008   |2022-11-05 10:44:38.868|2022-11-05 11:49:12.766|      2|\navall     |2022-11-05 11:59:49.223|2022-11-05 20:31:00.556|      2|\nup01NOV   |2022-12-12 11:57:31.862|                       |      1|\nup08NOV   |2022-12-12 12:05:13.850|                       |      1|\nup15NOV   |2022-12-12 12:07:16.557|                       |      1|\nup22NOV   |2022-11-27 13:40:18.094|2022-12-12 12:08:15.915|      2|\nup01DEC   |2022-12-12 13:26:03.872|                       |      1|\nup08DEC   |2022-12-12 13:29:14.703|                       |      1|\nup15DEC   |2022-12-18 03:03:24.994|                       |      1|\nup22DEC   |2022-12-23 02:41:07.220|                       |      1|\nup01JAN   |2023-01-02 22:19:57.376|                       |      1|\n</code></pre> <p>This process is based on the assumption that by processing the two files <code>Pre2008</code> and <code>avall</code> once and regularly processing all update files since then, the NTSB data and the IO-Aero data match. Unfortunately, this is not the case.</p>"},{"location":"data_analyis_ntsb_accident_data.html#1-cross-check-of-the-number-of-stored-rows","title":"1. Cross check of the number of stored rows","text":"<p>A comparison of the current versions of the two files <code>Pre2008</code> and <code>avall</code> with the <code>IO-AVSTATS</code> database gives the following picture:</p>  <p>From this, one can clearly conclude that the NTSB is making data deletions without reflecting this in the update files.</p>"},{"location":"data_analyis_ntsb_accident_data.html#2-consistency-check-of-ms-access-file-avall","title":"2. Consistency check of MS Access file <code>avall</code>","text":"<p>One should expect as a result of loading the NTSB files <code>Pre2008</code>, <code>avall</code> and all subsequent update files that the data in the current NTSB file <code>avall</code> and the <code>IO-AVSTATS</code> database match. This can be easily checked by reloading the current NTSB file <code>avall</code> into the <code>IO-AVSTATS</code> database.  This is possible because in the <code>IO-AVSTATS</code> database a change is only made in a row if one of the columns has changed.</p> <p>However, from the following log it is unfortunately evident that 3 changes in the NTSB database table <code>events</code> are not included in the change files.</p> <pre><code>Progress update 2023-01-08 10:54:57.926471 : ===============================================================================.\nProgress update 2023-01-08 10:54:57.926471 : INFO.00.004 Start Launcher.\nProgress update 2023-01-08 10:54:57.928471 : INFO.00.001 The logger is configured and ready.\nProgress update 2023-01-08 10:54:57.936971 : INFO.00.008 Arguments task='l_n_a' msaccess='avall'.\nProgress update 2023-01-08 10:54:57.936971 : -------------------------------------------------------------------------------.\nProgress update 2023-01-08 10:54:57.936971 : INFO.00.049 Loading NTSB MS Access database data from file 'avall'.\nProgress update 2023-01-08 10:54:57.937472 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 10:54:57.937472 : INFO.00.054 ODBC driver='DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\avall.mdb;'.\nProgress update 2023-01-08 10:54:58.124971 : INFO.00.021 The following database table is not processed: 'MSysAccessObjects'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysACEs'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysIMEXColumns'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysIMEXSpecs'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysModules2'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupCategories'.\nProgress update 2023-01-08 10:54:58.125472 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroups'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupToObjects'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysNavPaneObjectIDs'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysObjects'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysQueries'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'MSysRelationships'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'Country'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'ct_iaids'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'ct_seqevt'.\nProgress update 2023-01-08 10:54:58.125972 : INFO.00.021 The following database table is not processed: 'eADMSPUB_DataDictionary'.\nProgress update 2023-01-08 10:54:58.126472 : INFO.00.021 The following database table is not processed: 'states'.\nProgress update 2023-01-08 10:54:58.126472 :\nProgress update 2023-01-08 10:54:58.126472 : Database table       : events              &lt;-----------------------------------.\nProgress update 2023-01-08 10:55:05.520972 : Number of rows so far read :   5000.\nProgress update 2023-01-08 10:55:12.226010 : Number of rows so far read :  10000.\nProgress update 2023-01-08 10:55:18.856471 : Number of rows so far read :  15000.\nProgress update 2023-01-08 10:55:25.430471 : Number of rows so far read :  20000.\nProgress update 2023-01-08 10:55:32.083403 : Number of rows so far read :  25000.\nProgress update 2023-01-08 10:55:32.152403 : Number rows selected :  25053.\nProgress update 2023-01-08 10:55:32.152403 : Number rows updated  :      3.\nProgress update 2023-01-08 10:55:32.171903 :\nProgress update 2023-01-08 10:55:32.171903 : Database table       : aircraft            &lt;-----------------------------------.\nProgress update 2023-01-08 10:59:44.049422 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:03:55.709177 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:08:07.079556 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:12:18.158872 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:16:29.489073 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:16:51.969021 : Number rows selected :  25448.\nProgress update 2023-01-08 11:16:51.992520 :\nProgress update 2023-01-08 11:16:51.992520 : Database table       : dt_events           &lt;-----------------------------------.\nProgress update 2023-01-08 11:16:56.112522 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:17:00.062021 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:17:04.009521 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:17:07.971827 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:17:11.947351 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:17:15.920851 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:17:19.910351 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:17:23.956872 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:17:28.006459 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:17:31.985360 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:17:36.006304 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:17:40.029105 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:17:44.082605 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:17:48.120527 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:17:52.097052 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:17:56.148091 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:18:00.158587 : Number rows selected :  84875.\nProgress update 2023-01-08 11:18:00.167086 :\nProgress update 2023-01-08 11:18:00.167086 : Database table       : ntsb_admin          &lt;-----------------------------------.\nProgress update 2023-01-08 11:18:04.299087 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:18:08.354587 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:18:12.397087 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:18:16.441587 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:18:20.477758 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:18:20.526759 : Number rows selected :  25055.\nProgress update 2023-01-08 11:18:20.528759 :\nProgress update 2023-01-08 11:18:20.528759 : Database table       : dt_aircraft         &lt;-----------------------------------.\nProgress update 2023-01-08 11:18:25.120259 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:18:29.163736 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:18:33.278735 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:18:37.303235 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:18:41.307235 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:18:45.302735 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:18:49.414235 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:18:53.486735 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:18:57.497234 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:19:01.475167 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:19:05.450167 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:19:09.479167 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:19:13.533167 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:19:17.643945 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:19:21.688945 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:19:25.742069 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:19:29.785071 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:19:33.842569 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:19:37.808569 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:19:41.772069 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:19:45.770178 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:19:49.722678 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:19:53.745178 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:19:57.727178 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:20:01.755178 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:20:05.910679 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:20:09.945678 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:20:13.965285 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:20:17.994762 : Number of rows so far read : 145000.\nProgress update 2023-01-08 11:20:21.985261 : Number of rows so far read : 150000.\nProgress update 2023-01-08 11:20:26.051761 : Number of rows so far read : 155000.\nProgress update 2023-01-08 11:20:30.140762 : Number of rows so far read : 160000.\nProgress update 2023-01-08 11:20:34.184261 : Number of rows so far read : 165000.\nProgress update 2023-01-08 11:20:38.170761 : Number of rows so far read : 170000.\nProgress update 2023-01-08 11:20:42.181261 : Number of rows so far read : 175000.\nProgress update 2023-01-08 11:20:46.199261 : Number of rows so far read : 180000.\nProgress update 2023-01-08 11:20:50.216762 : Number of rows so far read : 185000.\nProgress update 2023-01-08 11:20:54.232387 : Number of rows so far read : 190000.\nProgress update 2023-01-08 11:20:58.254460 : Number of rows so far read : 195000.\nProgress update 2023-01-08 11:21:02.275612 : Number of rows so far read : 200000.\nProgress update 2023-01-08 11:21:06.309111 : Number of rows so far read : 205000.\nProgress update 2023-01-08 11:21:10.315400 : Number of rows so far read : 210000.\nProgress update 2023-01-08 11:21:11.126900 : Number rows selected : 211020.\nProgress update 2023-01-08 11:21:11.149399 :\nProgress update 2023-01-08 11:21:11.149399 : Database table       : engines             &lt;-----------------------------------.\nProgress update 2023-01-08 11:21:15.703845 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:21:20.078960 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:21:24.511459 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:21:28.959459 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:21:31.813459 : Number rows selected :  23220.\nProgress update 2023-01-08 11:21:31.819959 :\nProgress update 2023-01-08 11:21:31.820459 : Database table       : events_sequence     &lt;-----------------------------------.\nProgress update 2023-01-08 11:21:36.214959 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:21:40.382959 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:21:44.580459 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:21:48.780298 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:21:52.972298 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:21:57.171033 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:22:01.358439 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:22:05.542086 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:22:09.698086 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:22:13.884087 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:22:17.898086 : Number rows selected :  54812.\nProgress update 2023-01-08 11:22:17.906086 :\nProgress update 2023-01-08 11:22:17.906086 : Database table       : findings            &lt;-----------------------------------.\nProgress update 2023-01-08 11:22:22.540089 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:22:26.864086 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:22:31.184492 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:22:35.492492 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:22:39.780492 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:22:44.130992 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:22:48.454677 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:22:52.789844 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:22:57.120637 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:23:01.419796 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:23:05.766431 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:23:09.791340 : Number rows selected :  59658.\nProgress update 2023-01-08 11:23:09.805840 :\nProgress update 2023-01-08 11:23:09.805840 : Database table       : flight_crew         &lt;-----------------------------------.\nProgress update 2023-01-08 11:23:14.958784 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:23:19.820268 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:23:24.729594 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:23:29.622084 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:23:34.540084 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:23:35.199084 : Number rows selected :  25673.\nProgress update 2023-01-08 11:23:35.208584 :\nProgress update 2023-01-08 11:23:35.208584 : Database table       : injury              &lt;-----------------------------------.\nProgress update 2023-01-08 11:23:39.735841 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:23:43.896539 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:23:47.861665 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:23:51.935371 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:23:55.984372 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:24:00.036871 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:24:04.101597 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:24:08.135097 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:24:12.153455 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:24:16.246138 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:24:20.300638 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:24:24.341138 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:24:28.366638 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:24:32.397569 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:24:36.310164 : Number rows selected :  74810.\nProgress update 2023-01-08 11:24:36.318164 :\nProgress update 2023-01-08 11:24:36.318664 : Database table       : narratives          &lt;-----------------------------------.\nProgress update 2023-01-08 11:25:06.658888 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:25:38.351141 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:26:14.370031 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:26:41.030434 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:26:52.552326 : Number rows selected :  24170.\nProgress update 2023-01-08 11:26:52.576323 :\nProgress update 2023-01-08 11:26:52.576323 : Database table       : occurrences         &lt;-----------------------------------.\nProgress update 2023-01-08 11:26:52.576824 : Number rows selected :      0.\nProgress update 2023-01-08 11:26:52.576824 :\nProgress update 2023-01-08 11:26:52.576824 : Database table       : dt_flight_crew      &lt;-----------------------------------.\nProgress update 2023-01-08 11:26:57.021429 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:27:01.116839 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:27:05.160588 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:27:09.299411 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:27:13.347448 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:27:17.359906 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:27:21.401896 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:27:25.572195 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:27:29.662676 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:27:33.798273 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:27:37.851519 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:27:41.919623 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:27:46.008191 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:27:50.072306 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:27:54.155886 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:27:58.186193 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:28:02.246693 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:28:06.272698 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:28:10.298302 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:28:14.333921 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:28:18.352599 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:28:22.371189 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:28:26.522324 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:28:30.583703 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:28:34.645931 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:28:38.709503 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:28:42.754553 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:28:46.829771 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:28:49.203271 : Number rows selected : 142895.\nProgress update 2023-01-08 11:28:49.217771 :\nProgress update 2023-01-08 11:28:49.217771 : Database table       : flight_time         &lt;-----------------------------------.\nProgress update 2023-01-08 11:28:54.286174 : Number of rows so far read :   5000.\nProgress update 2023-01-08 11:28:58.389961 : Number of rows so far read :  10000.\nProgress update 2023-01-08 11:29:02.508078 : Number of rows so far read :  15000.\nProgress update 2023-01-08 11:29:06.645259 : Number of rows so far read :  20000.\nProgress update 2023-01-08 11:29:10.783724 : Number of rows so far read :  25000.\nProgress update 2023-01-08 11:29:14.909806 : Number of rows so far read :  30000.\nProgress update 2023-01-08 11:29:19.026191 : Number of rows so far read :  35000.\nProgress update 2023-01-08 11:29:23.150194 : Number of rows so far read :  40000.\nProgress update 2023-01-08 11:29:27.367274 : Number of rows so far read :  45000.\nProgress update 2023-01-08 11:29:31.566274 : Number of rows so far read :  50000.\nProgress update 2023-01-08 11:29:35.726611 : Number of rows so far read :  55000.\nProgress update 2023-01-08 11:29:39.869869 : Number of rows so far read :  60000.\nProgress update 2023-01-08 11:29:43.982202 : Number of rows so far read :  65000.\nProgress update 2023-01-08 11:29:48.071534 : Number of rows so far read :  70000.\nProgress update 2023-01-08 11:29:52.189364 : Number of rows so far read :  75000.\nProgress update 2023-01-08 11:29:56.321801 : Number of rows so far read :  80000.\nProgress update 2023-01-08 11:30:00.433774 : Number of rows so far read :  85000.\nProgress update 2023-01-08 11:30:04.542272 : Number of rows so far read :  90000.\nProgress update 2023-01-08 11:30:08.643190 : Number of rows so far read :  95000.\nProgress update 2023-01-08 11:30:12.731690 : Number of rows so far read : 100000.\nProgress update 2023-01-08 11:30:16.840690 : Number of rows so far read : 105000.\nProgress update 2023-01-08 11:30:20.935190 : Number of rows so far read : 110000.\nProgress update 2023-01-08 11:30:25.021998 : Number of rows so far read : 115000.\nProgress update 2023-01-08 11:30:29.117324 : Number of rows so far read : 120000.\nProgress update 2023-01-08 11:30:33.218599 : Number of rows so far read : 125000.\nProgress update 2023-01-08 11:30:37.348908 : Number of rows so far read : 130000.\nProgress update 2023-01-08 11:30:41.463377 : Number of rows so far read : 135000.\nProgress update 2023-01-08 11:30:45.552042 : Number of rows so far read : 140000.\nProgress update 2023-01-08 11:30:49.702545 : Number of rows so far read : 145000.\nProgress update 2023-01-08 11:30:53.813622 : Number of rows so far read : 150000.\nProgress update 2023-01-08 11:30:57.958047 : Number of rows so far read : 155000.\nProgress update 2023-01-08 11:31:02.064574 : Number of rows so far read : 160000.\nProgress update 2023-01-08 11:31:06.185597 : Number of rows so far read : 165000.\nProgress update 2023-01-08 11:31:10.347399 : Number of rows so far read : 170000.\nProgress update 2023-01-08 11:31:14.460899 : Number of rows so far read : 175000.\nProgress update 2023-01-08 11:31:18.566522 : Number of rows so far read : 180000.\nProgress update 2023-01-08 11:31:22.656724 : Number of rows so far read : 185000.\nProgress update 2023-01-08 11:31:26.759541 : Number of rows so far read : 190000.\nProgress update 2023-01-08 11:31:30.850994 : Number of rows so far read : 195000.\nProgress update 2023-01-08 11:31:34.977994 : Number of rows so far read : 200000.\nProgress update 2023-01-08 11:31:39.104760 : Number of rows so far read : 205000.\nProgress update 2023-01-08 11:31:43.224278 : Number of rows so far read : 210000.\nProgress update 2023-01-08 11:31:47.343758 : Number of rows so far read : 215000.\nProgress update 2023-01-08 11:31:51.473308 : Number of rows so far read : 220000.\nProgress update 2023-01-08 11:31:55.610395 : Number of rows so far read : 225000.\nProgress update 2023-01-08 11:31:59.722655 : Number of rows so far read : 230000.\nProgress update 2023-01-08 11:32:03.829224 : Number of rows so far read : 235000.\nProgress update 2023-01-08 11:32:07.926916 : Number of rows so far read : 240000.\nProgress update 2023-01-08 11:32:12.021113 : Number of rows so far read : 245000.\nProgress update 2023-01-08 11:32:16.121738 : Number of rows so far read : 250000.\nProgress update 2023-01-08 11:32:20.230809 : Number of rows so far read : 255000.\nProgress update 2023-01-08 11:32:24.428988 : Number of rows so far read : 260000.\nProgress update 2023-01-08 11:32:28.552488 : Number of rows so far read : 265000.\nProgress update 2023-01-08 11:32:32.683488 : Number of rows so far read : 270000.\nProgress update 2023-01-08 11:32:36.809492 : Number of rows so far read : 275000.\nProgress update 2023-01-08 11:32:40.943466 : Number of rows so far read : 280000.\nProgress update 2023-01-08 11:32:45.062966 : Number of rows so far read : 285000.\nProgress update 2023-01-08 11:32:49.188608 : Number of rows so far read : 290000.\nProgress update 2023-01-08 11:32:53.319314 : Number of rows so far read : 295000.\nProgress update 2023-01-08 11:32:57.395559 : Number of rows so far read : 300000.\nProgress update 2023-01-08 11:33:01.511843 : Number of rows so far read : 305000.\nProgress update 2023-01-08 11:33:05.647894 : Number of rows so far read : 310000.\nProgress update 2023-01-08 11:33:09.775894 : Number of rows so far read : 315000.\nProgress update 2023-01-08 11:33:13.911762 : Number of rows so far read : 320000.\nProgress update 2023-01-08 11:33:14.060262 : Number rows selected : 320177.\nProgress update 2023-01-08 11:33:14.105399 :\nProgress update 2023-01-08 11:33:14.105399 : Database table       : seq_of_events       &lt;-----------------------------------.\nProgress update 2023-01-08 11:33:14.105899 : Number rows selected :      0.\nProgress update 2023-01-08 11:33:14.205984 : INFO.00.065 Cleansing PostgreSQL data.\nProgress update 2023-01-08 11:33:14.206484 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:14.248984 : INFO.00.066 Cleansing table 'aircraft' column 'acft_category'.\nProgress update 2023-01-08 11:33:16.897611 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:16.897611 : INFO.00.066 Cleansing table 'aircraft' column 'far_part'.\nProgress update 2023-01-08 11:33:19.546798 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:19.547298 : INFO.00.066 Cleansing table 'events' column 'ev_city'.\nProgress update 2023-01-08 11:33:20.870836 : Number cols trimmed  :      3.\nProgress update 2023-01-08 11:33:22.121143 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:22.121143 : INFO.00.066 Cleansing table 'events' column 'ev_site_zipcode'.\nProgress update 2023-01-08 11:33:24.665371 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:24.665928 : INFO.00.066 Cleansing table 'events' column 'latitude'.\nProgress update 2023-01-08 11:33:27.213439 : --------------------------------------------------------------------------------\nProgress update 2023-01-08 11:33:27.213439 : INFO.00.066 Cleansing table 'events' column 'longitude'.\nProgress update 2023-01-08 11:33:29.755180 : -------------------------------------------------------------------------------.\nProgress update 2023-01-08 11:33:29.755180 :    2,311,946,209,000 ns - Total time launcher.\nProgress update 2023-01-08 11:33:29.755180 : INFO.00.006 End   Launcher.\nProgress update 2023-01-08 11:33:29.755679 : ===============================================================================.\n</code></pre>"},{"location":"data_analyis_ntsb_accident_data.html#3-conclusions","title":"3. Conclusions","text":"<p>The following actions should address these issues:</p> <ol> <li>A new column <code>last_seen</code> of format timestamp is added for all NTSB database tables stored in the <code>IO-AVSTATS</code> database.</li> <li>The <code>avall</code> file is reloaded instead of the current update file at a rate to be defined.  Thereby all rows of the NTSB file in the IO-AVSTATS database are provided with the same timestamp in the column <code>last_seen</code>.  After loading the NTSB data, all rows since 2008 in the <code>IO-AVSTATS</code> database that do not contain this timestamp are deleted. </li> <li>It is checked when loading the data that no data from before 2008 is affected.</li> </ol>"},{"location":"how_to_add_ntsb_accident_files.html","title":"How to add NTSB accident files","text":"<p>Aviation accident data provided by NTSB can be found at the following website under Downloadable data sets:</p>  <p>In the database table <code>io_processed_files</code> you can find the previously processed files:</p>  <p>Any file can be processed several times with the process described in the following, as long as one processes also afterwards all newer files again.</p> <p>All necessary processing steps can be executed with the <code>run_io_avstats</code> script. The script is available in a version for Windows 10 and 11 cmd and for Ubuntu 22.04 bash shell.</p>"},{"location":"how_to_add_ntsb_accident_files.html#1-quick-reference","title":"1. Quick reference","text":"No. Task Description     1 d_n_a Download a NTSB MS Access database file   2 l_n_a Load NTSB MS Access database data into PostgreSQL   3 d_s_f Download basic simplemaps files   4 l_s_d Optional: Load simplemaps data into PostgreSQL   5  Download the ZIP Code Database file   6 l_z_d Optional: Load ZIP Code Database data into PostgreSQL   7 l_c_d Optional: Load data from a correction file into PostgreSQL   8 c_l_l Correct decimal US latitudes and longitudes   9 v_n_d Verify selected NTSB data   10 r_d_s Refresh the PostgreSQL database schema   11  Backup the file directory <code>data/postgres</code>   12  Update the Google Drive   13  Update IO-AVSTATS in the IO-Aero cloud"},{"location":"how_to_add_ntsb_accident_files.html#2-detailed-description","title":"2. Detailed description","text":""},{"location":"how_to_add_ntsb_accident_files.html#21-d_n_a-download-a-ntsb-ms-access-database-file","title":"2.1 <code>d_n_a</code> - Download a NTSB MS Access database file","text":"<p>Relevant cofiguration parameters:</p> <pre><code>download_chunk_size = 524288\ndownload_timeout = 10\ndownload_url_ntsb_prefix = \"https://data.ntsb.gov/avdata/FileDirectory/DownloadFile?fileID=C%3A%5Cavdata%5C\"\ndownload_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] d_n_a\n=========================================================\navall   - Data from January 1, 2008 to today\nPre2008 - Data from January 1, 1982 to December 31, 2007\nupDDMON - New additions and updates until DD day in the month MON\n---------------------------------------------------------\nEnter the stem name of the desired MS Access database file up15DEC\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : d_n_a\nCORRECTION :\nMSACCESS   : up15DEC\n-----------------------------------------------------------------------\nThe current time is: 13:07:00.80\nEnter the new time:\n=======================================================================\nProgress update 2022-12-17 13:07:04.105948 : ===============================================================================.\nProgress update 2022-12-17 13:07:04.105948 : INFO.00.004 Start Launcher.\nProgress update 2022-12-17 13:07:04.111448 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-17 13:07:04.120447 : INFO.00.008 Arguments task='d_n_a' msaccess='up15DEC'.\nProgress update 2022-12-17 13:07:04.120447 : -------------------------------------------------------------------------------.\nProgress update 2022-12-17 13:07:04.120447 : INFO.00.047 Downloading NTSB MS Access database file 'up15DEC'.\nProgress update 2022-12-17 13:07:04.120447 : --------------------------------------------------------------------------------\nProgress update 2022-12-17 13:07:06.491427 : INFO.00.013 The connection to the MS Access database file 'up15DEC.zip' on the NTSB download page was successfully established.\nProgress update 2022-12-17 13:07:07.115755 : INFO.00.014 From the file 'up15DEC.zip' 2 chunks were downloaded.\nProgress update 2022-12-17 13:07:07.133255 : INFO.00.015 The file 'up15DEC.zip' was successfully unpacked.\nProgress update 2022-12-17 13:07:07.144255 : INFO.00.051 msaccess_file='D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\IO-AVSTATS.mdb'.\nProgress update 2022-12-17 13:07:07.144755 : INFO.00.051 msaccess_file='D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\up15DEC.sql'.\nProgress update 2022-12-17 13:07:07.144755 : INFO.00.052 razorsql_jar_file='C:\\Program Files\\RazorSQL\\razorsql.jar'.\nProgress update 2022-12-17 13:07:07.144755 : INFO.00.053 razorsql_java_path='C:\\Program Files\\RazorSQL\\jre11\\bin\\java'.\n1671278827242: launching RazorSQL . . .\n1671278827242: args . . .\n-backup\nIO-AVSTATS\nnull\nnull\n;\nnull\nD:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\up15DEC.sql\nNO\ntables\nYES\nnull\nNO\nNO\n1671278827278: userName: walte\n1671278827278: libraryPath: C:\\Program Files\\RazorSQL\\jre11\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Users\\walte\\.virtualenvs\\io-avstats-zZIfNcpY\\Scripts;C:\\Program Files (x86)\\VMware\\VMware Player\\bin\\;C:\\Program Files (x86)\\infogridpacific\\AZARDI;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Calibre2\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Git LFS;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files\\Pandoc\\;C:\\Program Files\\TortoiseGit\\bin;C:\\Software\\GnuWin32\\bin;C:\\WINDOWS;C:\\WINDOWS\\system32;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Users\\walte\\.nimble\\bin;C:\\Windows;C:\\Windows\\system32;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Software\\.cargo\\bin;%GRADLE_HOME%\\bin;%HOME_ELIXIR%\\bin;%HOME_ERLANG%\\bin;%HOME_GO%\\bin;C:\\Program Files\\heroku\\bin;%HOME_JULIA%\\bin;%HOME_NIM%\\bin;C:\\Software\\PostgreSQL\\15\\bin;C:\\Software\\poppler-0.68.0\\bin;C:\\Software\\Python\\Python310;C:\\Software\\Python\\Python310\\Scripts;C:\\Software\\rebar3;%HOME_RUST%\\bin;C:\\Software\\Tesseract-OCR;C:\\Software\\jdk-18.0.2\\bin;%KOTLIN_HOME%\\bin;C:\\Software\\oracle\\instantclient_21_6;C:\\Software\\Gpg4win\\..\\GnuPG\\bin;C:\\Program Files\\LLVM\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Program Files\\Amazon\\AWSCLIV2\\;C:\\Program Files\\Git\\cmd;C:\\Program Files\\PuTTY\\;C:\\Software\\texlive\\2022\\bin\\win32;C:\\Users\\walte\\.cargo\\bin;C:\\Users\\walte\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Software\\Microsoft VS Code\\bin;C:\\Users\\walte\\go\\bin;c:\\users\\walte\\.local\\bin;C:\\Users\\walte\\AppData\\Local\\JetBrains\\Toolbox\\scripts;C:\\Users\\walte\\AppData\\Roaming\\npm;C:\\Software\\MiKTeX\\miktex\\bin\\x64\\;.\n1671278827279: javaVersion: 11.0.13\n1671278827279:\n1671278827279: Verifying RazorSQL resources location.\n1671278827279:\n1671278827280: testing base url: / = file:/C:/Program%20Files/RazorSQL/\n1671278827280:\n1671278827280: testString1: file:/C:/Program%20Files/RazorSQL/razorsql.jar\n1671278827280: testString2: file:/C:/Program%20Files/RazorSQL/data/base.ssql\n1671278827280: testFile1: C:\\Program Files\\RazorSQL\\razorsql.jar\n1671278827280: testFile2: C:\\Program Files\\RazorSQL\\data\\base.ssql\n1671278827281: both test file exists.  Base URL found.\n1671278827281: resource directory: file:/C:/Program%20Files/RazorSQL/\n1671278827281: user home: C:\\Users\\walte\n1671278827282: user profile: C:\\Users\\walte\n1671278827282: app data: C:\\Users\\walte\\AppData\\Roaming\n1671278827282: checking write access to: C:\\Users\\walte\\AppData\\Roaming\n1671278827283: write dir: C:\\Users\\walte\\AppData\\Roaming\\RichardsonSoftware\n1671278827283: can write to C:\\Users\\walte\\AppData\\Roaming\n1671278827283: user.home: C:\\Users\\walte\\AppData\\Roaming\n1671278827283: RazorSQL Scratch Directory: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\n1671278827283: RazorSQL Scratch Directory exists\n1671278827283: checking for sub directories\n1671278827283: razorsql launch log: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\razorsql_launch_log.txt\n1671278827284: launch log file = C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\razorsql_launch_log.txt\n1671278827284: Checking for graphics properties\n1671278827284: graphics properties file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\graphics_properties.txt\n1671278827284: gOverride: null\n1671278827285: not disabling advanced graphics\n1671278827285: path0: file:/C:/Program%20Files/RazorSQL/data/run.ssql\n1671278827285: path1: file:/C:/Program%20Files/RazorSQL/razorsql.jar\n1671278827285: runArgs: true\n1671278827285: showScreen: false\n1671278827285: args[0]: -backup\n1671278827286: args[1]: IO-AVSTATS\n1671278827286: args[2]: null\n1671278827286: args[3]: null\n1671278827286: args[4]: ;\n1671278827286: args[5]: null\n1671278827286: args[6]: D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\up15DEC.sql\n1671278827286: args[7]: NO\n1671278827286: args[8]: tables\n1671278827286: args[9]: YES\n1671278827286: args[10]: null\n1671278827286: args[11]: NO\n1671278827286: args[12]: NO\n1671278827286: Command: -backup\n1671278827286: Running -backup\nh: name = C:\\Program Files\\RazorSQL\\data\\run.ssql\nh: name = C:\\Program Files\\RazorSQL\\razorsql.jar\n1671278827293: Attempting to load . . .\ncommand found\nuOne: file:/C:/Program%20Files/RazorSQL/\nh: name = C:\\Program Files\\RazorSQL\\data\\run.ssql\n1671278827303reading file . . .C:\\Program Files\\RazorSQL\\data\\base.ssql\n1671278827327done reading . . .\n1671278827336done converting\n1671278827336starting lib load.\n1671278827347lib load complete.\nIn command line processor\nMax Memory: 30688.0\nCurrent Total Memory: 2048.0\nFree Memory: 1957.998046875\n1671278827417: r init\n1671278827417: d init\n1671278827417: get default file encoding\n1671278827418: end d init\ncustom home directory: null\nChecking for user data from old versions\n1671278827419: user home: C:\\Users\\walte\n1671278827419: user profile: C:\\Users\\walte\n1671278827419: app data: C:\\Users\\walte\\AppData\\Roaming\n1671278827419: checking write access to: C:\\Users\\walte\\AppData\\Roaming\n1671278827419: write dir: C:\\Users\\walte\\AppData\\Roaming\\RichardsonSoftware\n1671278827419: can write to C:\\Users\\walte\\AppData\\Roaming\nnewHome: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\ndataHome: C:\\Users\\walte\\AppData\\Roaming/RazorSQL/data/\npreferences file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\preferences.txt\nProfiles Exist\n1671278827429: loading icons\n1671278827591: done r init\nGetting connection data from: IO-AVSTATS\n1671278827593: r init\n1671278827593: d init\n1671278827593: get default file encoding\n1671278827593: end d init\ncustom home directory: null\nChecking for user data from old versions\nnewHome: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\ndataHome: C:\\Users\\walte\\AppData\\Roaming/RazorSQL/data/\npreferences file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\preferences.txt\nProfiles Exist\n1671278827594: loading icons\n1671278827603: done r init\ngetting connection . . .\nNot using SSH Tunnel\ndriver: sun.jdbc.odbc.JdbcOdbcDriver\nclassLocation: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nloadedCommonJars: false\ncommonURL: file:/C:/Program%20Files/RazorSQL/drivers/common/\ncommonDir: C:\\Program Files\\RazorSQL\\drivers\\common\ncommonFiles[0]: file:/C:/Program%20Files/RazorSQL/drivers/common/activation.jar\ncommonFiles[1]: file:/C:/Program%20Files/RazorSQL/drivers/common/common.jar\ncommonFiles[2]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-api.jar\ncommonFiles[3]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-core.jar\ncommonFiles[4]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-impl.jar\ncommonFiles[6]: file:/C:/Program%20Files/RazorSQL/drivers/common/odbc.jar\nconnection type: ODBC\nfinal classLocation: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nclassLocation file: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nbuilding sql manager\nLoading driver\nDone loading driver\nGetting connection with no login info\nJdbcOdbcDriver: in initialize\nOdbcApi == null\nCreating new OdbcApi, nativePrefix:\nJdbcOdbc constructor\nAttempting to load JdbcOdbc library\nGot OdbcApi: sun.jdbc.odbc.JdbcOdbc@2d127a61\nGetting charset\nJdbcOdbcDriver.OdbcApi.charSet: Cp1252\nConnection obtained\nobtained connection\ndatabase major version = 2\ndatabase product name: ACCESS\nmultiValueInsert: false\nincludeIdentifyColumns: false\nCalling backup . . .\nRetrieving Tables . . .\nGenerating Table DDL . . .\n1 of 20\nnumber of columns 93\ncolumn map size: 93\nfoundNull: false\n2 of 20\nnumber of columns 2\ncolumn map size: 2\nfoundNull: false\n3 of 20\nnumber of columns 11\ncolumn map size: 11\nfoundNull: false\n4 of 20\nnumber of columns 2\ncolumn map size: 2\nfoundNull: false\n5 of 20\nnumber of columns 6\ncolumn map size: 6\nfoundNull: false\n6 of 20\nnumber of columns 5\ncolumn map size: 5\nfoundNull: false\n7 of 20\nnumber of columns 7\ncolumn map size: 7\nfoundNull: false\n8 of 20\nnumber of columns 13\ncolumn map size: 13\nfoundNull: false\n9 of 20\nnumber of columns 17\ncolumn map size: 17\nfoundNull: false\n10 of 20\nnumber of columns 73\ncolumn map size: 73\nfoundNull: false\n11 of 20\nnumber of columns 10\ncolumn map size: 10\nfoundNull: false\n12 of 20\nnumber of columns 13\ncolumn map size: 13\nfoundNull: false\n13 of 20\nnumber of columns 33\ncolumn map size: 33\nfoundNull: false\n14 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n15 of 20\nnumber of columns 7\ncolumn map size: 7\nfoundNull: false\n16 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n17 of 20\nnumber of columns 5\ncolumn map size: 5\nfoundNull: false\n18 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n19 of 20\nnumber of columns 11\ncolumn map size: 11\nfoundNull: false\n20 of 20\nnumber of columns 3\ncolumn map size: 3\nfoundNull: false\nGenerating Alter Table DDL . . .\n1 of 20\n2 of 20\n3 of 20\n4 of 20\n5 of 20\n6 of 20\n7 of 20\n8 of 20\n9 of 20\n10 of 20\n11 of 20\n12 of 20\n13 of 20\n14 of 20\n15 of 20\n16 of 20\n17 of 20\n18 of 20\n19 of 20\n20 of 20\nbackup finished\nclosing connection . . .\nconnection closed.\nShutting down logging streams\nDone shutting down logging streams\nExiting . . .\nProgress update 2022-12-17 13:07:08.208772 : INFO.00.011 The DDL script for the MS Access database 'up15DEC.mdb' was created successfully.\nProgress update 2022-12-17 13:07:08.216271 : INFO.00.012 The DDL script for the MS Access database 'up15DEC.mdb' is identical to the reference script.\nProgress update 2022-12-17 13:07:08.216271 : -------------------------------------------------------------------------------.\nProgress update 2022-12-17 13:07:08.216271 :        4,294,822,800 ns - Total time launcher.\nProgress update 2022-12-17 13:07:08.216271 : INFO.00.006 End   Launcher.\nProgress update 2022-12-17 13:07:08.216772 : ===============================================================================.\n\n-----------------------------------------------------------------------\nThe current time is: 13:07:08.37\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#22-l_n_a-load-ntsb-ms-access-database-data-into-postgresql","title":"2.2 <code>l_n_a</code> - Load NTSB MS Access database data into PostgreSQL","text":"<p>Relevant cofiguration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] l_n_a\n=========================================================\nIO-AVSTATS.mdb\nup01DEC.mdb\nup08DEC.mdb\nup15DEC.mdb\nup22OCT.mdb\n---------------------------------------------------------\nEnter the stem name of the desired MS Access database file up15DEC\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : l_n_a\nCORRECTION :\nMSACCESS   : up15DEC\n-----------------------------------------------------------------------\nThe current time is:  3:01:56.55\nEnter the new time:\n=======================================================================\nProgress update 2022-12-18 03:01:59.422228 : ===============================================================================.\nProgress update 2022-12-18 03:01:59.422228 : INFO.00.004 Start Launcher.\nProgress update 2022-12-18 03:01:59.424228 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-18 03:01:59.432728 : INFO.00.008 Arguments task='l_n_a' msaccess='up15DEC'.\nProgress update 2022-12-18 03:01:59.433228 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 03:01:59.433228 : INFO.00.049 Loading NTSB MS Access database data from  file 'up15DEC'.\nProgress update 2022-12-18 03:01:59.433228 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:01:59.433228 : INFO.00.054 ODBC driver='DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};DBQ=D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats\\data\\download\\up15DEC.mdb;'.\nProgress update 2022-12-18 03:02:00.468009 : INFO.00.021 The following database table is not processed: 'MSysAccessObjects'.\nProgress update 2022-12-18 03:02:00.468009 : INFO.00.021 The following database table is not processed: 'MSysACEs'.\nProgress update 2022-12-18 03:02:00.468009 : INFO.00.021 The following database table is not processed: 'MSysIMEXColumns'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysIMEXSpecs'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysModules2'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupCategories'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroups'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysNavPaneGroupToObjects'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysNavPaneObjectIDs'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysObjects'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysQueries'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'MSysRelationships'.\nProgress update 2022-12-18 03:02:00.468510 : INFO.00.021 The following database table is not processed: 'Country'.\nProgress update 2022-12-18 03:02:00.469012 : INFO.00.021 The following database table is not processed: 'ct_iaids'.\nProgress update 2022-12-18 03:02:00.469012 : INFO.00.021 The following database table is not processed: 'ct_seqevt'.\nProgress update 2022-12-18 03:02:00.469012 : INFO.00.021 The following database table is not processed: 'eADMSPUB_DataDictionary'.\nProgress update 2022-12-18 03:02:00.469012 : INFO.00.021 The following database table is not processed: 'states'.\nProgress update 2022-12-18 03:02:00.469012 :\nProgress update 2022-12-18 03:02:00.469012 : Database table       : events              &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:02.829483 : Number rows selected :     77.\nProgress update 2022-12-18 03:02:02.829483 : Number rows inserted :     15.\nProgress update 2022-12-18 03:02:02.829997 : Number rows updated  :     62.\nProgress update 2022-12-18 03:02:02.829997 :\nProgress update 2022-12-18 03:02:02.829997 : Database table       : aircraft            &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:07.828401 : Number rows selected :     77.\nProgress update 2022-12-18 03:02:07.828401 : Number rows inserted :     15.\nProgress update 2022-12-18 03:02:07.828903 : Number rows updated  :     62.\nProgress update 2022-12-18 03:02:07.828903 :\nProgress update 2022-12-18 03:02:07.828903 : Database table       : dt_events           &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:18.425030 : Number rows selected :    385.\nProgress update 2022-12-18 03:02:18.425030 : Number rows inserted :    159.\nProgress update 2022-12-18 03:02:18.425523 : Number rows updated  :    226.\nProgress update 2022-12-18 03:02:18.425523 :\nProgress update 2022-12-18 03:02:18.425523 : Database table       : ntsb_admin          &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:20.508241 : Number rows selected :     77.\nProgress update 2022-12-18 03:02:20.508241 : Number rows inserted :     15.\nProgress update 2022-12-18 03:02:20.508241 : Number rows updated  :     62.\nProgress update 2022-12-18 03:02:20.508241 :\nProgress update 2022-12-18 03:02:20.508241 : Database table       : dt_aircraft         &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:37.020238 : Number rows selected :    683.\nProgress update 2022-12-18 03:02:37.020238 : Number rows inserted :    385.\nProgress update 2022-12-18 03:02:37.020738 : Number rows updated  :    298.\nProgress update 2022-12-18 03:02:37.020738 :\nProgress update 2022-12-18 03:02:37.020738 : Database table       : engines             &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:38.360943 : Number rows selected :     47.\nProgress update 2022-12-18 03:02:38.361447 : Number rows inserted :     36.\nProgress update 2022-12-18 03:02:38.361447 : Number rows updated  :     11.\nProgress update 2022-12-18 03:02:38.361447 :\nProgress update 2022-12-18 03:02:38.361447 : Database table       : events_sequence     &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:41.193854 : Number rows selected :    108.\nProgress update 2022-12-18 03:02:41.194353 : Number rows inserted :     62.\nProgress update 2022-12-18 03:02:41.194353 : Number rows updated  :     46.\nProgress update 2022-12-18 03:02:41.194353 :\nProgress update 2022-12-18 03:02:41.194353 : Database table       : findings            &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:43.593633 : Number rows selected :     94.\nProgress update 2022-12-18 03:02:43.593633 : Number rows inserted :     94.\nProgress update 2022-12-18 03:02:43.593633 :\nProgress update 2022-12-18 03:02:43.594133 : Database table       : flight_crew         &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:45.726279 : Number rows selected :     74.\nProgress update 2022-12-18 03:02:45.726279 : Number rows inserted :     57.\nProgress update 2022-12-18 03:02:45.726279 : Number rows updated  :     17.\nProgress update 2022-12-18 03:02:45.726279 :\nProgress update 2022-12-18 03:02:45.726781 : Database table       : injury              &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:53.998519 : Number rows selected :    305.\nProgress update 2022-12-18 03:02:53.998519 : Number rows inserted :     97.\nProgress update 2022-12-18 03:02:53.998519 : Number rows updated  :    208.\nProgress update 2022-12-18 03:02:53.999019 :\nProgress update 2022-12-18 03:02:53.999019 : Database table       : narratives          &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:55.873454 : Number rows selected :     60.\nProgress update 2022-12-18 03:02:55.873454 : Number rows inserted :     39.\nProgress update 2022-12-18 03:02:55.873454 : Number rows updated  :     21.\nProgress update 2022-12-18 03:02:55.873454 :\nProgress update 2022-12-18 03:02:55.873454 : Database table       : occurrences         &lt;-----------------------------------.\nProgress update 2022-12-18 03:02:55.885477 : Number rows selected :      0.\nProgress update 2022-12-18 03:02:55.885477 :\nProgress update 2022-12-18 03:02:55.885477 : Database table       : dt_flight_crew      &lt;-----------------------------------.\nProgress update 2022-12-18 03:03:04.629342 : Number rows selected :    338.\nProgress update 2022-12-18 03:03:04.629342 : Number rows inserted :    280.\nProgress update 2022-12-18 03:03:04.629844 : Number rows updated  :     58.\nProgress update 2022-12-18 03:03:04.629844 :\nProgress update 2022-12-18 03:03:04.629844 : Database table       : flight_time         &lt;-----------------------------------.\nProgress update 2022-12-18 03:03:24.973637 : Number rows selected :    774.\nProgress update 2022-12-18 03:03:24.973637 : Number rows inserted :    676.\nProgress update 2022-12-18 03:03:24.973637 : Number rows updated  :     98.\nProgress update 2022-12-18 03:03:24.973637 :\nProgress update 2022-12-18 03:03:24.974133 : Database table       : seq_of_events       &lt;-----------------------------------.\nProgress update 2022-12-18 03:03:24.994181 : Number rows selected :      0.\nProgress update 2022-12-18 03:03:25.075929 : INFO.00.065 Cleansing PostgreSQL data.\nProgress update 2022-12-18 03:03:25.075929 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:03:25.142428 : INFO.00.066 Cleansing table 'events' column 'ev_city'.\nProgress update 2022-12-18 03:03:28.571816 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:03:28.572316 : INFO.00.066 Cleansing table 'events' column 'ev_site_zipcode'.\nProgress update 2022-12-18 03:03:31.104986 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:03:31.104986 : INFO.00.066 Cleansing table 'events' column 'latitude'.\nProgress update 2022-12-18 03:03:33.629172 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:03:33.629172 : INFO.00.066 Cleansing table 'events' column 'longitude'.\nProgress update 2022-12-18 03:03:36.180510 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 03:03:36.180510 :       96,908,281,000 ns - Total time launcher.\nProgress update 2022-12-18 03:03:36.180510 : INFO.00.006 End   Launcher.\nProgress update 2022-12-18 03:03:36.180510 : ===============================================================================.\n\n-----------------------------------------------------------------------\nThe current time is:  3:03:36.36\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#221-data-quality-check","title":"2.2.1 Data quality check","text":"<p>Query:</p> <pre><code>SELECT count(*) \"Count\",\n       'Events Total' \"Description\"\n  FROM events e\n UNION\nSELECT count(*) ,\n       'Events Total with Fatalities'\n  FROM events e\n WHERE inj_tot_f &gt; 0\n UNION\nSELECT count(*) ,\n       'Events US'\n  FROM events e\n WHERE ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) ,\n       'Events US with Fatalities'\n  FROM events e\n WHERE inj_tot_f &gt; 0\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) \"Count\",\n       'Events Total since 1982' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 1982\n UNION\nSELECT count(*) ,\n       'Events Total with Fatalities since 1982'\n  FROM events e\n WHERE ev_year &gt;= 1982\n   AND inj_tot_f &gt; 0\n UNION\nSELECT count(*) ,\n       'Events US since 1982'\n  FROM events e\n WHERE ev_year &gt;= 1982\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) ,\n       'Events US with Fatalities since 1982'\n  FROM events e\n WHERE ev_year &gt;= 1982\n   AND inj_tot_f &gt; 0\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) \"Count\",\n       'Events Total since 2008' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 2008\n UNION\nSELECT count(*) ,\n       'Events Total with Fatalities since 2008'\n  FROM events e\n WHERE ev_year &gt;= 2008\n   AND inj_tot_f &gt; 0\n UNION\nSELECT count(*) ,\n       'Events US since 2008'\n  FROM events e\n WHERE ev_year &gt;= 2008\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n UNION\nSELECT count(*) ,\n       'Events US with Fatalities since 2008'\n  FROM events e\n WHERE ev_year &gt;= 2008\n   AND inj_tot_f &gt; 0\n   AND ev_state IS NOT NULL\n   AND ev_state IN (SELECT state\n                      FROM io_states is2)\n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description                            |\n-----+---------------------------------------+\n88091|Events Total                           |\n88084|Events Total since 1982                |\n25055|Events Total since 2008                |\n17576|Events Total with Fatalities           |\n17570|Events Total with Fatalities since 1982|\n 5260|Events Total with Fatalities since 2008|\n81107|Events US                              |\n81100|Events US since 1982                   |\n20750|Events US since 2008                   |\n14689|Events US with Fatalities              |\n14683|Events US with Fatalities since 1982   |\n 3501|Events US with Fatalities since 2008   |\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#23-d_s_f-download-basic-simplemaps-files","title":"2.3 <code>d_s_f</code> - Download basic simplemaps files","text":"<p>Relevant cofiguration parameters:</p> <pre><code>download_chunk_size = 524288\ndownload_timeout = 10\ndownload_file_simplemaps_us_cities_xlsx = \"uscities.xlsx\"\ndownload_file_simplemaps_us_cities_zip = \"simplemaps_uscities_basicv1.75.zip\"\ndownload_file_simplemaps_us_zips_xlsx = \"uszips.xlsx\"\ndownload_file_simplemaps_us_zips_zip = \"simplemaps_uszips_basicv1.81.zip\"\ndownload_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] d_s_f\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : d_s_f\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  3:10:34.78\nEnter the new time:\n=======================================================================\nProgress update 2022-12-18 03:10:36.547946 : ===============================================================================.\nProgress update 2022-12-18 03:10:36.547946 : INFO.00.004 Start Launcher.\nProgress update 2022-12-18 03:10:36.549946 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-18 03:10:36.558445 : INFO.00.005 Argument task='d_s_f'.\nProgress update 2022-12-18 03:10:36.558945 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 03:10:36.558945 : INFO.00.048 Downloading basic simplemaps files.\nProgress update 2022-12-18 03:10:36.558945 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:10:36.743463 : INFO.00.030 The connection to the US city file 'simplemaps_uscities_basicv1.75.zip' on the simplemaps download page was successfully established.\nProgress update 2022-12-18 03:10:36.919741 : INFO.00.023 From the file 'simplemaps_uscities_basicv1.75.zip' 8 chunks were downloaded.\nProgress update 2022-12-18 03:10:36.951741 : INFO.00.024 The file 'simplemaps_uscities_basicv1.75.zip' was successfully unpacked.\nProgress update 2022-12-18 03:10:37.131672 : INFO.00.022 The connection to the US zip code file 'simplemaps_uszips_basicv1.81.zip' on the simplemaps download page was successfully established.\nProgress update 2022-12-18 03:10:37.226532 : INFO.00.023 From the file 'simplemaps_uszips_basicv1.81.zip' 8 chunks were downloaded.\nProgress update 2022-12-18 03:10:37.262050 : INFO.00.024 The file 'simplemaps_uszips_basicv1.81.zip' was successfully unpacked.\nProgress update 2022-12-18 03:10:37.262549 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 03:10:37.262549 :          870,102,500 ns - Total time launcher.\nProgress update 2022-12-18 03:10:37.262549 : INFO.00.006 End   Launcher.\nProgress update 2022-12-18 03:10:37.262549 : ===============================================================================.\n\n-----------------------------------------------------------------------\nThe current time is:  3:10:37.41\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre> <p>The downloaded files <code>uscities.csv</code> and <code>uszips.xlsx</code> must be checked with the reference files in the file directory <code>data/reference</code> for a match. If there is no mismatch, then the next step can be skipped.</p>"},{"location":"how_to_add_ntsb_accident_files.html#24-l_s_d-load-simplemaps-data-into-postgresql","title":"2.4 <code>l_s_d</code> - Load simplemaps data into PostgreSQL","text":"<p>Only necessary if the file downloaded in the previous step contains changes.</p> <p>TODO</p> <p>Relevant cofiguration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>TODO\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#25-download-the-zip-code-database-file","title":"2.5 Download the ZIP Code Database file","text":"<p>The <code>Personal Free</code> version of the ZIP Code Database file must be downloaded manually from the <code>https://www.unitedstateszipcodes.org/zip-code-database/</code> website to the file directory according to the <code>download_work_dir</code> configuration parameter.</p>  <p>The two formats <code>Excel Format (data only)</code> and <code>CSV Format</code> must be downloaded one after the other. The downloaded file <code>zip_code_database.csv</code> must be checked with the reference files in the file directory <code>data/reference</code> for a match. If there is no mismatch, then the next step can be skipped.</p> <p>Relevant cofiguration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#26-l_z_d-load-zip-code-database-data-into-postgresql","title":"2.6 <code>l_z_d</code> - Load ZIP Code Database data into PostgreSQL","text":"<p>Only necessary if the file downloaded in the previous step contains changes.</p> <p>TODO</p> <p>Relevant cofiguration parameters:</p> <pre><code>download_work_dir = \"data/download\"\n</code></pre> <p>Example protocol:</p> <pre><code>TODO\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#27-l_c_d-load-data-from-a-correction-file-into-postgresql","title":"2.7 <code>l_c_d</code> - Load data from a correction file into PostgreSQL","text":"<p>This step only needs to be performed if modified or new correction files are available.</p> <p>Relevant cofiguration parameters:</p> <pre><code>correction_work_dir = \"data/correction\"\n</code></pre> <p>Example protocol:</p> <pre><code>TODO\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#28-c_l_l-correct-decimal-us-latitudes-and-longitudes","title":"2.8 <code>c_l_l</code> - Correct decimal US latitudes and longitudes","text":"<p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] c_l_l\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : c_l_l\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  3:48:26.10\nEnter the new time:\n=======================================================================\nProgress update 2022-12-18 03:48:27.970732 : ===============================================================================.\nProgress update 2022-12-18 03:48:27.970732 : INFO.00.004 Start Launcher.\nProgress update 2022-12-18 03:48:27.972731 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-18 03:48:27.981231 : INFO.00.005 Argument task='c_l_l'.\nProgress update 2022-12-18 03:48:27.981231 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 03:48:27.981231 : INFO.00.040 Correct decimal US latitudes and longitudes.\nProgress update 2022-12-18 03:48:27.981231 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:48:31.040942 : INFO.00.063 Processed data source 'events'.\nProgress update 2022-12-18 03:48:31.040942 : Number cols deleted  :  60561.\nProgress update 2022-12-18 03:48:31.040942 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 03:50:40.621017 : Number of rows so far read :   5000.\nProgress update 2022-12-18 03:52:41.946249 : Number of rows so far read :  10000.\nProgress update 2022-12-18 03:54:48.519956 : Number of rows so far read :  15000.\nProgress update 2022-12-18 03:56:53.584921 : Number of rows so far read :  20000.\nProgress update 2022-12-18 03:59:01.258705 : Number of rows so far read :  25000.\nProgress update 2022-12-18 04:01:09.806450 : Number of rows so far read :  30000.\nProgress update 2022-12-18 04:03:12.247750 : Number of rows so far read :  35000.\nProgress update 2022-12-18 04:05:16.963868 : Number of rows so far read :  40000.\nProgress update 2022-12-18 04:07:21.854231 : Number of rows so far read :  45000.\nProgress update 2022-12-18 04:09:33.068583 : Number of rows so far read :  50000.\nProgress update 2022-12-18 04:11:47.889551 : Number of rows so far read :  55000.\nProgress update 2022-12-18 04:14:07.417816 : Number of rows so far read :  60000.\nProgress update 2022-12-18 04:16:14.266251 : Number of rows so far read :  65000.\nProgress update 2022-12-18 04:18:20.373523 : Number of rows so far read :  70000.\nProgress update 2022-12-18 04:20:29.429655 : Number of rows so far read :  75000.\nProgress update 2022-12-18 04:22:47.616519 : Number of rows so far read :  80000.\nProgress update 2022-12-18 04:24:49.899572 : Number of rows so far read :  85000.\nProgress update 2022-12-18 04:26:53.415653 : Number of rows so far read :  90000.\nProgress update 2022-12-18 04:29:00.088868 : Number of rows so far read :  95000.\nProgress update 2022-12-18 04:31:06.729171 : Number of rows so far read : 100000.\nProgress update 2022-12-18 04:33:26.507860 : Number of rows so far read : 105000.\nProgress update 2022-12-18 04:35:45.652623 : Number of rows so far read : 110000.\nProgress update 2022-12-18 04:37:52.009456 : Number of rows so far read : 115000.\nProgress update 2022-12-18 04:39:51.601865 : Number of rows so far read : 120000.\nProgress update 2022-12-18 04:42:02.349044 : Number of rows so far read : 125000.\nProgress update 2022-12-18 04:44:07.523367 : Number of rows so far read : 130000.\nProgress update 2022-12-18 04:46:14.330089 : Number of rows so far read : 135000.\nProgress update 2022-12-18 04:46:16.882015 : Number rows selected : 135089.\nProgress update 2022-12-18 04:46:16.882015 : Number rows updated  : 135089.\nProgress update 2022-12-18 04:46:16.882015 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 04:46:16.882015 :    3,469,058,783,600 ns - Total time launcher.\nProgress update 2022-12-18 04:46:16.882516 : INFO.00.006 End   Launcher.\nProgress update 2022-12-18 04:46:16.882516 : ===============================================================================.\n\n-----------------------------------------------------------------------\nThe current time is:  4:46:17.03\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#281-data-quality-check","title":"2.8.1 Data quality check","text":"<p>Query Total::</p> <pre><code>SELECT count(*) \"Count\",\n       io_dec_lat_lng_actions\n  FROM events \n WHERE io_dec_lat_lng_actions IS NOT NULL \n GROUP BY io_dec_lat_lng_actions \n ORDER BY io_dec_lat_lng_actions\n</code></pre> <p>Results:</p> <pre><code>Count|io_dec_lat_lng_actions                                                                                                                                                                                                                                         |\n-----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n  510|ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                           |\n 4088|ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n  586|ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                                                              |\n    5|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                      |\n    4|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                      |\n   14|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                                                         |\n   14|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                                                         |\n    8|ERROR.00.922 Invalid US state id &amp; INFO.00.033 Correction based on US zip code                                                                                                                                                                                 |\n    3|ERROR.00.922 Invalid US state id &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n   91|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                      |\n    1|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00|\n    2|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                              |\n42689|INFO.00.033 Correction based on US zip code                                                                                                                                                                                                                    |\n 1292|INFO.00.034 Correction based on US state and city                                                                                                                                                                                                              |\n10959|INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                                                         |\n  101|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string                                                                                                                                                                  |\n    4|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                   |\n   64|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; INFO.00.033 Correction based on US zip code                                                                            |\n  123|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                                                                 |\n</code></pre> <p>Query Total since 1982::</p> <pre><code>SELECT count(*) \"Count\",\n       io_dec_lat_lng_actions\n  FROM events \n WHERE ev_year &gt;= 1982\n   AND io_dec_lat_lng_actions IS NOT NULL \n GROUP BY io_dec_lat_lng_actions \n ORDER BY io_dec_lat_lng_actions\n</code></pre> <p>Results:</p> <pre><code>Count|io_dec_lat_lng_actions                                                                                                                                                                                                                                         |\n-----+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n  510|ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                           |\n 4088|ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n  586|ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                                                                                                                              |\n    5|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                      |\n    4|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                      |\n   14|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country                                                                                                         |\n   14|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                                                                                                                         |\n    8|ERROR.00.922 Invalid US state id &amp; INFO.00.033 Correction based on US zip code                                                                                                                                                                                 |\n    3|ERROR.00.922 Invalid US state id &amp; INFO.00.034 Correction based on US state and city                                                                                                                                                                           |\n   91|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                      |\n    1|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00|\n    2|ERROR.00.922 Invalid US state id &amp; INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                              |\n42685|INFO.00.033 Correction based on US zip code                                                                                                                                                                                                                    |\n 1291|INFO.00.034 Correction based on US state and city                                                                                                                                                                                                              |\n10957|INFO.00.037 Correction based on latitude and longitude                                                                                                                                                                                                         |\n  101|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string                                                                                                                                                                  |\n    4|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                   |\n   64|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.920 Invalid latitude string &amp; ERROR.00.921 Invalid longitude string &amp; INFO.00.033 Correction based on US zip code                                                                            |\n  123|INFO.00.037 Correction based on latitude and longitude &amp; ERROR.00.921 Invalid longitude string                                                                                                                                                                 |\n</code></pre> <p>Query Total since 2008::</p> <pre><code>SELECT count(*) \"Count\",\n       io_dec_lat_lng_actions\n  FROM events \n WHERE ev_year &gt;= 2008\n   AND io_dec_lat_lng_actions IS NOT NULL \n GROUP BY io_dec_lat_lng_actions \n ORDER BY io_dec_lat_lng_actions\n</code></pre> <p>Results:</p> <pre><code>Count|io_dec_lat_lng_actions                                                                                                                                   |\n-----+---------------------------------------------------------------------------------------------------------------------------------------------------------+\n    1|ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                     |\n    7|ERROR.00.915 Unknown US zip code &amp; INFO.00.034 Correction based on US state and city                                                                     |\n    6|ERROR.00.916 Unknown US state and city &amp; INFO.00.035 Correction based on US state                                                                        |\n    1|ERROR.00.922 Invalid US state id &amp; ERROR.00.915 Unknown US zip code &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country|\n    8|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; ERROR.00.917 Unknown US state &amp; INFO.00.036 Correction based on US country   |\n   10|ERROR.00.922 Invalid US state id &amp; ERROR.00.916 Unknown US state and city &amp; INFO.00.036 Correction based on US country                                   |\n   16|INFO.00.033 Correction based on US zip code                                                                                                              |\n   32|INFO.00.034 Correction based on US state and city                                                                                                        |\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#29-v_n_d-verify-selected-ntsb-data","title":"2.9 <code>v_n_d</code> - Verify selected NTSB data","text":"<p>Relevant cofiguration parameters:</p> <pre><code>max_deviation_latitude = 0.01\nmax_deviation_longitude = 0.01\n</code></pre> <p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] v_n_d\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : v_n_d\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  7:01:26.47\nEnter the new time:\n=======================================================================\nProgress update 2022-12-18 07:01:28.302801 : ===============================================================================.\nProgress update 2022-12-18 07:01:28.303299 : INFO.00.004 Start Launcher.\nProgress update 2022-12-18 07:01:28.305302 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-18 07:01:28.313799 : INFO.00.005 Argument task='v_n_d'.\nProgress update 2022-12-18 07:01:28.313799 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 07:01:28.313799 : INFO.00.043 Verify selected NTSB data.\nProgress update 2022-12-18 07:01:28.313799 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:01:29.791861 : INFO.00.063 Processed data source 'events'.\nProgress update 2022-12-18 07:01:29.791861 : Number cols deleted  :  27378.\nProgress update 2022-12-18 07:01:29.791861 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:01:29.847379 : INFO.00.064 Verification of table 'events' column(s) 'latitude &amp; longitude'.\nProgress update 2022-12-18 07:01:29.847879 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:01:30.779339 : Number of rows so far read :   5000.\nProgress update 2022-12-18 07:01:35.923824 : Number of rows so far read :  10000.\nProgress update 2022-12-18 07:02:21.619041 : Number of rows so far read :  15000.\nProgress update 2022-12-18 07:03:23.893470 : Number of rows so far read :  20000.\nProgress update 2022-12-18 07:04:30.130890 : Number of rows so far read :  25000.\nProgress update 2022-12-18 07:05:33.466294 : Number of rows so far read :  30000.\nProgress update 2022-12-18 07:06:30.937809 : Number rows errors   :  12374.\nProgress update 2022-12-18 07:06:30.937809 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:06:30.938308 : INFO.00.064 Verification of table 'events' column(s) 'ev_city'.\nProgress update 2022-12-18 07:06:32.108776 : Number rows errors   :   6041.\nProgress update 2022-12-18 07:06:32.108776 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:06:32.108776 : INFO.00.064 Verification of table 'events' column(s) 'ev_city &amp; ev_site_zipcode'.\nProgress update 2022-12-18 07:06:33.699993 : Number rows errors   :  16516.\nProgress update 2022-12-18 07:06:33.700494 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:06:33.700494 : INFO.00.064 Verification of table 'events' column(s) 'ev_state'.\nProgress update 2022-12-18 07:06:34.416462 : Number rows errors   :    291.\nProgress update 2022-12-18 07:06:34.416462 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:06:34.416462 : INFO.00.064 Verification of table 'events' column(s) 'ev_site_zipcode'.\nProgress update 2022-12-18 07:06:34.866764 : Number rows errors   :   6034.\nProgress update 2022-12-18 07:06:34.866764 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:06:34.867763 : Number rows selected :  34324.\nProgress update 2022-12-18 07:06:34.867763 : Number rows updated  :  41256.\nProgress update 2022-12-18 07:06:34.867763 : Number rows errors   :  41256.\nProgress update 2022-12-18 07:06:34.868264 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 07:06:34.868264 :      306,720,465,000 ns - Total time launcher.\nProgress update 2022-12-18 07:06:34.868264 : INFO.00.006 End   Launcher.\nProgress update 2022-12-18 07:06:34.868264 : ===============================================================================.\n\n-----------------------------------------------------------------------\nThe current time is:  7:06:35.04\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#291-data-quality-check","title":"2.9.1 Data quality check","text":"<p>Query Total::</p> <pre><code>SELECT count(*) \"Count\",\n       'Latitude deviation' \"Description\"\n  FROM events e\n WHERE io_dec_latitude_deviating IS NOT NULL \n UNION\nSELECT count(*),\n       'Longitude deviation'\n  FROM events e\n WHERE io_dec_longitude_deviating IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Latitude'\n  FROM events e\n WHERE io_invalid_latitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Longitude'\n  FROM events e\n WHERE io_invalid_longitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City'\n  FROM events e\n WHERE io_invalid_us_city IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City &amp; Zipcode'\n  FROM events e\n WHERE io_invalid_us_city_zipcode IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US State'\n  FROM events e\n WHERE io_invalid_us_state IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US Zipcode'\n  FROM events e\n WHERE io_invalid_us_zipcode IS NOT NULL \n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description              |\n-----+-------------------------+\n 3800|Invalid Latitude         |\n 4123|Invalid Longitude        |\n 6042|Invalid US City          |\n16525|Invalid US City &amp; Zipcode|\n  292|Invalid US State         |\n 6040|Invalid US Zipcode       |\n 3722|Latitude deviation       |\n 3652|Longitude deviation      |\n</code></pre> <p>Query US since 1982::</p> <pre><code>SELECT count(*) \"Count\",\n       'Latitude deviation' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_dec_latitude_deviating IS NOT NULL \n UNION\nSELECT count(*),\n       'Longitude deviation'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_dec_longitude_deviating IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Latitude'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_invalid_latitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Longitude'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_invalid_longitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_invalid_us_city IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City &amp; Zipcode'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_invalid_us_city_zipcode IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US State'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_invalid_us_state IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US Zipcode'\n  FROM events e\n WHERE ev_year &gt;= 1982 \n   AND io_invalid_us_zipcode IS NOT NULL \n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description              |\n-----+-------------------------+\n 3628|Invalid Latitude         |\n 3927|Invalid Longitude        |\n 1191|Invalid US City          |\n 4104|Invalid US City &amp; Zipcode|\n  169|Invalid US State         |\n  927|Invalid US Zipcode       |\n 3721|Latitude deviation       |\n 3652|Longitude deviation      |\n</code></pre> <p>Query US Accidents since 1982::</p> <pre><code>SELECT count(*) \"Count\",\n       'Latitude deviation' \"Description\"\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_dec_latitude_deviating IS NOT NULL \n UNION\nSELECT count(*),\n       'Longitude deviation'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_dec_longitude_deviating IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Latitude'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_latitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid Longitude'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_longitude IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_city IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US City &amp; Zipcode'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_city_zipcode IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US State'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_state IS NOT NULL \n UNION\nSELECT count(*) ,\n       'Invalid US Zipcode'\n  FROM events e\n WHERE ev_year &gt;= 2008 \n   AND io_invalid_us_zipcode IS NOT NULL \n ORDER BY 2\n</code></pre> <p>Results:</p> <pre><code>Count|Description              |\n-----+-------------------------+\n 3628|Invalid Latitude         |\n 3927|Invalid Longitude        |\n 1191|Invalid US City          |\n 4104|Invalid US City &amp; Zipcode|\n  169|Invalid US State         |\n  927|Invalid US Zipcode       |\n 3721|Latitude deviation       |\n 3652|Longitude deviation      |\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#210-r_d_s-refresh-the-postgresql-database-schema","title":"2.10 <code>r_d_s</code> - Refresh the PostgreSQL database schema","text":"<p>Example protocol:</p> <pre><code>...\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] r_d_s\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : r_d_s\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  7:51:13.14\nEnter the new time:\n=======================================================================\nProgress update 2022-12-18 07:51:14.915905 : ===============================================================================.\nProgress update 2022-12-18 07:51:14.915905 : INFO.00.004 Start Launcher.\nProgress update 2022-12-18 07:51:14.918905 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-18 07:51:14.927904 : INFO.00.005 Argument task='r_d_s'.\nProgress update 2022-12-18 07:51:14.927904 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 07:51:14.928406 : INFO.00.071 Refreshing the database schema.\nProgress update 2022-12-18 07:51:14.928406 : --------------------------------------------------------------------------------\nProgress update 2022-12-18 07:51:23.134620 : INFO.00.069 Materialized database view is refreshed: io_app_aaus1982.\nProgress update 2022-12-18 07:51:23.134620 : -------------------------------------------------------------------------------.\nProgress update 2022-12-18 07:51:23.135120 :        8,366,215,500 ns - Total time launcher.\nProgress update 2022-12-18 07:51:23.135120 : INFO.00.006 End   Launcher.\nProgress update 2022-12-18 07:51:23.135120 : ===============================================================================.\n\n-----------------------------------------------------------------------\nThe current time is:  7:51:23.31\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_add_ntsb_accident_files.html#211-backup-the-file-directory-datapostgres","title":"2.11 Backup the file directory <code>data/postgres</code>","text":"<ul> <li>Stop the Docker container <code>io_avstats_db</code>.</li> <li>Zip the file directory <code>postgres</code> in the file directory <code>data</code> - result is the file <code>postgres.zip</code>.</li> <li>Rename the file <code>postgres.sql</code> to <code>yy.mm.dd_postgres_upDDMON.zip</code>.</li> <li>Create a copy of the file <code>yy.mm.dd_postgres_upDDMON.zip</code> with the name <code>latest_postgres.zip</code>.</li> </ul>"},{"location":"how_to_add_ntsb_accident_files.html#212-update-the-google-drive","title":"2.12 Update the Google Drive","text":"<ul> <li>Log in to Google Drive with the Google Account <code>io-avstats.io-aero@gmail.com</code>.</li> <li>Upload the file <code>yy.mm.dd_postgres_upDDMON.zip</code>.</li> <li>Share the newly uploaded file.</li> </ul>"},{"location":"how_to_add_ntsb_accident_files.html#213-update-io-avstats-in-the-io-aero-cloud","title":"2.13 Update IO-AVSTATS in the IO-Aero cloud","text":"<ul> <li>Run the script <code>scripts/run_cloud_files_zip</code>.</li> <li>Upload the resulting <code>cloud.zip</code> file to the cloud and process it there.</li> </ul>"},{"location":"how_to_add_ntsb_accident_files.html#214-update-io-avstats-in-the-io-aero-cloud","title":"2.14 Update IO-AVSTATS in the IO-Aero cloud","text":"<pre><code>SELECT count(*)   AS no_rows,\n       'aircraft' AS db_table\nFROM aircraft\nunion\nSELECT count(*)      AS no_rows,\n       'dt_aircraft' AS db_table\nFROM dt_aircraft\nunion\nSELECT count(*)    AS no_rows,\n       'dt_events' AS db_table\nFROM dt_events\nunion\nSELECT count(*)         AS no_rows,\n       'dt_flight_crew' AS db_table\nFROM dt_flight_crew\nunion\nSELECT count(*)  AS no_rows,\n       'engines' AS db_table\nFROM engines\nunion\nSELECT count(*) AS no_rows,\n       'events' AS db_table\nFROM events\nunion\nSELECT count(*)          AS no_rows,\n       'events_sequence' AS db_table\nFROM events_sequence\nunion\nSELECT count(*)   AS no_rows,\n       'findings' AS db_table\nFROM findings\nunion\nSELECT count(*)      AS no_rows,\n       'flight_crew' AS db_table\nFROM flight_crew\nunion\nSELECT count(*)      AS no_rows,\n       'flight_time' AS db_table\nFROM flight_time\nunion\nSELECT count(*) AS no_rows,\n       'injury' AS db_table\nFROM injury\nunion\nSELECT count(*)     AS no_rows,\n       'narratives' AS db_table\nFROM narratives\nunion\nSELECT count(*)     AS no_rows,\n       'ntsb_admin' AS db_table\nFROM ntsb_admin\nunion\nSELECT count(*)      AS no_rows,\n       'occurrences' AS db_table\nFROM occurrences\nunion\nSELECT count(*)        AS no_rows,\n       'seq_of_events' AS db_table\nFROM seq_of_events\norder by db_table\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html","title":"How to create a new Streamlit app checklist","text":""},{"location":"how_to_create_new_streamlit_app.html#1-naming-conventions","title":"1. Naming Conventions","text":"Identification Header     aaus1982 Aircraft Accidents in the US since 1982   pdus1982 Profiling Data for the US since 1982"},{"location":"how_to_create_new_streamlit_app.html#2-coding","title":"2. Coding","text":"<p>Adherence to the following recommendations will ensure consistent usability across all of IO-Aero's Streamlit applications:</p> <ul> <li>Use the sidebar for task and filter related controls</li> <li>Position the task-related controls in the sidebar at the top and the global filter elements at the bottom</li> <li>Make the task-related control elements visible only after the associated task has been selected</li> </ul> <pre><code>choice_data_profile = st.sidebar.checkbox(\n    help=\"Pandas profiling of the dataset.\",\n    label=\"**`Show data profile`**\",\n    value=False,\n)\n\nif choice_data_profile:\n    choice_data_profile_type = st.sidebar.radio(\n        help=\"explorative: thorough but also slow - minimal: minimal but faster.\",\n        index=1,\n        label=\"Data profile type\",\n        options=(\n            [\n                \"explorative\",\n                \"minimal\",\n            ]\n        ),\n    )\n    choice_data_profile_file = st.sidebar.checkbox(\n        help=\"Export the Pandas profile into a file.\",\n        label=\"Export profile to file\",\n        value=False,\n    )\n</code></pre> <ul> <li>Separate the individual tasks and the filter elements with separator line</li> </ul> <pre><code>st.sidebar.markdown(\"\"\"---\"\"\")\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#3-documentation","title":"3. Documentation","text":"<p>see file directory <code>docs</code></p>"},{"location":"how_to_create_new_streamlit_app.html#31-config_io_avstatsmd","title":"3.1 config_io_avstats.md","text":"<pre><code>...\n| streamlit_server_port_aaus1982          | 8501                                          | Streamlit port number for application aaus1982                           |\n| streamlit_server_port_pdus1982          | 8502                                          | Streamlit port number for application pdus1982                           |\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#32-how_to_setup_aws_instancemd","title":"3.2 how_to_setup_aws_instance.md","text":"<pre><code>...\n## 2. Open port numbers\n\nEach Streamlit application must be assigned its own port number so that they can run simultaneously.\nCurrently, the following Streamlit applications are supported:\n\n| Port | Application                                        |\n|------|----------------------------------------------------|\n| 8501 | aaus1982 - Aircraft Accidents in the US since 1982 |\n| 8502 | pdus1982 - Profiling Data for the US since 1982    |\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#33-how_to_update_avstats_on_awsmd","title":"3.3 how_to_update_avstats_on_aws.md","text":"<pre><code>...\n## 1. Docker images\n\nCurrently, the following Streamlit applications are supported:\n\n| Application | Description                             |\n|-------------|-----------------------------------------|\n| aaus1982    | Aircraft Accidents in the US since 1982 |\n| pdus1982    | Profiling Data for the US since 1982    |\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#34-indexmd","title":"3.4 index.md","text":"<pre><code>...\nCurrently, it includes the following applications:\n\n- aaus1982 - Aircraft Accidents in the US since 1982\n- pdus1982 - Profiling Data for the US since 1982\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#35-operationmd","title":"3.5 Operation.md","text":"<pre><code>...\nTODO\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#4-parameterization","title":"4. Parameterization","text":""},{"location":"how_to_create_new_streamlit_app.html#41-docker-composeyml","title":"4.1 docker-compose.yml","text":"<pre><code>...\n  # ------------------------------------------------------------------------------\n  # aaus1982 - Aircraft Accidents in the US since 1982.\n  # ------------------------------------------------------------------------------\n  app_aaus1982:\n    container_name: aaus1982\n    depends_on:\n      - db\n    image: ioaero/aaus1982:latest\n    ports:\n      - \"${IO_AVSTATS_STREAMLIT_SERVER_PORT_AAUS1982}:${IO_AVSTATS_STREAMLIT_SERVER_PORT}\"\n    restart: always\n\n  # ------------------------------------------------------------------------------\n  # pdus1982 - Profiling Data for the US since 1982.\n  # ------------------------------------------------------------------------------\n  app_pdus1982:\n    container_name: pdus1982\n    depends_on:\n      - db\n    image: ioaero/pdus1982:latest\n    ports:\n      - \"${IO_AVSTATS_STREAMLIT_SERVER_PORT_PDUS1982}:${IO_AVSTATS_STREAMLIT_SERVER_PORT}\"\n    restart: always\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#42-settingsio_avstatstoml-settingsio_avstats_4_dockerfiletoml","title":"4.2 settings.io_avstats.toml / settings.io_avstats_4_dockerfile.toml","text":"<pre><code>...\nstreamlit_server_port_aaus1982 = 8501\nstreamlit_server_port_pdus1982 = 8502\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#5-scripts","title":"5. Scripts","text":""},{"location":"how_to_create_new_streamlit_app.html#51-run_io_avstats","title":"5.1 run_io_avstats","text":"<p>cmd:</p> <pre><code>...\nif [\"%IO_AVSTATS_TASK%\"] EQU [\"r_s_a\"] (\n    if [\"%2\"] EQU [\"\"] (\n        echo =========================================================\n        echo aaus1982 - Aircraft Accidents in the US since 1982\n        echo pdus1982 - Profiling Data for the US since 1982\n        echo ---------------------------------------------------------\n        set /P IO_AVSTATS_APPLICATION=\"Enter the Streamlit application name \"\n    ) else (\n        set IO_AVSTATS_APPLICATION=%2\n    )\n)\n...\n</code></pre> <p>bash:</p> <pre><code>...\nif [ \"${IO_AVSTATS_TASK}\" = \"r_s_a\" ]; then\n    if [ -z \"$2\" ]; then\n        echo \"=========================================================\"\n        echo \"aaus1982 - Aircraft Accidents in the US since 1982\"\n        echo \"pdus1982 - Profiling Data for the US since 1982\"\n        echo \"---------------------------------------------------------\"\n        # shellcheck disable=SC2162\n        read -p \"Enter the Streamlit application name \" IO_AVSTATS_APPLICATION\n        export IO_AVSTATS_APPLICATION=${IO_AVSTATS_APPLICATION}\n    else\n        export IO_AVSTATS_APPLICATION=$2\n    fi\nfi\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#52-see-file-directory-scripts","title":"5.2 See file directory <code>scripts</code>","text":""},{"location":"how_to_create_new_streamlit_app.html#521-scriptsrun_create_image","title":"5.2.1 scripts/run_create_image","text":"<p>cmd:</p> <pre><code>...\nif [\"%1\"] EQU [\"\"] (\n    echo =========================================================\n    echo aaus1982 - Aircraft Accidents in the US since 1982\n    echo pdus1982 - Profiling Data for the US since 1982\n    echo ---------------------------------------------------------\n    set /P APPLICATION=\"Enter the desired application name [default: %APPLICATION_DEFAULT%] \"\n\n    if [\"!APPLICATION!\"] EQU [\"\"] (\n        set APPLICATION=%APPLICATION_DEFAULT%\n    )\n) else (\n    set APPLICATION=%1\n)\n...\n</code></pre> <p>bash:</p> <pre><code>...\nif [ -z \"$1\" ]; then\n    echo \"=========================================================\"\n    echo \"aaus1982 - Aircraft Accidents in the US since 1982\"\n    echo \"pdus1982 - Profiling Data for the US since 1982\"\n    echo \"---------------------------------------------------------\"\n    read -p \"Enter the desired application name [default: ${APPLICATION_DEFAULT}] \" APPLICATION\n    export APPLICATION=${APPLICATION}\n\n    if [ -z \"${APPLICATION}\" ]; then\n        export APPLICATION=${APPLICATION_DEFAULT}\n    fi\nelse\n    export APPLICATION=$1\nfi\n...\n</code></pre>"},{"location":"how_to_create_new_streamlit_app.html#522-scriptsrun_docker_compose","title":"5.2.2 scripts/run_docker_compose","text":"<p>cmd:</p> <pre><code>...\nset IO_AVSTATS_STREAMLIT_SERVER_PORT_AAUS1982=8501\nset IO_AVSTATS_STREAMLIT_SERVER_PORT_PDUS1982=8502\n...\necho STREAMLIT_SRRVER_PORT_AAUS1982 : %IO_AVSTATS_STREAMLIT_SERVER_PORT_AAUS1982%\necho STREAMLIT_SERVER_PORT_PDUS1982 : %IO_AVSTATS_STREAMLIT_SERVER_PORT_PDUS1982%\n...\n</code></pre> <p>bash:</p> <pre><code>...\nexport IO_AVSTATS_STREAMLIT_SERVER_PORT_AAUS1982=8501\nexport IO_AVSTATS_STREAMLIT_SERVER_PORT_PDUS1982=8502\n...\necho \"STREAMLIT_SRRVER_PORT_AAUS1982 : ${IO_AVSTATS_STREAMLIT_SERVER_PORT_AAUS1982}\"\necho \"STREAMLIT_SERVER_PORT_PDUS1982 : ${IO_AVSTATS_STREAMLIT_SERVER_PORT_PDUS1982}\"\n...\n</code></pre>"},{"location":"how_to_setup_aws_instance.html","title":"How to set up an AWS instance","text":"<p>Creating an AWS instance requires access to an AWS account as a root user or as an IAM user with appropriate permissions.</p> <p>IO-AVSTATS can be run on EC2 instances by default.  The EC2 instances are managed on the EC2 Dashboard.</p>"},{"location":"how_to_setup_aws_instance.html#1-instance-creation","title":"1. Instance creation","text":"<p>On the EC2 dashboard, select Instances and then Launch instance.</p>"},{"location":"how_to_setup_aws_instance.html#11-name-and-tags","title":"1.1 Name and tags","text":"<ul> <li><code>IO-AVSTATS</code></li> </ul>"},{"location":"how_to_setup_aws_instance.html#12-application-and-os-images","title":"1.2 Application and OS Images","text":"<ul> <li><code>Ubuntu Server 20.04 LTS (HVM), SSD Volume Type</code></li> </ul>"},{"location":"how_to_setup_aws_instance.html#13-instance-type","title":"1.3 Instance type","text":"<ul> <li><code>t3a.medium</code></li> </ul>"},{"location":"how_to_setup_aws_instance.html#14-key-pair-login","title":"1.4 Key pair (login)","text":"<ul> <li>Either choose an existing one or create a new one.</li> </ul>"},{"location":"how_to_setup_aws_instance.html#15-network-settings","title":"1.5 Network settings","text":""},{"location":"how_to_setup_aws_instance.html#16-configure-storage","title":"1.6 Configure Storage","text":"<ul> <li>1x <code>30</code> GiB</li> </ul>"},{"location":"how_to_setup_aws_instance.html#17-launch-instance","title":"1.7 Launch instance","text":""},{"location":"how_to_setup_aws_instance.html#2-open-port-numbers","title":"2. Open port numbers","text":"<p>Each Streamlit application must be assigned its own port number so that they can run simultaneously. Currently, the following Streamlit applications are supported:</p>    Port Application     8501 aaus1982 - Aircraft Accidents in the US since 1982   8502 pdus1982 - Profiling Data for the US since 1982"},{"location":"how_to_setup_aws_instance.html#21-determine-the-security","title":"2.1 Determine the security","text":"<p>To determine the security group assigned to the intance: on the EC2 dashboard, select Instances and then Security.</p>"},{"location":"how_to_setup_aws_instance.html#22-choose-the-security-group","title":"2.2 Choose the security group","text":"<p>To choose the security group assigned to the instance: on the EC2 dashboard, select Security Groups and Security.</p>"},{"location":"how_to_setup_aws_instance.html#23-open-the-port-numbers","title":"2.3 Open the port numbers","text":"<p>For each streamline application port number press <code>Add rule</code> and enter the data.</p>"},{"location":"how_to_setup_aws_instance.html#24-finsh-with-save-rules","title":"2.4 Finsh with <code>Save rules</code>","text":""},{"location":"how_to_setup_aws_instance.html#3-upload-installation-script","title":"3. Upload installation script","text":"<p>On Windows, the WinSCP program can be used to upload data from the local system to the AWS Cloud. The script to be uploaded is called <code>run_cloud_setup_instance.sh</code>.</p>"},{"location":"how_to_setup_aws_instance.html#4-run-installation-script","title":"4. Run installation script","text":""},{"location":"how_to_setup_aws_instance.html#41-load-terminal-window","title":"4.1 Load terminal window","text":""},{"location":"how_to_setup_aws_instance.html#42-run_cloud_setup_instance","title":"4.2 <code>run_cloud_setup_instance</code>","text":"<p><code>chmod +x run_cloud_setup_instance.sh</code> </p> <p><code>./run_cloud_setup_instance.sh</code> </p> <p>Example protocol:</p> <pre><code>ubuntu@ip-172-31-89-93:~$ chmod +x run_cloud_setup_instance.sh\nubuntu@ip-172-31-89-93:~$ ./run_cloud_setup_instance.sh\n==============================================================================\nStart ./run_cloud_setup_instance.sh\n------------------------------------------------------------------------------\nDATE TIME : 19.12.2022 10:49:15\n==============================================================================\nSupplement necessary system software\n------------------------------------------------------------------------------\nHit:1 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal InRelease\nGet:2 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]\nGet:3 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]\nGet:4 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]\nGet:5 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 Packages [8628 kB]\nGet:6 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe Translation-en [5124 kB]\nGet:7 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/universe amd64 c-n-f Metadata [265 kB]\nGet:8 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [144 kB]\nGet:9 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse Translation-en [104 kB]\nGet:10 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal/multiverse amd64 c-n-f Metadata [9136 B]\nGet:11 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2269 kB]\nGet:12 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main Translation-en [395 kB]\nGet:13 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/main amd64 c-n-f Metadata [16.1 kB]\nGet:14 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1476 kB]\nGet:15 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted Translation-en [208 kB]\nGet:16 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/restricted amd64 c-n-f Metadata [592 B]\nGet:17 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1009 kB]\nGet:18 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe Translation-en [234 kB]\nGet:19 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/universe amd64 c-n-f Metadata [23.2 kB]\nGet:20 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [24.5 kB]\nGet:21 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse Translation-en [7380 B]\nGet:22 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 c-n-f Metadata [592 B]\nGet:23 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [45.7 kB]\nGet:24 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main Translation-en [16.3 kB]\nGet:25 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/main amd64 c-n-f Metadata [1420 B]\nGet:26 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/restricted amd64 c-n-f Metadata [116 B]\nGet:27 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [24.9 kB]\nGet:28 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe Translation-en [16.3 kB]\nGet:29 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/universe amd64 c-n-f Metadata [880 B]\nGet:30 http://us-east-1.ec2.archive.ubuntu.com/ubuntu focal-backports/multiverse amd64 c-n-f Metadata [116 B]\nGet:31 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1895 kB]\nGet:32 http://security.ubuntu.com/ubuntu focal-security/main Translation-en [311 kB]\nGet:33 http://security.ubuntu.com/ubuntu focal-security/main amd64 c-n-f Metadata [11.5 kB]\nGet:34 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1385 kB]\nGet:35 http://security.ubuntu.com/ubuntu focal-security/restricted Translation-en [195 kB]\nGet:36 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 c-n-f Metadata [596 B]\nGet:37 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [778 kB]\nGet:38 http://security.ubuntu.com/ubuntu focal-security/universe Translation-en [150 kB]\nGet:39 http://security.ubuntu.com/ubuntu focal-security/universe amd64 c-n-f Metadata [16.8 kB]\nGet:40 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [22.2 kB]\nGet:41 http://security.ubuntu.com/ubuntu focal-security/multiverse Translation-en [5464 B]\nGet:42 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 c-n-f Metadata [516 B]\nFetched 25.2 MB in 4s (5617 kB/s)\nReading package lists...\n\n...\n\n=============================================================================&gt; Version  Docker Compose:\n\nCurrent version of Docker Compose: docker-compose version 1.25.0, build unknown\ndocker-py version: 4.1.0\nCPython version: 3.8.10\nOpenSSL version: OpenSSL 1.1.1f  31 Mar 2020\n\n==============================================================================\n\n=============================================================================&gt; Version  Docker Desktop:\n\nCurrent version of Docker Desktop: Client: Docker Engine - Community\n Version:           20.10.22\n API version:       1.41\n Go version:        go1.18.9\n Git commit:        3a2c30b\n Built:             Thu Dec 15 22:28:08 2022\n OS/Arch:           linux/amd64\n Context:           default\n Experimental:      true\n\nServer: Docker Engine - Community\n Engine:\n  Version:          20.10.22\n  API version:      1.41 (minimum version 1.12)\n  Go version:       go1.18.9\n  Git commit:       42c8b31\n  Built:            Thu Dec 15 22:25:58 2022\n  OS/Arch:          linux/amd64\n  Experimental:     false\n containerd:\n  Version:          1.6.13\n  GitCommit:        78f51771157abb6c9ed224c22013cdf09962315d\n runc:\n  Version:          1.1.4\n  GitCommit:        v1.1.4-0-g5fd4c4d\n docker-init:\n  Version:          0.19.0\n  GitCommit:        de40ad0\n\n==============================================================================\n\n=============================================================================&gt; Version  dos2unix:\n\nCurrent version of dos2unix: dos2unix 7.4.0 (2017-10-10)\nWith Unicode UTF-16 support.\nWith native language support.\nWith support to preserve the user and group ownership of files.\nLOCALEDIR: /usr/share/locale\nhttp://waterlan.home.xs4all.nl/dos2unix.html\n\n==============================================================================\n\n=============================================================================&gt; Version  unzip:\n\nCurrent version of unzip: UnZip 6.00 of 20 April 2009, by Debian. Original by Info-ZIP.\n\nLatest sources and executables are at ftp://ftp.info-zip.org/pub/infozip/ ;\nsee ftp://ftp.info-zip.org/pub/infozip/UnZip.html for other sites.\n\nCompiled with gcc 9.4.0 for Unix (Linux ELF).\n\nUnZip special compilation options:\n        ACORN_FTYPE_NFS\n        COPYRIGHT_CLEAN (PKZIP 0.9x unreducing method not supported)\n        SET_DIR_ATTRIB\n        SYMLINKS (symbolic links supported, if RTL and file system permit)\n        TIMESTAMP\n        UNIXBACKUP\n        USE_EF_UT_TIME\n        USE_UNSHRINK (PKZIP/Zip 1.x unshrinking method supported)\n        USE_DEFLATE64 (PKZIP 4.x Deflate64(tm) supported)\n        UNICODE_SUPPORT [wide-chars, char coding: UTF-8] (handle UTF-8 paths)\n        LARGE_FILE_SUPPORT (large files over 2 GiB supported)\n        ZIP64_SUPPORT (archives using Zip64 for large files supported)\n        USE_BZIP2 (PKZIP 4.6+, using bzip2 lib version 1.0.8, 13-Jul-2019)\n        VMS_TEXT_CONV\n        WILD_STOP_AT_DIR\n        [decryption, version 2.11 of 05 Jan 2007]\n\nUnZip and ZipInfo environment options:\n           UNZIP:  [none]\n        UNZIPOPT:  [none]\n         ZIPINFO:  [none]\n      ZIPINFOOPT:  [none]\n\n==============================================================================\n\n--------------------------------------------------------------------------------\nDATE TIME : 19.12.2022 10:50:52\n--------------------------------------------------------------------------------\nEnd   ./run_cloud_setup_instance.sh\n================================================================================\n</code></pre>"},{"location":"how_to_update_avstats_on_aws.html","title":"How to update IO-AVSTATS in an AWS instance","text":"<p>The cloud version of IO-AVSTATS consists of a series of docker containers that are launched using Docker Compose. For the PostgreSQL database, the official DockerHub image from here is used. A separate Docker image is created for each of the Streamlit applications. </p>"},{"location":"how_to_update_avstats_on_aws.html#1-docker-images","title":"1. Docker images","text":"<p>Currently, the following Streamlit applications are supported:</p>    Application Description     all All Streamlit applications   aaus1982 Aircraft Accidents in the US since 1982   pdus1982 Profiling Data for the US since 1982    <p>The script <code>run_io_avstats</code> with task <code>c_d_i</code> can be used to create or update the necessary Docker images.</p> <p>Example protocol:</p> <pre><code>...&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nc_d_i   - Create or update a Docker image\nc_d_c   - Run Docker Compose tasks\nc_f_z   - Zip the files for the cloud\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] c_d_i\n=========================================================\nall      - All Streamlit applications\n---------------------------------------------------------\naaus1982 - Aircraft Accidents in the US since 1982\npdus1982 - Profiling Data for the US since 1982\n---------------------------------------------------------\nEnter the Streamlit application name all\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : c_d_i\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  5:26:55.43\nEnter the new time:\n=======================================================================\n\nScript scripts\\run_create_image is now running - Application: all\n\nYou can find the run log in the file run_create_image.log\n\nPlease wait ...\n\n=======================================================================\nStart scripts\\run_create_image\n-----------------------------------------------------------------------\nCreate a Docker image for application all\n-----------------------------------------------------------------------\nDOCKER_CLEAR_CACHE       : yes\nDOCKER_HUB_PUSH          : yes\nSTREAMLIT_SERVER_PORT    : 8501\n-----------------------------------------------------------------------\nThe current time is:  5:26:55.49\nEnter the new time:\n=======================================================================\n\nScript scripts\\run_create_image is now running - Application: aaus1982\n\nYou can find the run log in the file run_create_image.log\n\nPlease wait ...\n\n=======================================================================\nStart scripts\\run_create_image\n-----------------------------------------------------------------------\nCreate a Docker image for application aaus1982\n-----------------------------------------------------------------------\nDOCKER_CLEAR_CACHE       : yes\nDOCKER_HUB_PUSH          : yes\nSTREAMLIT_SERVER_PORT    : 8501\n-----------------------------------------------------------------------\nThe current time is:  5:26:55.51\nEnter the new time:\n=======================================================================\nDeleted build cache objects:\nuzxx25i0lxo6i63dn7x6m43sf\nk6ij499naa2h1rato1wusqsnb\nybs0ov6x6brbw3mza4ebom3tn\njrl57t6dmkmh16a8cr05eel4v\nmr3hfgjbcvgownt6cgt42hhj8\nv1cew3osiidfg3zjw7oefaxz3\nudbfolcspdf4533lc9km5tlx6\nmpwj560p2a3iao6zvntnb9bmd\najtls8cd4v7c2j0145wpdt62m\nqyva0m4glms5i06qpk50ngydn\n0m34yyo0nfo0njcenkvxgbzuo\ncykj0j5z3dspf7qkltlgiehcx\njhduefpbk7sfzdp3vvw39mcgh\nxee28brnh8940r3yvbt2rvygj\n6b57pxquyoxvqemkpgtwhh0s1\nsvwrr9owakmy9jywyvm3zo0zc\nwjiwh0jvnfkv721221wjbmnjd\nuhf3bsyz66ya2dgg812bxpmj3\n8fq8uoy7bul7us3xbc4y7notj\nodzccrtlsypmao8i86phdqbem\nis2due0y1dwyos9twpcy88qmu\n\nTotal reclaimed space: 2.785GB\nDocker stop/rm aaus1982 ................................ before containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                    PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Up 24 minutes             0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 24 minutes (healthy)   0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 24 minutes             0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. after containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                    PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Up 24 minutes             0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 24 minutes (healthy)   0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 24 minutes             0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. before images:\nREPOSITORY               TAG       IMAGE ID       CREATED        SIZE\nioaero/pdus1982          latest    21178cc3b8bc   36 hours ago   3.71GB\nioaero/aaus1982          latest    55595e574018   36 hours ago   3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago     382MB\npostgres                 latest    a26eb6069868   11 days ago    379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago   350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago   285MB\nioaero/aaus1982          latest    55595e574018   36 hours ago   3.71GB\nUntagged: ioaero/aaus1982:latest\nUntagged: ioaero/aaus1982@sha256:8e0508754352cf9fbfd5c1957df825aab5703d8ec7ed85d6c44358f0bc701e2d\nDeleted: sha256:55595e574018ea4759bb7a13e51aaea8e869fe84e49c17ff05f5234b0b65f6b0\nDeleted: sha256:119fc70cf352a239f7e323ba1d9b7603fb77e899ca0db5b4bc994b577cb55f45\nDeleted: sha256:8922e3751ae2b60d598394358173719c4043d29ae71e8d709a305a5432f70f36\nDeleted: sha256:6a95257bdb25543436f2741138e8e4cdee6121409b665f51d2f2fdcb3228a8bc\nDeleted: sha256:7c6422e12c7c23e441493c9177661519dd616a418c7cd9ea6c3acfab981b5279\nDeleted: sha256:3539296c13a8b190f45a4d7d66330d3396e5b1d5e81200ae492b0a0b1fe8b914\nDeleted: sha256:06758fe39d1e7343a30e0f4d62d57abd997164a4840c6af6136953f12953f81d\nDeleted: sha256:6a2295de770bec3782f572ee92533e5c120dda4a7a8f07faea3fe21a8fa5b9d2\nDeleted: sha256:82fa1f4f9b491d32fa8f2fda71e7c8223f2ea66d85b92b19869554e4342f2a55\n............................................................. after images:\nREPOSITORY               TAG       IMAGE ID       CREATED        SIZE\nioaero/pdus1982          latest    21178cc3b8bc   36 hours ago   3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago     382MB\npostgres                 latest    a26eb6069868   11 days ago    379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago   350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago   285MB\n[+] Building 126.0s (16/16) FINISHED\n =&gt; [internal] load build definition from Dockerfile                                                                                                                                  0.1s\n =&gt; =&gt; transferring dockerfile: 685B                                                                                                                                                  0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                     0.1s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                       0.0s\n =&gt; [internal] load metadata for docker.io/library/python:3.10.9                                                                                                                      1.6s\n =&gt; [auth] library/python:pull token for registry-1.docker.io                                                                                                                         0.0s\n =&gt; [internal] load build context                                                                                                                                                     0.1s\n =&gt; =&gt; transferring context: 54.51kB                                                                                                                                                  0.0s\n =&gt; [ 1/10] FROM docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                              0.3s\n =&gt; =&gt; resolve docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                                0.0s\n =&gt; =&gt; sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6 2.36kB / 2.36kB                                                                                        0.0s\n =&gt; =&gt; sha256:3aae3bded9cfb06e92d7342abf1833b156fe197522ffbde031363194c429c8d5 8.53kB / 8.53kB                                                                                        0.0s\n =&gt; =&gt; sha256:08dfb526b02f1b849ca4ce479b51f100448053a67b64905a63dcdad2fe6802c5 2.22kB / 2.22kB                                                                                        0.0s\n =&gt; [ 2/10] WORKDIR /home                                                                                                                                                             0.0s\n =&gt; [ 3/10] COPY .settings.io_avstats.toml ./                                                                                                                                         0.0s\n =&gt; [ 4/10] COPY .streamlit/config.toml ./.streamlit/                                                                                                                                 0.0s\n =&gt; [ 5/10] COPY .streamlit/secrets_4_dockerfile.toml ./.streamlit/secrets.toml                                                                                                       0.0s\n =&gt; [ 6/10] COPY Makefile ./                                                                                                                                                          0.0s\n =&gt; [ 7/10] COPY Pipfile ./                                                                                                                                                           0.0s\n =&gt; [ 8/10] COPY settings.io_avstats_4_dockerfile.toml ./settings.io_avstats.toml                                                                                                     0.0s\n =&gt; [ 9/10] COPY src/streamlit_apps/aaus1982.py ./aaus1982.py                                                                                                                         0.0s\n =&gt; [10/10] RUN make pipenv-prod                                                                                                                                                    116.1s\n =&gt; exporting to image                                                                                                                                                                7.6s\n =&gt; =&gt; exporting layers                                                                                                                                                               7.6s\n =&gt; =&gt; writing image sha256:9c52d19f49cab5d423d3829c9bf9a275646a6c8102664798439d2f6a8a36ec70                                                                                          0.0s\n =&gt; =&gt; naming to docker.io/ioaero/aaus1982                                                                                                                                            0.0s\nUsing default tag: latest\nThe push refers to repository [docker.io/ioaero/aaus1982]\ne0d3af52dd2a: Pushed\n02cd2263f756: Pushed\n4303b7702627: Pushed\n09bdea621e5d: Pushed\n4fa461cf256d: Pushed\n36b2ed23b0c8: Pushed\nbf522582bcc8: Pushed\n568d53719d94: Pushed\n5f70bf18a086: Layer already exists\n6cda7fb97c48: Layer already exists\na5ea5c85f053: Layer already exists\n86ee53f76eff: Layer already exists\n248397b6b856: Layer already exists\nfa1175420e6f: Layer already exists\nbb2453e12947: Layer already exists\n7354e83da007: Layer already exists\nc284f546974c: Layer already exists\n4efcd4003c84: Layer already exists\nlatest: digest: sha256:7a10f6e705635ba099fc1e7751ce8ba7e8ab42a3effd1c85e5e391e87b3d7713 size: 4090\n-----------------------------------------------------------------------\nThe current time is:  5:29:48.32\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_create_image\n=======================================================================\n\nScript scripts\\run_create_image is now running - Application: pdus1982\n\nYou can find the run log in the file run_create_image.log\n\nPlease wait ...\n\n=======================================================================\nStart scripts\\run_create_image\n-----------------------------------------------------------------------\nCreate a Docker image for application pdus1982\n-----------------------------------------------------------------------\nDOCKER_CLEAR_CACHE       : yes\nDOCKER_HUB_PUSH          : yes\nSTREAMLIT_SERVER_PORT    : 8501\n-----------------------------------------------------------------------\nThe current time is:  5:29:48.34\nEnter the new time:\n=======================================================================\nDeleted build cache objects:\nthhicfsjzega5hhfsfhgazo5f\nc0hrwt7xm4gqwku594jwovtxy\nmj3v2y03lne206mx98ck6bs5q\nt91qc536n2yxg4khxtg8ujpy7\nmxil38rm6bwdx496jkxz7mlao\nd8yhfp8fu7c8pyswiomy19unw\nypkmd6a84ytbkimlxvc5hge2r\ntbn52lkr2rwt8kgl4taocwdq9\n0hhmtdy5632ayhrwjbknd6wmu\nv9nu6ong6kpge0wgy5hw7msd0\n5wab3qctjhthudw31strfmcas\ncvx5a4vxg4wl96bm66r65c3im\n05e4dt4o8ts5myzatdapc3zbp\nrei1avwchsi7rcwwwxyqj5bek\nuuz6tgeqx4aakkd5rk6mviwqw\nkuiq5mq3o4fdr7t1fjh59kf3z\nsz0a79o1lfbfjoffp2xad68d9\np5srd861jgkz1jim3hlagwy5k\nk9hr87wufmsxkrcn95mvzncx9\nd0y2kal9jkigo3d1iwmnv6c5x\ncop4h1ejwr20j5i6ilnjm2udh\n\nTotal reclaimed space: 2.787GB\nDocker stop/rm pdus1982 ................................ before containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                          PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Exited (0) About a minute ago                                                              io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 27 minutes (healthy)         0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 27 minutes                   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. after containers:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED        STATUS                          PORTS                                                      NAMES\n9e010303ef67   postgres:latest          \"docker-entrypoint.s\u2026\"   7 hours ago    Exited (0) About a minute ago                                                              io_avstats_db\n2f53ab870011   louislam/uptime-kuma:1   \"/usr/bin/dumb-init \u2026\"   6 days ago     Up 27 minutes (healthy)         0.0.0.0:3001-&gt;3001/tcp                                     uptime-kuma\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             2 months ago   Up 27 minutes                   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n............................................................. before images:\nREPOSITORY               TAG       IMAGE ID       CREATED          SIZE\nioaero/aaus1982          latest    9c52d19f49ca   53 seconds ago   3.71GB\nioaero/pdus1982          latest    21178cc3b8bc   36 hours ago     3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago       382MB\npostgres                 latest    a26eb6069868   11 days ago      379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago     350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago     285MB\nioaero/pdus1982          latest    21178cc3b8bc   36 hours ago     3.71GB\nUntagged: ioaero/pdus1982:latest\nUntagged: ioaero/pdus1982@sha256:81275d3926397906a73a897d067081b957a94c944c01fede413eb998916abdb3\nDeleted: sha256:21178cc3b8bc68774299f0015c9aff0ff819078d62174db6e13da31fe8253ece\nDeleted: sha256:b0403dd2d4728d6cdb151bdd2e182b3170de1b0cbf5f0b7e00c17dddcc389f5b\nDeleted: sha256:10742399ddf223a435aaf2674a553baf3c5a1345aad7d6a4f5dabe4a4398ad25\nDeleted: sha256:154ad29ff275517ad1f803aa1efc0bb372ea9f37d7f0273b432ae1dfa8af87c2\nDeleted: sha256:2ffd78873dbaec78fbcf969f45396338bdb809f38c04a41862f74c4d18ded62e\nDeleted: sha256:faf980ada2cc0547773a54a6a55bae285088dd9afb7f29a0f1f36a6230f406c9\nDeleted: sha256:9bbb505d8de414f3da1416a76cd56e6e8144e35652bf06b9b2f389d5ade00aea\nDeleted: sha256:ccd5b1ddd9e1cfb8897f307f303097fafd12e1cf3220603419c03a4394138653\nDeleted: sha256:2be71d95e8f20b84ab51375e52afc7665926a2ac52e22b32b82bb8f374082d13\n............................................................. after images:\nREPOSITORY               TAG       IMAGE ID       CREATED          SIZE\nioaero/aaus1982          latest    9c52d19f49ca   54 seconds ago   3.71GB\nlouislam/uptime-kuma     1         7a23beca3798   7 days ago       382MB\npostgres                 latest    a26eb6069868   11 days ago      379MB\nlouislam/uptime-kuma     &lt;none&gt;    930a7e08142f   2 months ago     350MB\nportainer/portainer-ce   latest    500504ac663a   3 months ago     285MB\n[+] Building 125.4s (15/15) FINISHED\n =&gt; [internal] load build definition from Dockerfile                                                                                                                                  0.0s\n =&gt; =&gt; transferring dockerfile: 685B                                                                                                                                                  0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                     0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                       0.0s\n =&gt; [internal] load metadata for docker.io/library/python:3.10.9                                                                                                                      1.0s\n =&gt; [ 1/10] FROM docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                              0.4s\n =&gt; =&gt; resolve docker.io/library/python:3.10.9@sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6                                                                0.0s\n =&gt; =&gt; sha256:e18f86de2e5eadcb00af7d57eefeeb377aec81a41d033bf20de426ae6c7bbff6 2.36kB / 2.36kB                                                                                        0.0s\n =&gt; =&gt; sha256:08dfb526b02f1b849ca4ce479b51f100448053a67b64905a63dcdad2fe6802c5 2.22kB / 2.22kB                                                                                        0.0s\n =&gt; =&gt; sha256:3aae3bded9cfb06e92d7342abf1833b156fe197522ffbde031363194c429c8d5 8.53kB / 8.53kB                                                                                        0.0s\n =&gt; [internal] load build context                                                                                                                                                     0.0s\n =&gt; =&gt; transferring context: 43.50kB                                                                                                                                                  0.0s\n =&gt; [ 2/10] WORKDIR /home                                                                                                                                                             0.0s\n =&gt; [ 3/10] COPY .settings.io_avstats.toml ./                                                                                                                                         0.1s\n =&gt; [ 4/10] COPY .streamlit/config.toml ./.streamlit/                                                                                                                                 0.0s\n =&gt; [ 5/10] COPY .streamlit/secrets_4_dockerfile.toml ./.streamlit/secrets.toml                                                                                                       0.0s\n =&gt; [ 6/10] COPY Makefile ./                                                                                                                                                          0.0s\n =&gt; [ 7/10] COPY Pipfile ./                                                                                                                                                           0.0s\n =&gt; [ 8/10] COPY settings.io_avstats_4_dockerfile.toml ./settings.io_avstats.toml                                                                                                     0.1s\n =&gt; [ 9/10] COPY src/streamlit_apps/pdus1982.py ./pdus1982.py                                                                                                                         0.0s\n =&gt; [10/10] RUN make pipenv-prod                                                                                                                                                    116.0s\n =&gt; exporting to image                                                                                                                                                                7.6s\n =&gt; =&gt; exporting layers                                                                                                                                                               7.6s\n =&gt; =&gt; writing image sha256:352591832f346b0b30d89f33e01572eb1710024841c0d6fecd53a74b22ca5c09                                                                                          0.0s\n =&gt; =&gt; naming to docker.io/ioaero/pdus1982                                                                                                                                            0.0s\nUsing default tag: latest\nThe push refers to repository [docker.io/ioaero/pdus1982]\nfcd1849b77ee: Pushed\n9b8fc3075985: Pushed\n23c8d1891816: Pushed\nadebe552f5a4: Pushed\n1dddc5e9e66a: Pushed\nad5de2585a3a: Pushed\nbf4ee8dfaa14: Pushed\n3e99a612e0bf: Pushed\n5f70bf18a086: Layer already exists\n6cda7fb97c48: Layer already exists\na5ea5c85f053: Layer already exists\n86ee53f76eff: Layer already exists\n248397b6b856: Layer already exists\nfa1175420e6f: Layer already exists\nbb2453e12947: Layer already exists\n7354e83da007: Layer already exists\nc284f546974c: Layer already exists\n4efcd4003c84: Layer already exists\nlatest: digest: sha256:466fe6edd661ee9067d0e77e0fbd1f44acbce0cc6e7f5468dd7e8bf1b6bf05ec size: 4090\n-----------------------------------------------------------------------\nThe current time is:  5:32:40.32\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_create_image\n=======================================================================\n-----------------------------------------------------------------------\nThe current time is:  5:32:40.33\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_create_image\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is:  5:32:40.34\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_update_avstats_on_aws.html#2-zip-local-files","title":"2. Zip local files","text":"<p>The script <code>run_io_avstats</code> with task <code>c_f_z</code> zips the required files into the <code>cloud.zip</code> file. The very first thing the script does is stop the PostgreSQL database so that the database files are in a consistent state. Then zip the file directory <code>data/postgres</code> and rename the zipped file <code>postgres.zip</code> to <code>latest_postgres.zip</code>.</p> <p>Example protocol:</p> <pre><code>D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats&gt;run_io_avstats\n=========================================================\nr_s_a   - Run a Streamlit application\n---------------------------------------------------------\nd_n_a   - Download a NTSB MS Access database file\nl_n_a   - Load NTSB MS Access database data into PostgreSQL\nc_l_l   - Correct decimal US latitudes and longitudes\nv_n_d   - Verify selected NTSB data\nr_d_s   - Refresh the PostgreSQL database schema\n---------------------------------------------------------\nc_p_d   - Cleansing PostgreSQL data\nd_s_f   - Download basic simplemaps files\nl_c_d   - Load data from a correction file into PostgreSQL\nl_c_s   - Load country and state data into PostgreSQL\nl_s_d   - Load simplemaps data into PostgreSQL\nl_z_d   - Load ZIP Code Database data into PostgreSQL\n---------------------------------------------------------\nc_d_s   - Create the PostgreSQL database schema\nd_d_f   - Delete the PostgreSQL database files\nd_d_s   - Drop the PostgreSQL database schema\ns_d_c   - Set up the PostgreSQL database container\nu_d_s   - Update the PostgreSQL database schema\n---------------------------------------------------------\nc_d_i   - Create or update a Docker image\nc_d_c   - Run Docker Compose tasks\nc_f_z   - Zip the files for the cloud\n---------------------------------------------------------\nversion - Show the IO-AVSTATS-DB version\n---------------------------------------------------------\nEnter the desired task [default: r_s_a] c_f_z\n\nScript run_io_avstats is now running\n=======================================================================\nStart run_io_avstats\n-----------------------------------------------------------------------\nIO-AVSTATS - Aviation Accident Statistics.\n-----------------------------------------------------------------------\nPYTHONPATH :\n-----------------------------------------------------------------------\nTASK       : c_f_z\nCORRECTION :\nMSACCESS   :\n-----------------------------------------------------------------------\nThe current time is:  5:35:14.64\nEnter the new time:\n=======================================================================\n=======================================================================\nStart scripts\\run_cloud_files_zip\n-----------------------------------------------------------------------\nFile Collection for AWS\n-----------------------------------------------------------------------\nThe current time is:  5:35:14.67\nEnter the new time:\n=======================================================================\n\n7-Zip (a) [32] 15.14 : Copyright (c) 1999-2015 Igor Pavlov : 2015-12-31\n\nScanning the drive:\n3 files, 290463129 bytes (278 MiB)\n\nCreating archive: cloud.zip\n\nItems to compress: 3\n\n\nFiles read from disk: 3\nArchive size: 280942218 bytes (268 MiB)\nEverything is Ok\n\n=======================================================================\nArchive Content\n-----------------------------------------------------------------------\n\n7-Zip (a) [32] 15.14 : Copyright (c) 1999-2015 Igor Pavlov : 2015-12-31\n\nScanning the drive for archives:\n1 file, 280942218 bytes (268 MiB)\n\nListing archive: cloud.zip\n\n--\nPath = cloud.zip\nType = zip\nPhysical Size = 280942218\n\n   Date      Time    Attr         Size   Compressed  Name\n------------------- ----- ------------ ------------  ------------------------\n2023-01-02 23:47:48 ....A    290453357    280940090  data\\latest_postgres.zip\n2022-12-27 01:44:14 ....A         1666          441  docker-compose.yml\n2023-01-01 16:40:06 ....A         8106         1187  scripts\\run_docker_compose.sh\n------------------- ----- ------------ ------------  ------------------------\n2023-01-02 23:47:48          290463129    280941718  3 files\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is:  5:35:23.32\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   scripts\\run_cloud_files_zip\n=======================================================================\n\n-----------------------------------------------------------------------\nThe current time is:  5:35:23.33\nEnter the new time:\n-----------------------------------------------------------------------\nEnd   run_io_avstats\n=======================================================================\n</code></pre>"},{"location":"how_to_update_avstats_on_aws.html#3-upload-zip-file","title":"3. Upload zip file","text":"<p>On Windows, the WinSCP program can be used to upload the <code>cloud.zip</code> file from the local system to the AWS Cloud.</p>"},{"location":"how_to_update_avstats_on_aws.html#4-connect-to-the-aws-instance","title":"4. Connect to the AWS instance","text":""},{"location":"how_to_update_avstats_on_aws.html#5-unzip-in-the-cloud","title":"5. Unzip in the cloud","text":"<p>First, the file <code>cloud.zip</code> is unzipped.</p> <ul> <li><code>unzip cloud.zip</code></li> </ul> <p>Subsequently, the shell script must be made executable:</p> <ul> <li><code>chmod +x scripts/*.sh</code></li> </ul> <p>Afterwards , a possibly running IO-AVSTATS is terminated.</p> <ul> <li><code>./scripts/run_docker_compose.sh down</code></li> </ul> <p>Next, unzip the database files.</p> <ul> <li><code>cd data</code></li> <li><code>sudo rm -rf postgres</code></li> <li><code>unzip latest_postgres.zip</code></li> </ul> <p>Finally, clean up unnecessary files.</p> <ul> <li><code>rm latest_postgres.zip</code></li> <li><code>cd ..</code></li> <li><code>rm cloud.zip</code></li> </ul>"},{"location":"how_to_update_avstats_on_aws.html#5-restart-io-avstats","title":"5. Restart *IO-AVSTATS","text":"<ul> <li><code>./scripts/run_docker_compose.sh up</code></li> </ul>"},{"location":"how_to_update_avstats_on_aws.html#6-test-the-streamlit-applications","title":"6. Test the Streamlit applications","text":""},{"location":"operation.html","title":"Operation","text":"<p>The main tool for operating IO-AVSTATS is the <code>run_io_avstats</code> script.  The script is available in a Windows command line version and in a Linux bash shell version.</p> <p>The following tasks can be executed with this script:</p>    Code Task Additional parameter(s)     <code>c_d_s</code> Create the PostgreSQL database schema    <code>c_l_l</code> Correct decimal US latitudes and longitudes    <code>c_p_d</code> Cleansing PostgreSQL data    <code>d_d_f</code> Delete the PostgreSQL database files    <code>d_d_s</code> Drop the PostgreSQL database schema    <code>d_n_a</code> Download a NTSB MS Access database file -m / -msaccess   <code>d_s_f</code> Download basic simplemaps files    <code>d_z_f</code> Download the ZIP Code Database file    <code>l_c_d</code> Load data from a correction file into PostgreSQL -c / -correction   <code>l_c_s</code> Load country and state data into PostgreSQL    <code>l_n_a</code> Load NTSB MS Access database data into PostgreSQL -m / -msaccess   <code>l_s_d</code> Load simplemaps data into PostgreSQL    <code>l_z_d</code> Load ZIP Code Database data into PostgreSQL    <code>r_d_s</code> Refresh the PostgreSQL database schema    <code>s_d_c</code> Set up the PostgreSQL database container    <code>u_d_s</code> Update the PostgreSQL database schema    <code>v_n_d</code> Verify selected NTSB data"},{"location":"operation.html#1-detailed-task-list","title":"1. Detailed task list","text":""},{"location":"operation.html#11-c_d_s-create-the-postgresql-database-schema","title":"1.1 <code>c_d_s</code> - Create the PostgreSQL database schema","text":"<p>The creation of the database schema includes the following steps, among others:</p> <ol> <li>creation of a new database user, and</li> <li>creation of a new database, and</li> <li>creation of database objects such as database tables and so on.</li> </ol> <p>The following parameters are used when creating the database schema:</p> <ul> <li><code>postgres_dbname_admin</code> - administration database name</li> <li><code>postgres_password_admin</code> - administration database password</li> <li><code>postgres_user_admin</code> - administration database username</li> </ul> <p>Subsequently, the task <code>u_d_s</code> (Update the PostgreSQL database schema) is also executed.</p> <p>Successful creation of a new database schema requires that neither the user to be created nor the database to be created exists in the PostgreSQL DBMS. This is achieved by the previous execution of the following task:</p> <ul> <li><code>d_d_s</code> - Drop the PostgreSQL database schema</li> </ul> <p>Example protocol:</p> <pre><code>Progress update 2022-11-26 02:25:26.802413 : ===============================================================================.\nProgress update 2022-11-26 02:25:26.802413 : INFO.00.004 Start Launcher.\nProgress update 2022-11-26 02:25:26.804413 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-26 02:25:26.812413 : INFO.00.005 Argument task='c_d_s'.\nProgress update 2022-11-26 02:25:26.812413 : -------------------------------------------------------------------------------.\nProgress update 2022-11-26 02:25:26.812413 : INFO.00.044 Creating the database schema.\nProgress update 2022-11-26 02:25:26.812913 : --------------------------------------------------------------------------------\nProgress update 2022-11-26 02:25:26.899052 : INFO.00.016 Database user is available: io_aero.\nProgress update 2022-11-26 02:25:27.874113 : INFO.00.017 Database is available: io_avstats_dev_db.\nProgress update 2022-11-26 02:25:28.024496 : INFO.00.007 Database table is available: events.\nProgress update 2022-11-26 02:25:28.132516 : INFO.00.007 Database table is available: aircraft.\nProgress update 2022-11-26 02:25:28.191012 : INFO.00.007 Database table is available: dt_events.\nProgress update 2022-11-26 02:25:28.241033 : INFO.00.007 Database table is available: ntsb_admin.\nProgress update 2022-11-26 02:25:28.298867 : INFO.00.007 Database table is available: dt_aircraft.\nProgress update 2022-11-26 02:25:28.357619 : INFO.00.007 Database table is available: engines.\nProgress update 2022-11-26 02:25:28.415529 : INFO.00.007 Database table is available: events_sequence.\nProgress update 2022-11-26 02:25:28.465931 : INFO.00.007 Database table is available: findings.\nProgress update 2022-11-26 02:25:28.666134 : INFO.00.007 Database table is available: flight_crew.\nProgress update 2022-11-26 02:25:28.757239 : INFO.00.007 Database table is available: injury.\nProgress update 2022-11-26 02:25:28.840655 : INFO.00.007 Database table is available: narratives.\nProgress update 2022-11-26 02:25:28.890426 : INFO.00.007 Database table is available: occurrences.\nProgress update 2022-11-26 02:25:28.940723 : INFO.00.007 Database table is available: dt_flight_crew.\nProgress update 2022-11-26 02:25:28.990598 : INFO.00.007 Database table is available: flight_time.\nProgress update 2022-11-26 02:25:29.057116 : INFO.00.007 Database table is available: seq_of_events.\nProgress update 2022-11-26 02:25:29.107615 : INFO.00.007 Database table is available: io_countries.\nProgress update 2022-11-26 02:25:29.157116 : INFO.00.007 Database table is available: io_states.\nProgress update 2022-11-26 02:25:29.224119 : INFO.00.007 Database table is available: io_lat_lng.\nProgress update 2022-11-26 02:25:29.290617 : INFO.00.007 Database table is available: io_processed_files.\nProgress update 2022-11-26 02:25:29.290617 : --------------------------------------------------------------------------------\nProgress update 2022-11-26 02:25:29.290617 : INFO.00.045 Updating the database schema.\nProgress update 2022-11-26 02:25:29.291115 : --------------------------------------------------------------------------------\nProgress update 2022-11-26 02:25:29.407115 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_city'.\nProgress update 2022-11-26 02:25:29.432118 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_country'.\nProgress update 2022-11-26 02:25:29.457114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_lat_lng_actions'.\nProgress update 2022-11-26 02:25:29.482114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_latitude'.\nProgress update 2022-11-26 02:25:29.507115 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_longitude'.\nProgress update 2022-11-26 02:25:29.532116 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_latitude'.\nProgress update 2022-11-26 02:25:29.557114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_longitude'.\nProgress update 2022-11-26 02:25:29.582115 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_latitude'.\nProgress update 2022-11-26 02:25:29.607614 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_longitude'.\nProgress update 2022-11-26 02:25:29.632114 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_city'.\nProgress update 2022-11-26 02:25:29.657614 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_state'.\nProgress update 2022-11-26 02:25:29.682117 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_zipcode'.\nProgress update 2022-11-26 02:25:29.707116 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_latitude'.\nProgress update 2022-11-26 02:25:29.731616 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_longitude'.\nProgress update 2022-11-26 02:25:29.756848 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_site_zipcode'.\nProgress update 2022-11-26 02:25:29.781847 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_state'.\nProgress update 2022-11-26 02:25:29.806863 : INFO.00.032 Database view is available: io_accidents_us_1982.\nProgress update 2022-11-26 02:25:29.831848 : INFO.00.032 Database view is available: io_lat_lng_issues.\nProgress update 2022-11-26 02:25:29.831848 : -------------------------------------------------------------------------------.\nProgress update 2022-11-26 02:25:29.832351 :        3,172,935,000 ns - Total time launcher.\nProgress update 2022-11-26 02:25:29.832351 : INFO.00.006 End   Launcher.\nProgress update 2022-11-26 02:25:29.832351 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#12-c_l_l-correct-decimal-us-latitudes-and-longitudes","title":"1.2 <code>c_l_l</code> - Correct decimal US latitudes and longitudes","text":"<p>TODO</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 14:26:53.195199 : ===============================================================================.\nProgress update 2022-11-29 14:26:53.195199 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 14:26:53.197199 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 14:26:53.205699 : INFO.00.005 Argument task='c_l_l'.\nProgress update 2022-11-29 14:26:53.205699 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:26:53.205699 : INFO.00.040 Correct decimal US latitudes and longitudes.\nProgress update 2022-11-29 14:26:53.205699 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:26:56.179717 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:26:56.217217 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:26:56.255218 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:26:56.350217 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:26:56.418218 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:26:56.506301 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:26:56.544302 : Number of rows so far read :  35000.\nProgress update 2022-11-29 14:26:56.582301 : Number of rows so far read :  40000.\nProgress update 2022-11-29 14:26:58.644218 : Number of rows so far read :  45000.\nProgress update 2022-11-29 14:27:04.165484 : Number of rows so far read :  50000.\nProgress update 2022-11-29 14:27:04.202984 : Number of rows so far read :  55000.\nProgress update 2022-11-29 14:27:04.264984 : Number of rows so far read :  60000.\nProgress update 2022-11-29 14:27:04.302484 : Number of rows so far read :  65000.\nProgress update 2022-11-29 14:27:04.340484 : Number of rows so far read :  70000.\nProgress update 2022-11-29 14:27:04.378484 : Number of rows so far read :  75000.\nProgress update 2022-11-29 14:27:04.416985 : Number of rows so far read :  80000.\nProgress update 2022-11-29 14:27:04.454984 : Number of rows so far read :  85000.\nProgress update 2022-11-29 14:27:04.494488 : Number of rows so far read :  90000.\nProgress update 2022-11-29 14:27:04.533484 : Number of rows so far read :  95000.\nProgress update 2022-11-29 14:27:26.444050 : Number of rows so far read : 100000.\nProgress update 2022-11-29 14:28:59.310881 : Number of rows so far read : 105000.\nProgress update 2022-11-29 14:29:13.783233 : Number of rows so far read : 110000.\nProgress update 2022-11-29 14:30:30.710774 : Number of rows so far read : 115000.\nProgress update 2022-11-29 14:32:47.465443 : Number of rows so far read : 120000.\nProgress update 2022-11-29 14:35:07.660574 : Number of rows so far read : 125000.\nProgress update 2022-11-29 14:37:26.256310 : Number of rows so far read : 130000.\nProgress update 2022-11-29 14:39:43.194030 : Number of rows so far read : 135000.\nProgress update 2022-11-29 14:39:43.332530 : Number rows selected : 135081.\nProgress update 2022-11-29 14:39:43.332530 : Number rows updated  :  26989.\nProgress update 2022-11-29 14:39:43.333028 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:39:43.333028 :      770,285,829,500 ns - Total time launcher.\nProgress update 2022-11-29 14:39:43.333028 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 14:39:43.333028 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#13-c_p_d-cleansing-postgresql-data","title":"1.3 <code>c_p_d</code> - Cleansing PostgreSQL data","text":"<p>The task cleans up data abnormalities in the database.  This includes the following activities:</p> <ul> <li>remove trailing whitespace in string data types (trimming),</li> <li>converting string data types that contain only whitespace to NULL (nullifying).</li> </ul> <p>As a result, a much simplified simplification of data is possible, e.g. for comparisons.</p> <p>The functionality is limited to the following database columns:</p>    DB table DB columns     events ev_city, ev_site_zipcode, latitude, longitude    <p>On the one hand, the task can be executed explicitly with the <code>run_io_avstats_db</code> script (task <code>c_p_d</code>) and, on the other hand, it always runs after loading NTSB MS Access data into the PostgreSQL database (task <code>l_n_a</code>).</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 13:03:13.182527 : ===============================================================================.\nProgress update 2022-11-29 13:03:13.182527 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 13:03:13.184528 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 13:03:13.192529 : INFO.00.005 Argument task='c_p_d'.\nProgress update 2022-11-29 13:03:13.193028 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 13:03:13.193028 : INFO.00.065 Cleansing PostgreSQL data.\nProgress update 2022-11-29 13:03:13.193028 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:13.264027 : INFO.00.066 Cleansing table 'events' column 'ev_city'.\nProgress update 2022-11-29 13:03:14.812228 : Number cols trimmed  :  47967.\nProgress update 2022-11-29 13:03:14.853583 : Number cols nullified:      4.\nProgress update 2022-11-29 13:03:14.854085 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:14.854085 : INFO.00.066 Cleansing table 'events' column 'ev_site_zipcode'.\nProgress update 2022-11-29 13:03:15.795002 : Number cols trimmed  :  48691.\nProgress update 2022-11-29 13:03:15.870127 : Number cols nullified:   2299.\nProgress update 2022-11-29 13:03:15.870127 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:15.870632 : INFO.00.066 Cleansing table 'events' column 'latitude'.\nProgress update 2022-11-29 13:03:16.720436 : Number cols trimmed  :  42292.\nProgress update 2022-11-29 13:03:17.979937 : Number cols nullified:  42292.\nProgress update 2022-11-29 13:03:17.980436 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 13:03:17.980436 : INFO.00.066 Cleansing table 'events' column 'longitude'.\nProgress update 2022-11-29 13:03:19.136341 : Number cols trimmed  :  42292.\nProgress update 2022-11-29 13:03:21.218871 : Number cols nullified:  42292.\nProgress update 2022-11-29 13:03:21.218871 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 13:03:21.218871 :        8,180,840,400 ns - Total time launcher.\nProgress update 2022-11-29 13:03:21.219372 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 13:03:21.219372 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#14-d_d_f-delete-the-postgresql-database-files","title":"1.4 <code>d_d_f</code> - Delete the PostgreSQL database files","text":"<p>This task deletes all PostgreSQL database files. The execution requires administration rights. Subsequently, the PostgreSQL database must be completely rebuilt.</p> <p>Tip: The administration password is required to use the administration rights.  This can be difficult with the Windows operating system, as there seems to be no functionality to set the administration password.  The use of the Windows Subsystem for Linux can help here. </p>"},{"location":"operation.html#15-d_d_s-drop-the-postgresql-database-schema","title":"1.5 <code>d_d_s</code> - Drop the PostgreSQL database schema","text":"<p>Successful execution of this task requires that no other process uses the database defined with the <code>postgres_dbname</code> parameter. After execution, the database with all objects and the database user defined with the <code>postgres_user</code> parameter are deleted.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-22 19:40:05.757556 : ===============================================================================.\nProgress update 2022-11-22 19:40:05.757556 : INFO.00.004 Start Launcher.\nProgress update 2022-11-22 19:40:05.762558 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-22 19:40:05.771056 : INFO.00.005 Argument task='d_d_s'.\nProgress update 2022-11-22 19:40:05.771558 : -------------------------------------------------------------------------------.\nProgress update 2022-11-22 19:40:05.771558 : INFO.00.046 Dropping the database schema.\nProgress update 2022-11-22 19:40:05.771558 : -------------------------------------------------------------------------------.\nProgress update 2022-11-22 19:40:06.742328 : INFO.00.019 Database is dropped: io_avstats_db.\nProgress update 2022-11-22 19:40:06.775829 : INFO.00.018 Database user is dropped: io_aero.\nProgress update 2022-11-22 19:40:06.775829 : -------------------------------------------------------------------------------.\nProgress update 2022-11-22 19:40:06.775829 :        1,186,272,600 ns - Total time launcher.\nProgress update 2022-11-22 19:40:06.775829 : INFO.00.006 End   Launcher.\nProgress update 2022-11-22 19:40:06.776329 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#16-d_n_a-download-a-ntsb-ms-access-database-file","title":"1.6 <code>d_n_a</code> - Download a NTSB MS Access database file","text":"<p>This task allows files containing aviation accident data to be downloaded from the NTSB download site. These files are there as MS Access databases in a compressed format. The following subtasks are executed:</p> <ol> <li>A connection to the NTSB download page is established.</li> <li>The selected file is downloaded to the local system in chunks. </li> <li>The downloaded file is then unpacked. </li> <li>A script with the database schema definition is created with RazorSQL from the downloaded database.</li> <li>The newly created script is then compared with a reference script for matching.</li> </ol> <p>Subsequently, the downloaded data can be loaded into the PostgreSQL database with the task <code>l_n_a</code> (Load NTSB MS Access database data into PostgreSQL).</p> <p>Further details can be found here.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-23 12:20:05.623207 : ===============================================================================.\nProgress update 2022-11-23 12:20:05.623207 : INFO.00.004 Start Launcher.\nProgress update 2022-11-23 12:20:05.625207 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-23 12:20:05.633207 : INFO.00.008 Arguments task='d_n_a' msaccess='up22oct'.\nProgress update 2022-11-23 12:20:05.633707 : -------------------------------------------------------------------------------.\nProgress update 2022-11-23 12:20:05.633707 : INFO.00.047 Downloading NTSB MS Access database file 'up22OCT'.\nProgress update 2022-11-23 12:20:05.633707 : --------------------------------------------------------------------------------\nProgress update 2022-11-23 12:20:06.163453 : INFO.00.013 The connection to the MS Access database file 'up22OCT.zip' on the NTSB download page was successfully established.\nProgress update 2022-11-23 12:20:07.188487 : INFO.00.014 From the file 'up22OCT.zip' 2 chunks were downloaded.\nProgress update 2022-11-23 12:20:07.206986 : INFO.00.015 The file 'up22OCT.zip' was successfully unpacked.\nProgress update 2022-11-23 12:20:07.218987 : INFO.00.051 msaccess_file     ='D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\IO-AVSTATS.mdb'.\nProgress update 2022-11-23 12:20:07.219487 : INFO.00.051 msaccess_file     ='D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\up22OCT.sql'.\nProgress update 2022-11-23 12:20:07.219487 : INFO.00.052 razorsql_jar_file ='C:\\Program Files\\RazorSQL\\razorsql.jar'.\nProgress update 2022-11-23 12:20:07.219487 : INFO.00.053 razorsql_java_path='C:\\Program Files\\RazorSQL\\jre11\\bin\\java'.\n1669202407306: launching RazorSQL . . .\n1669202407307: args . . .\n-backup\nIO-AVSTATS\nnull\nnull\n;\nnull\nD:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\up22OCT.sql\nNO\ntables\nYES\nnull\nNO\nNO\n1669202407342: userName: walte\n1669202407342: libraryPath: C:\\Program Files\\RazorSQL\\jre11\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\Users\\walte\\.virtualenvs\\io-avstats-db-NXLRYNgF\\Scripts;C:\\Program Files (x86)\\VMware\\VMware Player\\bin\\;C:\\Program Files (x86)\\infogridpacific\\AZARDI;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Program Files\\Calibre2\\;C:\\Program Files\\dotnet\\;C:\\Program Files\\Git LFS;C:\\Program Files\\Microsoft SQL Server\\110\\Tools\\Binn\\;C:\\Program Files\\NVIDIA Corporation\\NVIDIA NvDLISR;C:\\Program Files\\Pandoc\\;C:\\Program Files\\TortoiseGit\\bin;C:\\Software\\GnuWin32\\bin;C:\\WINDOWS;C:\\WINDOWS\\system32;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Users\\walte\\.nimble\\bin;C:\\Windows;C:\\Windows\\system32;C:\\Windows\\System32\\OpenSSH\\;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Software\\.cargo\\bin;%GRADLE_HOME%\\bin;%HOME_ELIXIR%\\bin;%HOME_ERLANG%\\bin;%HOME_GO%\\bin;%HOME_JULIA%\\bin;%HOME_NIM%\\bin;C:\\Software\\PostgreSQL\\15\\bin;C:\\Software\\poppler-0.68.0\\bin;C:\\Software\\Python\\Python310;C:\\Software\\Python\\Python310\\Scripts;C:\\Software\\rebar3;%HOME_RUST%\\bin;C:\\Software\\Tesseract-OCR;C:\\Software\\jdk-18.0.2\\bin;%KOTLIN_HOME%\\bin;C:\\Software\\oracle\\instantclient_21_6;C:\\Software\\Gpg4win\\..\\GnuPG\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\LLVM\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Docker\\Docker\\resources\\bin;C:\\Users\\walte\\.cargo\\bin;C:\\Users\\walte\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Software\\Microsoft VS Code\\bin;C:\\Users\\walte\\go\\bin;C:\\Software\\texlive\\2021\\bin\\win32;c:\\users\\walte\\.local\\bin;C:\\Users\\walte\\AppData\\Local\\JetBrains\\Toolbox\\scripts;C:\\Users\\walte\\AppData\\Roaming\\npm;.\n1669202407343: javaVersion: 11.0.13\n1669202407343:\n1669202407343: Verifying RazorSQL resources location.\n1669202407343:\n1669202407343: testing base url: / = file:/C:/Program%20Files/RazorSQL/\n1669202407343:\n1669202407344: testString1: file:/C:/Program%20Files/RazorSQL/razorsql.jar\n1669202407344: testString2: file:/C:/Program%20Files/RazorSQL/data/base.ssql\n1669202407344: testFile1: C:\\Program Files\\RazorSQL\\razorsql.jar\n1669202407344: testFile2: C:\\Program Files\\RazorSQL\\data\\base.ssql\n1669202407344: both test file exists.  Base URL found.\n1669202407344: resource directory: file:/C:/Program%20Files/RazorSQL/\n1669202407344: user home: C:\\Users\\walte\n1669202407346: user profile: C:\\Users\\walte\n1669202407346: app data: C:\\Users\\walte\\AppData\\Roaming\n1669202407346: checking write access to: C:\\Users\\walte\\AppData\\Roaming\n1669202407346: write dir: C:\\Users\\walte\\AppData\\Roaming\\RichardsonSoftware\n1669202407346: can write to C:\\Users\\walte\\AppData\\Roaming\n1669202407346: user.home: C:\\Users\\walte\\AppData\\Roaming\n1669202407346: RazorSQL Scratch Directory: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\n1669202407347: RazorSQL Scratch Directory exists\n1669202407347: checking for sub directories\n1669202407347: razorsql launch log: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\razorsql_launch_log.txt\n1669202407347: launch log file = C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\razorsql_launch_log.txt\n1669202407347: Checking for graphics properties\n1669202407348: graphics properties file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\graphics_properties.txt\n1669202407348: gOverride: null\n1669202407348: not disabling advanced graphics\n1669202407348: path0: file:/C:/Program%20Files/RazorSQL/data/run.ssql\n1669202407348: path1: file:/C:/Program%20Files/RazorSQL/razorsql.jar\n1669202407348: runArgs: true\n1669202407348: showScreen: false\n1669202407349: args[0]: -backup\n1669202407349: args[1]: IO-AVSTATS\n1669202407349: args[2]: null\n1669202407349: args[3]: null\n1669202407349: args[4]: ;\n1669202407349: args[5]: null\n1669202407349: args[6]: D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\data\\download\\up22OCT.sql\n1669202407349: args[7]: NO\n1669202407349: args[8]: tables\n1669202407349: args[9]: YES\n1669202407349: args[10]: null\n1669202407349: args[11]: NO\n1669202407349: args[12]: NO\n1669202407349: Command: -backup\n1669202407350: Running -backup\nh: name = C:\\Program Files\\RazorSQL\\data\\run.ssql\nh: name = C:\\Program Files\\RazorSQL\\razorsql.jar\n1669202407356: Attempting to load . . .\ncommand found\nuOne: file:/C:/Program%20Files/RazorSQL/\nh: name = C:\\Program Files\\RazorSQL\\data\\run.ssql\n1669202407367reading file . . .C:\\Program Files\\RazorSQL\\data\\base.ssql\n1669202407392done reading . . .\n1669202407401done converting\n1669202407401starting lib load.\n1669202407413lib load complete.\nIn command line processor\nMax Memory: 30688.0\nCurrent Total Memory: 2048.0\nFree Memory: 1957.998046875\n1669202407486: r init\n1669202407486: d init\n1669202407487: get default file encoding\n1669202407487: end d init\ncustom home directory: null\nChecking for user data from old versions\n1669202407488: user home: C:\\Users\\walte\n1669202407489: user profile: C:\\Users\\walte\n1669202407489: app data: C:\\Users\\walte\\AppData\\Roaming\n1669202407489: checking write access to: C:\\Users\\walte\\AppData\\Roaming\n1669202407489: write dir: C:\\Users\\walte\\AppData\\Roaming\\RichardsonSoftware\n1669202407489: can write to C:\\Users\\walte\\AppData\\Roaming\nnewHome: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\ndataHome: C:\\Users\\walte\\AppData\\Roaming/RazorSQL/data/\npreferences file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\preferences.txt\nProfiles Exist\n1669202407499: loading icons\n1669202407663: done r init\nGetting connection data from: IO-AVSTATS\n1669202407665: r init\n1669202407665: d init\n1669202407665: get default file encoding\n1669202407665: end d init\ncustom home directory: null\nChecking for user data from old versions\nnewHome: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\ndataHome: C:\\Users\\walte\\AppData\\Roaming/RazorSQL/data/\npreferences file: C:\\Users\\walte\\AppData\\Roaming\\RazorSQL\\data\\preferences.txt\nProfiles Exist\n1669202407666: loading icons\n1669202407675: done r init\ngetting connection . . .\nNot using SSH Tunnel\ndriver: sun.jdbc.odbc.JdbcOdbcDriver\nclassLocation: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nloadedCommonJars: false\ncommonURL: file:/C:/Program%20Files/RazorSQL/drivers/common/\ncommonDir: C:\\Program Files\\RazorSQL\\drivers\\common\ncommonFiles[0]: file:/C:/Program%20Files/RazorSQL/drivers/common/activation.jar\ncommonFiles[1]: file:/C:/Program%20Files/RazorSQL/drivers/common/common.jar\ncommonFiles[2]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-api.jar\ncommonFiles[3]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-core.jar\ncommonFiles[4]: file:/C:/Program%20Files/RazorSQL/drivers/common/jaxb-impl.jar\ncommonFiles[6]: file:/C:/Program%20Files/RazorSQL/drivers/common/odbc.jar\nconnection type: ODBC\nfinal classLocation: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nclassLocation file: C:\\Program Files\\RazorSQL\\drivers\\common\\odbc.jar\nbuilding sql manager\nLoading driver\nDone loading driver\nGetting connection with no login info\nJdbcOdbcDriver: in initialize\nOdbcApi == null\nCreating new OdbcApi, nativePrefix:\nJdbcOdbc constructor\nAttempting to load JdbcOdbc library\nGot OdbcApi: sun.jdbc.odbc.JdbcOdbc@2d127a61\nGetting charset\nJdbcOdbcDriver.OdbcApi.charSet: Cp1252\nConnection obtained\nobtained connection\ndatabase major version = 2\ndatabase product name: ACCESS\nmultiValueInsert: false\nincludeIdentifyColumns: false\nCalling backup . . .\nRetrieving Tables . . .\nGenerating Table DDL . . .\n1 of 20\nnumber of columns 93\ncolumn map size: 93\nfoundNull: false\n2 of 20\nnumber of columns 2\ncolumn map size: 2\nfoundNull: false\n3 of 20\nnumber of columns 11\ncolumn map size: 11\nfoundNull: false\n4 of 20\nnumber of columns 2\ncolumn map size: 2\nfoundNull: false\n5 of 20\nnumber of columns 6\ncolumn map size: 6\nfoundNull: false\n6 of 20\nnumber of columns 5\ncolumn map size: 5\nfoundNull: false\n7 of 20\nnumber of columns 7\ncolumn map size: 7\nfoundNull: false\n8 of 20\nnumber of columns 13\ncolumn map size: 13\nfoundNull: false\n9 of 20\nnumber of columns 17\ncolumn map size: 17\nfoundNull: false\n10 of 20\nnumber of columns 73\ncolumn map size: 73\nfoundNull: false\n11 of 20\nnumber of columns 10\ncolumn map size: 10\nfoundNull: false\n12 of 20\nnumber of columns 13\ncolumn map size: 13\nfoundNull: false\n13 of 20\nnumber of columns 33\ncolumn map size: 33\nfoundNull: false\n14 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n15 of 20\nnumber of columns 7\ncolumn map size: 7\nfoundNull: false\n16 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n17 of 20\nnumber of columns 5\ncolumn map size: 5\nfoundNull: false\n18 of 20\nnumber of columns 8\ncolumn map size: 8\nfoundNull: false\n19 of 20\nnumber of columns 11\ncolumn map size: 11\nfoundNull: false\n20 of 20\nnumber of columns 3\ncolumn map size: 3\nfoundNull: false\nGenerating Alter Table DDL . . .\n1 of 20\n2 of 20\n3 of 20\n4 of 20\n5 of 20\n6 of 20\n7 of 20\n8 of 20\n9 of 20\n10 of 20\n11 of 20\n12 of 20\n13 of 20\n14 of 20\n15 of 20\n16 of 20\n17 of 20\n18 of 20\n19 of 20\n20 of 20\nbackup finished\nclosing connection . . .\nconnection closed.\nShutting down logging streams\nDone shutting down logging streams\nExiting . . .\nProgress update 2022-11-23 12:20:08.292807 : INFO.00.011 The DDL script for the MS Access database 'up22OCT.mdb' was created successfully.\nProgress update 2022-11-23 12:20:08.297807 : INFO.00.012 The DDL script for the MS Access database 'up22OCT.mdb' is identical to the reference script.\nProgress update 2022-11-23 12:20:08.297807 : -------------------------------------------------------------------------------.\nProgress update 2022-11-23 12:20:08.297807 :        2,816,100,200 ns - Total time launcher.\nProgress update 2022-11-23 12:20:08.297807 : INFO.00.006 End   Launcher.\nProgress update 2022-11-23 12:20:08.298305 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#17-d_s_f-download-basic-simplemaps-files","title":"1.7 <code>d_s_f</code> - Download basic simplemaps files","text":"<p>This task downloads the basic versions of the two databases <code>United States Cities</code> and <code>US Zip Codes</code> from the simplemaps website to the file directory defined in <code>download_work_dir</code>.</p> <p>Subsequently, the downloaded data can be loaded into the PostgreSQL database with the task <code>l_s_d</code> (Load simplemaps data into PostgreSQL).</p> <p>Further details can be found here.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 14:59:11.670613 : ===============================================================================.\nProgress update 2022-11-27 14:59:11.670613 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 14:59:11.672613 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 14:59:11.681113 : INFO.00.005 Argument task='d_s_f'.\nProgress update 2022-11-27 14:59:11.681113 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:59:11.681113 : INFO.00.048 Downloading basic simplemaps files.\nProgress update 2022-11-27 14:59:11.681113 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:59:11.917087 : INFO.00.030 The connection to the US city file 'simplemaps_uscities_basicv1.75.zip' on the simplemaps download page was successfully established.\nProgress update 2022-11-27 14:59:14.671525 : INFO.00.023 From the file 'simplemaps_uscities_basicv1.75.zip' 8 chunks were downloaded.\nProgress update 2022-11-27 14:59:14.705528 : INFO.00.024 The file 'simplemaps_uscities_basicv1.75.zip' was successfully unpacked.\nProgress update 2022-11-27 14:59:14.916882 : INFO.00.022 The connection to the US zip code file 'simplemaps_uszips_basicv1.81.zip' on the simplemaps download page was successfully established.\nProgress update 2022-11-27 14:59:15.642184 : INFO.00.023 From the file 'simplemaps_uszips_basicv1.81.zip' 8 chunks were downloaded.\nProgress update 2022-11-27 14:59:15.675685 : INFO.00.024 The file 'simplemaps_uszips_basicv1.81.zip' was successfully unpacked.\nProgress update 2022-11-27 14:59:15.676184 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:59:15.676184 :        4,151,071,300 ns - Total time launcher.\nProgress update 2022-11-27 14:59:15.676184 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 14:59:15.676184 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#18-d_z_f-download-the-zip-code-database-file","title":"1.8 <code>d_z_f</code> - Download the ZIP Code Database file","text":"<p>With this task, the free version of the file ZIP Code Database can be downloaded from the website United States Zip Codes.org. However, since a license window appears first before the actual download, it is better to download the file manually. Therefore, this task is currently not offered in the <code>run_io_avstats_db</code> shell script menu.</p>  <p>Example protocol:</p> <pre><code>Progress update 2022-11-26 07:12:23.326957 : ===============================================================================.\nProgress update 2022-11-26 07:12:23.326957 : INFO.00.004 Start Launcher.\nProgress update 2022-11-26 07:12:23.328958 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-26 07:12:23.336956 : INFO.00.005 Argument task='d_z_f'.\nProgress update 2022-11-26 07:12:23.337457 : -------------------------------------------------------------------------------.\nProgress update 2022-11-26 07:12:23.337457 : INFO.00.055 Downloading ZIP Code Database file.\nProgress update 2022-11-26 07:12:23.337457 : --------------------------------------------------------------------------------\n\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\launcher.py\", line 416, in &lt;module&gt;\n    main(sys.argv)\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\launcher.py\", line 376, in main\n    avstats.download_zip_code_db_file()\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\io_avstats_db\\avstats.py\", line 98, in download_zip_code_db_file\n    db_dml_base.download_zip_code_db_file()\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\io_avstats_db\\db_dml_base.py\", line 4052, in download_zip_code_db_file\n    io_utils.terminate_fatal(\n  File \"D:\\SoftDevelopment\\Projects\\IO-Aero\\io-avstats-db\\src\\io_avstats_db\\io_utils.py\", line 99, in terminate_fatal\n    traceback.print_stack()\n\nFATAL ERROR: program abort =====&gt;\nFATAL ERROR: program abort =====&gt; ERROR.00.906 Unexpected response status code='403' &lt;===== FATAL ERROR\nFATAL ERROR: program abort =====&gt;\nProcessing of the script run_io_avstats was aborted, error code=0\n</code></pre>"},{"location":"operation.html#19-l_c_d-load-data-from-a-correction-file-into-postgresql","title":"1.9 <code>l_c_d</code> - Load data from a correction file into PostgreSQL","text":"<p>TODO</p> <p>This task allows files containing aviation accident data to be downloaded from the NTSB download site. These files are there as MS Access databases in a compressed format. The following subtasks are executed:</p> <ol> <li>A connection to the NTSB download page is established.</li> <li>The selected file is downloaded to the local system in chunks. </li> <li>The downloaded file is then unpacked. </li> <li>A script with the database schema definition is created with RazorSQL from the downloaded database.</li> <li>The newly created script is then compared with a reference script for matching.</li> </ol>"},{"location":"operation.html#110-l_c_s-load-country-and-state-data-into-postgresql","title":"1.10 <code>l_c_s</code> - Load country and state data into PostgreSQL","text":"<p>TODO</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 14:15:55.817859 : ===============================================================================.\nProgress update 2022-11-27 14:15:55.817859 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 14:15:55.819858 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.005 Argument task='l_c_s'.\nProgress update 2022-11-27 14:15:55.827859 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.057 Loading country and state data.\nProgress update 2022-11-27 14:15:55.828359 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.894605 : INFO.00.059 Loading country data.\nProgress update 2022-11-27 14:15:55.894605 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954085 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:55.954597 : Number rows inserted :      1.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954597 : INFO.00.060 Loading state data.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:57.545443 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:57.545443 : Number rows inserted :     51.\nProgress update 2022-11-27 14:15:57.570593 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:57.570593 :        1,896,734,300 ns - Total time launcher.\nProgress update 2022-11-27 14:15:57.570593 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 14:15:57.571096 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#111-l_n_a-load-ntsb-ms-access-database-data-into-postgresql","title":"1.11 <code>l_n_a</code> - Load NTSB MS Access database data into PostgreSQL","text":"<p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database. The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database. The initial loading is done with both NTSB MS Access databases Pre2008 ubd avall. After that only the monthly updates are then transferred. </p> <p>Further details can be found here.</p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 14:15:55.817859 : ===============================================================================.\nProgress update 2022-11-27 14:15:55.817859 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 14:15:55.819858 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.005 Argument task='l_c_s'.\nProgress update 2022-11-27 14:15:55.827859 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:55.827859 : INFO.00.057 Loading country and state data.\nProgress update 2022-11-27 14:15:55.828359 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.894605 : INFO.00.059 Loading country data.\nProgress update 2022-11-27 14:15:55.894605 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954085 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:55.954597 : Number rows inserted :      1.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:55.954597 : INFO.00.060 Loading state data.\nProgress update 2022-11-27 14:15:55.954597 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 14:15:57.545443 : Number rows selected :     52.\nProgress update 2022-11-27 14:15:57.545443 : Number rows inserted :     51.\nProgress update 2022-11-27 14:15:57.570593 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 14:15:57.570593 :        1,896,734,300 ns - Total time launcher.\nProgress update 2022-11-27 14:15:57.570593 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 14:15:57.571096 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#112-l_s_d-load-simplemaps-data-into-postgresql","title":"1.12 <code>l_s_d</code> - Load simplemaps data into PostgreSQL","text":"<p>TODO</p> <p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database. The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database. The initial loading is done with both MS Access databases Pre2008 ubd avall. After that only the monthly updates are then transferred. </p> <p>Example protocol:</p> <pre><code>    Progress update 2022-11-21 18:52:41.629692 : ===============================================================================.\n    Progress update 2022-11-21 18:52:41.629692 : INFO.00.004 Start Launcher.\n    Progress update 2022-11-21 18:52:41.631692 : INFO.00.001 The logger is configured and ready.\n    Progress update 2022-11-21 18:52:41.640190 : INFO.00.005 Argument task='l_s_d'.\n    Progress update 2022-11-21 18:52:41.640190 : -------------------------------------------------------------------------------.\n    Progress update 2022-11-21 18:52:41.685192 : INFO.00.039 Database table io_lat_lng: Loading the zipcode data from file uscities.xlsx.\n    Progress update 2022-11-21 18:55:11.254186 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 18:57:31.973745 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 18:59:47.094776 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:02:08.097587 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:04:27.858850 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:06:49.294785 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:09:07.306370 : Number of rows so far read :  35000.\n    Progress update 2022-11-21 19:11:28.117981 : Number of rows so far read :  40000.\n    Progress update 2022-11-21 19:12:10.470503 : Number rows selected :  41620.\n    Progress update 2022-11-21 19:12:10.470503 : Number rows inserted :  41620.\n    Progress update 2022-11-21 19:12:10.530003 : INFO.00.025 Database table io_lat_lng: Loading the zipcode data from file uszips.xlsx.\n    Progress update 2022-11-21 19:14:41.797284 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 19:17:10.506606 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 19:19:38.757474 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:22:08.373896 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:24:29.851643 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:26:58.685870 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:28:47.784316 : Number rows selected :  33788.\n    Progress update 2022-11-21 19:28:47.784316 : Number rows inserted :   9651.\n    Progress update 2022-11-21 19:28:47.784316 : Number rows updated  :  24133.\n    Progress update 2022-11-21 19:28:47.784815 : INFO.00.026 Database table io_us_stats: Loading data.\n    Progress update 2022-11-21 19:28:49.122315 : Number rows selected :     56.\n    Progress update 2022-11-21 19:28:49.122315 : Number rows inserted :     51.\n    Progress update 2022-11-21 19:28:49.122315 : INFO.00.027 Database table io_lat_lng: Loading the city data.\n    Progress update 2022-11-21 19:31:05.759170 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 19:33:29.969709 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 19:35:42.591083 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:38:00.961652 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:40:21.097913 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:42:39.434729 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:45:05.010766 : Number of rows so far read :  35000.\n    Progress update 2022-11-21 19:46:26.359902 : Number rows selected :  37982.\n    Progress update 2022-11-21 19:46:26.360403 : Number rows inserted :  37982.\n    Progress update 2022-11-21 19:46:26.360403 : INFO.00.028 Database table io_lat_lng: Loading the state data.\n    Progress update 2022-11-21 19:46:28.312902 : Number rows selected :     56.\n    Progress update 2022-11-21 19:46:28.312902 : Number rows inserted :     56.\n    Progress update 2022-11-21 19:46:28.313404 : INFO.00.029 Database table io_lat_lng: Loading the country data.\n    Progress update 2022-11-21 19:46:28.346407 : Number rows inserted :      1.\n    Progress update 2022-11-21 19:46:28.391904 : INFO.00.027 Database table io_lat_lng: Loading the city data.\n    Progress update 2022-11-21 19:48:23.972756 : Number of rows so far read :   5000.\n    Progress update 2022-11-21 19:50:01.546746 : Number of rows so far read :  10000.\n    Progress update 2022-11-21 19:51:44.317761 : Number of rows so far read :  15000.\n    Progress update 2022-11-21 19:53:32.879336 : Number of rows so far read :  20000.\n    Progress update 2022-11-21 19:55:18.566257 : Number of rows so far read :  25000.\n    Progress update 2022-11-21 19:56:46.677403 : Number of rows so far read :  30000.\n    Progress update 2022-11-21 19:56:52.002902 : Number rows selected :  30409.\n    Progress update 2022-11-21 19:56:52.003409 : Number rows updated  :  20621.\n    Progress update 2022-11-21 19:56:52.003409 : -------------------------------------------------------------------------------.\n    Progress update 2022-11-21 19:56:52.003409 :    3,850,528,217,800 ns - Total time launcher.\n    Progress update 2022-11-21 19:56:52.003903 : INFO.00.006 End   Launcher.\n    Progress update 2022-11-21 19:56:52.003903 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#113-l_z_d-load-zip-code-database-data-into-postgresql","title":"1.13 <code>l_z_d</code> - Load ZIP Code Database data into PostgreSQL","text":"<p>TODO</p> <p>This task transfers the data from an NTSB MS Access database previously downloaded from the NTSB website to the PostgreSQL database. The same MS Access database can be processed several times with this task without any problems, since only the changes are newly transferred to the PostgreSQL database. The initial loading is done with both MS Access databases Pre2008 ubd avall. After that only the monthly updates are then transferred. </p> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 14:12:25.117005 : ===============================================================================.\nProgress update 2022-11-29 14:12:25.117502 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 14:12:25.119503 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 14:12:25.128005 : INFO.00.005 Argument task='l_z_d'.\nProgress update 2022-11-29 14:12:25.128005 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:12:25.128005 : INFO.00.056 Loading ZIP Code Database data.\nProgress update 2022-11-29 14:12:25.128005 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:12:25.179505 : INFO.00.061 Database table io_lat_lng: Loading the estimated zip code data.\nProgress update 2022-11-29 14:12:25.179505 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:13:21.866512 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:14:16.970167 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:15:10.266064 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:16:08.694846 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:16:47.652646 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:17:32.877233 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:18:06.643788 : Number of rows so far read :  35000.\nProgress update 2022-11-29 14:18:55.944095 : Number of rows so far read :  40000.\nProgress update 2022-11-29 14:19:13.847623 : Number rows selected :  42735.\nProgress update 2022-11-29 14:19:13.848123 : Number rows inserted :  10115.\nProgress update 2022-11-29 14:19:13.848123 : Number rows duplicate:  32660.\nProgress update 2022-11-29 14:19:13.848123 : Number rows updated  :   3252.\nProgress update 2022-11-29 14:19:13.848123 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:19:13.919921 : INFO.00.063 Processed data source 'average'.\nProgress update 2022-11-29 14:19:13.919921 : Number rows deleted  :   7631.\nProgress update 2022-11-29 14:19:13.919921 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:19:13.919921 : INFO.00.062 Database table io_lat_lng: Loading the averaged city data.\nProgress update 2022-11-29 14:19:13.919921 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:20:03.226487 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:20:49.819656 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:21:36.281703 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:22:22.562620 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:23:04.766437 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:23:48.995380 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:24:37.784042 : Number of rows so far read :  35000.\nProgress update 2022-11-29 14:25:21.929065 : Number of rows so far read :  40000.\nProgress update 2022-11-29 14:26:07.064444 : Number rows selected :  44743.\nProgress update 2022-11-29 14:26:07.064444 : Number rows inserted :  14392.\nProgress update 2022-11-29 14:26:07.064444 : Number rows duplicate:  30351.\nProgress update 2022-11-29 14:26:07.090743 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:26:07.090743 :      822,117,242,100 ns - Total time launcher.\nProgress update 2022-11-29 14:26:07.090743 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 14:26:07.090743 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#114-r_d_s-refresh-the-postgresql-database-schema","title":"1.14 <code>r_d_s</code> - Refresh the PostgreSQL database schema","text":"<p>Hereby changes can be made to the database schema. The task can be executed several times without problems, since before a change is always first checked whether this has already been done.</p> <ol> <li> <p>Materialized database view</p> </li> <li> <p><code>io_app_aaus1982</code> - provides the data for processing the task <code>c_l_l</code> (Correct decimal US latitudes and longitudes).</p> </li> </ol> <p>Example protocol:</p> <pre><code>Progress update 2022-12-19 08:37:09.337180 : INFO.00.004 Start Launcher.\nProgress update 2022-12-19 08:37:09.342679 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-12-19 08:37:09.352180 : INFO.00.005 Argument task='r_d_s'.\nProgress update 2022-12-19 08:37:09.352180 : -------------------------------------------------------------------------------.\nProgress update 2022-12-19 08:37:09.352180 : INFO.00.071 Refreshing the database schema.\nProgress update 2022-12-19 08:37:09.352180 : --------------------------------------------------------------------------------\nProgress update 2022-12-19 08:37:19.366370 : INFO.00.069 Materialized database view is refreshed: io_app_aaus1982.\nProgress update 2022-12-19 08:37:19.366370 : -------------------------------------------------------------------------------.\nProgress update 2022-12-19 08:37:19.366370 :       10,187,690,800 ns - Total time launcher.\nProgress update 2022-12-19 08:37:19.366370 : INFO.00.006 End   Launcher.\nProgress update 2022-12-19 08:37:19.366370 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#115-s_d_c-set-up-the-postgresql-database-container","title":"1.15 <code>s_d_c</code> - Set up the PostgreSQL database container","text":"<p>The default installation of the PostgreSQL database is done using the official Docker images from Dockerhub - see here.</p> <p>This task consists of the following steps:</p> <ol> <li>any running Docker container is stopped.</li> <li>any existing Docker container is deleted.</li> <li>if not already present, the file directory for the PostgreSQL database files is created.</li> <li>the Docker network for the PostgreSQL database is created if it does not already exist.</li> <li>the PostgreSQL Docker image is either created or updated based on DockerHub.</li> <li>a new PostgreSQL Docker container is started.</li> </ol> <p>Example protocol:</p> <pre><code>Docker stop/rm io_avstats_db_dev_container .................... before:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED       STATUS        PORTS                                                      NAMES\n66c741493677   postgres:latest          \"docker-entrypoint.s\u2026\"   8 hours ago   Up 8 hours    0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container\na4469ea39fdd   postgres:latest          \"docker-entrypoint.s\u2026\"   2 weeks ago   Up 10 hours   0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             4 weeks ago   Up 10 hours   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n66c741493677   postgres:latest          \"docker-entrypoint.s\u00d4\u00c7\u00aa\"   8 hours ago   Up 8 hours    0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container\nio_avstats_db_dev_container\n66c741493677   postgres:latest          \"docker-entrypoint.s\u00d4\u00c7\u00aa\"   8 hours ago   Exited (0) Less than a second ago                                                              io_avstats_db_dev_container\nio_avstats_db_dev_container\n............................................................. after:\nCONTAINER ID   IMAGE                    COMMAND                  CREATED       STATUS        PORTS                                                      NAMES\na4469ea39fdd   postgres:latest          \"docker-entrypoint.s\u2026\"   2 weeks ago   Up 10 hours   0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             4 weeks ago   Up 10 hours   0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\nTimer 4.0 - Command Line Timer - www.Gammadyne.com\nCopyright (C) 2007-2017 by Greg Wittmeyer - All Rights Reserved\nTimer started: 22.11.2022 19:35:22\nPostgreSQL\n--------------------------------------------------------------------------------\nDocker create io_avstats_db_dev_container (PostgreSQL latest)\nDocker network io_avstats_db_dev_net already existing\n93a1342e70d367bee07fa9b021293324d7ce04a8113563a3d995d63f9d5b6172\nDocker start io_avstats_db_dev_container (PostgreSQL ) ...\nio_avstats_db_dev_container\nNETWORK ID     NAME                    DRIVER    SCOPE\n6c9fa25a23dc   AVSTATS_POSTGRES_NET    bridge    local\nad56537ead3f   bridge                  bridge    local\nda3331b29cb2   host                    host      local\nd6ad44ee9141   io_avstats_db_dev_net   bridge    local\ne33d9f5149d3   io_avstats_net          bridge    local\n3df9e6ac5dfa   none                    null      local\n[\n    {\n        \"Name\": \"io_avstats_db_dev_net\",\n        \"Id\": \"d6ad44ee9141424aec5d8e5643d4f4349e13482935a594f2553f4a7fd4648446\",\n        \"Created\": \"2022-11-06T12:04:36.9326894Z\",\n        \"Scope\": \"local\",\n        \"Driver\": \"bridge\",\n        \"EnableIPv6\": false,\n        \"IPAM\": {\n            \"Driver\": \"default\",\n            \"Options\": {},\n            \"Config\": [\n                {\n                    \"Subnet\": \"172.20.0.0/16\",\n                    \"Gateway\": \"172.20.0.1\"\n                }\n            ]\n        },\n        \"Internal\": false,\n        \"Attachable\": false,\n        \"Ingress\": false,\n        \"ConfigFrom\": {\n            \"Network\": \"\"\n        },\n        \"ConfigOnly\": false,\n        \"Containers\": {},\n        \"Options\": {},\n        \"Labels\": {}\n    }\n]\nDOCKER PostgreSQL was ready in 30.2 seconds\nCONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                                                      NAMES\n93a1342e70d3   postgres:latest          \"docker-entrypoint.s\u2026\"   30 seconds ago   Up 29 seconds   0.0.0.0:5433-&gt;5432/tcp                                     io_avstats_db_dev_container\na4469ea39fdd   postgres:latest          \"docker-entrypoint.s\u2026\"   2 weeks ago      Up 10 hours     0.0.0.0:5432-&gt;5432/tcp                                     io_avstats_container\nf67eb28b8888   portainer/portainer-ce   \"/portainer\"             4 weeks ago      Up 10 hours     0.0.0.0:8000-&gt;8000/tcp, 0.0.0.0:9000-&gt;9000/tcp, 9443/tcp   portainer\n</code></pre>"},{"location":"operation.html#116-u_d_s-update-the-postgresql-database-schema","title":"1.16 <code>u_d_s</code> - Update the PostgreSQL database schema","text":"<p>Hereby changes can be made to the database schema. The task can be executed several times without problems, since before a change is always first checked whether this has already been done.</p> <ol> <li> <p>New database tables:</p> </li> <li> <p><code>io_countries</code>: contains latitude and longitude of selected countries.</p> </li> <li><code>io_lat_lng</code>: used to store the simplemaps and United States Zip Codes.org data.</li> <li> <p><code>io_states</code>: contains the identification, name, latitude and longitude of all US states.</p> </li> <li> <p>Extensions for database tables:</p> </li> </ol> <p>2.1 Database table <code>events</code>.</p> <ul> <li>The columns <code>io_city</code>, <code>io_country</code>, <code>io_latitude</code>, <code>io_longitude</code>, <code>io_site_zipcode</code> and <code>io_state</code> to store manual corrections.</li> <li>The columns <code>io_deviating_dec_latitude</code>, <code>io_deviating_dec_longitude</code>, <code>io_invalid_latitude</code>, <code>io_invalid_longitude</code>, <code>io_invalid_us_city</code>, <code>io_invalid_us_state</code> and , <code>io_invalid_us_zipcode</code> for documenting data plausibility (task <code>v_n_d</code>).</li> <li> <p>the columns <code>io_dec_lat_lng_actions</code>, <code>io_dec_latitude</code> and <code>io_dec_longitude</code> to store corrected decimal latitude and longitude values.</p> </li> <li> <p>New database views:</p> </li> <li> <p><code>io_lat_lng_issues</code> - provides the data for processing the task <code>c_l_l</code> (Correct decimal US latitudes and longitudes).</p> </li> <li><code>io_accidents_us_1982</code> - provides event data for aviation accidents in the U.S. since 1982.</li> </ul> <p>Example protocol:</p> <pre><code>Progress update 2022-11-27 13:37:13.316694 : ===============================================================================.\nProgress update 2022-11-27 13:37:13.316694 : INFO.00.004 Start Launcher.\nProgress update 2022-11-27 13:37:13.318694 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-27 13:37:13.327195 : INFO.00.005 Argument task='u_d_s'.\nProgress update 2022-11-27 13:37:13.327195 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 13:37:13.327195 : INFO.00.045 Updating the database schema.\nProgress update 2022-11-27 13:37:13.327195 : --------------------------------------------------------------------------------\nProgress update 2022-11-27 13:37:13.436194 : INFO.00.007 Database table is available: io_msaccess_file.\nProgress update 2022-11-27 13:37:13.520032 : INFO.00.007 Database table is available: io_countries.\nProgress update 2022-11-27 13:37:13.595030 : INFO.00.007 Database table is available: io_states.\nProgress update 2022-11-27 13:37:13.770060 : INFO.00.007 Database table is available: io_lat_lng.\nProgress update 2022-11-27 13:37:13.810990 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_city'.\nProgress update 2022-11-27 13:37:13.844989 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_country'.\nProgress update 2022-11-27 13:37:13.878039 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_lat_lng_actions'.\nProgress update 2022-11-27 13:37:13.911450 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_latitude'.\nProgress update 2022-11-27 13:37:13.944473 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_dec_longitude'.\nProgress update 2022-11-27 13:37:13.977929 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_dec_latitude'.\nProgress update 2022-11-27 13:37:14.010969 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_deviating_dec_longitude'.\nProgress update 2022-11-27 13:37:14.044449 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_latitude'.\nProgress update 2022-11-27 13:37:14.077702 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_longitude'.\nProgress update 2022-11-27 13:37:14.111268 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_city'.\nProgress update 2022-11-27 13:37:14.144267 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_state'.\nProgress update 2022-11-27 13:37:14.178253 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_invalid_us_zipcode'.\nProgress update 2022-11-27 13:37:14.211254 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_latitude'.\nProgress update 2022-11-27 13:37:14.244753 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_longitude'.\nProgress update 2022-11-27 13:37:14.277753 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_site_zipcode'.\nProgress update 2022-11-27 13:37:14.311253 : INFO.00.031 Database column added: table_schema 'public' table_name 'events' column_name 'io_state'.\nProgress update 2022-11-27 13:37:14.378313 : INFO.00.032 Database view is available: io_accidents_us_1982.\nProgress update 2022-11-27 13:37:14.402813 : INFO.00.032 Database view is available: io_lat_lng_issues.\nProgress update 2022-11-27 13:37:14.402813 : -------------------------------------------------------------------------------.\nProgress update 2022-11-27 13:37:14.402813 :        1,230,619,900 ns - Total time launcher.\nProgress update 2022-11-27 13:37:14.403313 : INFO.00.006 End   Launcher.\nProgress update 2022-11-27 13:37:14.403313 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#117-v_n_d-verify-selected-ntsb-data","title":"1.17 <code>v_n_d</code> - Verify selected NTSB data","text":"<p>This task can be used to perform a plausibility check for the following columns in the database table <code>events</code>:</p> <ul> <li><code>dec_latitude</code>,</li> <li><code>dec_longitude</code>,</li> <li><code>ev_state</code>,</li> <li><code>ev_site_zipcode</code>,</li> <li><code>latitude</code>,</li> <li><code>longitude</code>,</li> </ul> <p>and the combination of:</p> <ul> <li><code>ev_state</code> and <code>ev_city</code>,</li> <li><code>ev_state</code>, <code>ev_city</code> and <code>ev_site_zipcode</code>.</li> </ul> <p>The results of the check are stored in the following columns:</p> <ul> <li><code>io_deviating_dec_latitude</code> (absolute difference),</li> <li><code>io_deviating_dec_longitude</code> (absolute difference),</li> <li><code>io_invalid_latitude</code> (true),</li> <li><code>io_invalid_longitude</code> (true),</li> <li><code>io_invalid_us_city</code> (true),</li> <li><code>io_invalid_us_city_zipcode</code> (true),</li> <li><code>io_invalid_us_state</code> (true),</li> <li><code>io_invalid_us_zipcode</code> (true).</li> </ul> <p>The tests are performed according to the following logic:</p> <ul> <li><code>io_deviating_dec_latitude</code>: Absolute difference between <code>dec_latitude</code> and <code>latitude</code> exceeding a given limit in <code>max_deviation_latitude</code>.</li> <li><code>io_deviating_dec_longitude</code>: Absolute difference between <code>dec_longitude</code> and <code>longitude</code> exceeding a given limit <code>max_deviation_longitude</code>.</li> <li><code>io_invalid_latitude</code>: Can the latitude in the <code>latitude</code> column be converted to its decimal equivalent?</li> <li><code>io_invalid_longitude</code>: Can the longitude in the <code>longitude</code> column be converted to its decimal equivalent?</li> <li><code>io_invalid_us_city</code>: For country <code>USA</code> and the given state, is the specified value in the <code>ev_city</code> column a existing city?</li> <li><code>io_invalid_us_city_zipcode</code>: For country <code>USA</code> and the given state, are the specified values in the <code>ev_city</code> column and in the <code>ev_site_zipcode</code> column a existing city?</li> <li><code>io_invalid_us_state</code>: For country <code>USA</code>, is the specified value in the <code>ev_state</code> column a valid state identifier?</li> <li><code>io_invalid_us_z ipcode</code>: For country <code>USA</code>, is the specified value in the <code>ev_site_zipcode</code> column a existing zip code?</li> </ul> <p>Example protocol:</p> <pre><code>Progress update 2022-11-29 14:52:27.221649 : ===============================================================================.\nProgress update 2022-11-29 14:52:27.221649 : INFO.00.004 Start Launcher.\nProgress update 2022-11-29 14:52:27.223649 : INFO.00.001 The logger is configured and ready.\nProgress update 2022-11-29 14:52:27.232150 : INFO.00.005 Argument task='v_n_d'.\nProgress update 2022-11-29 14:52:27.232150 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:52:27.232150 : INFO.00.043 Verify selected NTSB data.\nProgress update 2022-11-29 14:52:27.232150 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:52:27.449649 : INFO.00.064 Verification of table 'events' column(s) 'latitude &amp; longitude'.\nProgress update 2022-11-29 14:52:27.449649 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:52:28.124099 : Number of rows so far read :   5000.\nProgress update 2022-11-29 14:52:33.701741 : Number of rows so far read :  10000.\nProgress update 2022-11-29 14:53:21.979567 : Number of rows so far read :  15000.\nProgress update 2022-11-29 14:54:41.899911 : Number of rows so far read :  20000.\nProgress update 2022-11-29 14:55:56.229700 : Number of rows so far read :  25000.\nProgress update 2022-11-29 14:57:09.659083 : Number of rows so far read :  30000.\nProgress update 2022-11-29 14:58:10.139422 : Number rows errors   :  12322.\nProgress update 2022-11-29 14:58:10.139422 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:10.139422 : INFO.00.064 Verification of table 'events' column(s) 'ev_city'.\nProgress update 2022-11-29 14:58:10.968104 : Number rows errors   :   6039.\nProgress update 2022-11-29 14:58:10.968104 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:10.968104 : INFO.00.064 Verification of table 'events' column(s) 'ev_city &amp; ev_site_zipcode'.\nProgress update 2022-11-29 14:58:11.934347 : Number rows errors   :  16491.\nProgress update 2022-11-29 14:58:11.934347 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:11.934846 : INFO.00.064 Verification of table 'events' column(s) 'ev_state'.\nProgress update 2022-11-29 14:58:12.175729 : Number rows errors   :    292.\nProgress update 2022-11-29 14:58:12.176230 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:12.176230 : INFO.00.064 Verification of table 'events' column(s) 'ev_site_zipcode'.\nProgress update 2022-11-29 14:58:12.400731 : Number rows errors   :   6029.\nProgress update 2022-11-29 14:58:12.401230 : --------------------------------------------------------------------------------\nProgress update 2022-11-29 14:58:12.402230 : Number rows selected :  34221.\nProgress update 2022-11-29 14:58:12.402230 : Number rows updated  :  41173.\nProgress update 2022-11-29 14:58:12.402730 : Number rows errors   :  41173.\nProgress update 2022-11-29 14:58:12.402730 : -------------------------------------------------------------------------------.\nProgress update 2022-11-29 14:58:12.402730 :      345,321,580,900 ns - Total time launcher.\nProgress update 2022-11-29 14:58:12.402730 : INFO.00.006 End   Launcher.\nProgress update 2022-11-29 14:58:12.402730 : ===============================================================================.\n</code></pre>"},{"location":"operation.html#2-first-installation","title":"2. First installation","text":"<p>The initial load in a fresh Windows environment requires the execution of the following tasks in the given order:</p> <ul> <li><code>s_d_c</code> - Set up the PostgreSQL database container                              </li> <li><code>c_d_s</code> - Create the PostgreSQL database schema </li> <li><code>d_n_a</code> - Download the NTSB MS Access files Pre2008 and avall                      </li> <li><code>l_n_a</code> - Load the NTSB MS Access database from Pre2008 and avall</li> </ul>"},{"location":"operation.html#3-regular-updates","title":"3. Regular updates","text":"<p>see</p>"},{"location":"release_history.html","title":"Release History","text":""},{"location":"release_history.html#version-230101","title":"Version 23.01.01","text":"<p>Release Date: 03.01.2023</p>"},{"location":"release_history.html#2-modified-features","title":"2. Modified Features","text":"<ul> <li>Introducing download buttons</li> <li>Introducing multi select controls</li> <li>Optional data usage until 1982</li> </ul>"},{"location":"release_history.html#3-applied-software","title":"3. Applied Software","text":"<p>Important: All software components should be installed in the 64 bit version!</p>    Software Version Remark Status     7-Zip 22.01     Docker Compose 2.14.2     Docker Desktop 4.15.0     IO-AVSTATS-DB 1.2.3     The LLVM Compiler Infrastructure 15.0.6 Windows-specific    Make for Windows 3.81 Windows-specific    Microsoft Access Database Engine 2016 Redistributable 8/11/2020 Windows-specific    PostgreSQL 15.1     Python 3.10.9     RazorSQL 10.2.0     Visual Studio Community 2022 2022 Windows-specific"},{"location":"release_history.html#31-minimal-requirements-visual-studio-community-2022","title":"3.1 Minimal Requirements Visual Studio Community 2022","text":""},{"location":"release_history.html#4-processed-files","title":"4. Processed files","text":""},{"location":"release_history.html#41-ntsb-national-transport-safety-board","title":"4.1 NTSB - National Transport Safety Board","text":""},{"location":"release_history.html#data-source-up01janzip","title":"Data source <code>up01JAN.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version:  1/1/2023 3:00:19 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#version-221222","title":"Version 22.12.22","text":"<p>Release Date: 23.12.2022</p>"},{"location":"release_history.html#1-new-features","title":"1. New Features","text":"<ul> <li>New documentation: How to ...</li> </ul>"},{"location":"release_history.html#2-modified-features_1","title":"2. Modified Features","text":"<ul> <li>Documentation: minor corrections </li> </ul>"},{"location":"release_history.html#3-applied-software_1","title":"3. Applied Software","text":"<p>Important: All software components should be installed in the 64 bit version!</p>    Software Version Remark Status     7-Zip 22.01     Docker Compose 2.14.2  upgrade   Docker Desktop 4.15.0     IO-AVSTATS-DB 1.2.2     The LLVM Compiler Infrastructure 15.0.6 Windows-specific upgrade   Make for Windows 3.81 Windows-specific    Microsoft Access Database Engine 2016 Redistributable 8/11/2020 Windows-specific    PostgreSQL 15.1     Python 3.10.9     RazorSQL 10.2.0     Visual Studio Community 2022 2022 Windows-specific"},{"location":"release_history.html#31-minimal-requirements-visual-studio-community-2022_1","title":"3.1 Minimal Requirements Visual Studio Community 2022","text":""},{"location":"release_history.html#4-processed-files_1","title":"4. Processed files","text":""},{"location":"release_history.html#41-ntsb-national-transport-safety-board_1","title":"4.1 NTSB - National Transport Safety Board","text":""},{"location":"release_history.html#data-source-up22deczip","title":"Data source <code>up22DEC.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 12/22/2022 3:00:46 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#version-221215","title":"Version 22.12.15","text":"<p>Release Date: 18.12.2022</p>"},{"location":"release_history.html#1-new-features_1","title":"1. New Features","text":"<ul> <li>New documentation: How to add NTSB accident files</li> </ul>"},{"location":"release_history.html#2-modified-features_2","title":"2. Modified Features","text":"<ul> <li>Application faaus1982: </li> <li>extended filter options.</li> </ul>"},{"location":"release_history.html#3-applied-software-windows-specific","title":"3. Applied Software (Windows-specific)","text":"<p>Important: All software components should be installed in the 64 bit version!</p>    Software Version Remark Status     7-Zip 22.01  new   Docker Compose 2.14.0  new   Docker Desktop 4.15.0     IO-AVSTATS-DB 1.2.1     The LLVM Compiler Infrastructure 15.0.4     Make for Windows 3.81     Microsoft Access Database Engine 2016 Redistributable 8/11/2020     PostgreSQL 15.1     Python 3.10.9     RazorSQL 10.2.0     Visual Studio Community 2022 2022"},{"location":"release_history.html#31-minimal-requirements-visual-studio-community-2022_2","title":"3.1 Minimal Requirements Visual Studio Community 2022","text":""},{"location":"release_history.html#4-processed-files_2","title":"4. Processed files","text":""},{"location":"release_history.html#41-ntsb-national-transport-safety-board_2","title":"4.1 NTSB - National Transport Safety Board","text":""},{"location":"release_history.html#data-source-up15deczip","title":"Data source <code>up15DEC.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 12/15/2022 3:00:31 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#version-221208","title":"Version 22.12.08","text":"<p>Release Date: 12.12.2022</p>"},{"location":"release_history.html#1-new-features_2","title":"1. New Features","text":"<ul> <li>Docker Compose usage</li> <li>Making available in AWS</li> <li>Streamlit application: faaus1982 - Fatal Aircraft Accidents in the US since 1982</li> <li>Streamlit application: pdus1982 - Profiling Data for the US since 1982</li> </ul>"},{"location":"release_history.html#2-applied-software-windows-specific","title":"2. Applied Software (Windows-specific)","text":"<p>Important: All software components should be installed in the 64 bit version!</p>    Software Version Remark Status     Docker Desktop 4.15.0     IO-AVSTATS-DB 1.1.1     The LLVM Compiler Infrastructure 15.0.4     Make for Windows 3.81     Microsoft Access Database Engine 2016 Redistributable 8/11/2020     PostgreSQL 15.1     Python 3.10.9     RazorSQL 10.2.0     Visual Studio Community 2022 2022"},{"location":"release_history.html#21-minimal-requirements-visual-studio-community-2022","title":"2.1 Minimal Requirements Visual Studio Community 2022","text":""},{"location":"release_history.html#3-processed-files","title":"3. Processed files","text":""},{"location":"release_history.html#31-geodatos-information-and-maps-of-the-world","title":"3.1 geodatos - Information and maps of the world","text":"<ul> <li>Link: here</li> <li>Version: n/a</li> <li>Purpose: latitude and longitude of the USA</li> </ul>"},{"location":"release_history.html#32-ntsb-national-transport-safety-board","title":"3.2 NTSB - National Transport Safety Board","text":""},{"location":"release_history.html#data-source-up01novzip","title":"Data source <code>up01NOV.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 11/01/2022 3:00:31 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#data-source-up08novzip","title":"Data source <code>up08NOV.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version:  11/08/2022 3:00:51 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#data-source-up15novzip","title":"Data source <code>up15NOV.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 11/15/2022 3:00:15 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#data-source-up22novzip","title":"Data source <code>up22NOV.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 11/22/2022 3:00:14 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#data-source-up01deczip","title":"Data source <code>up01DEC.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 12/01/2022 3:00:13 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#data-source-up08deczip","title":"Data source <code>up08DEC.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version:  12/08/2022 3:00:40 AM</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_history.html#data-source-avallzip","title":"Data source <code>avall.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 11/1/2022 6:49:29 AM</li> <li>Purpose: aviation accident data available for public use from January 1, 2008, to November 1, 2022</li> </ul>"},{"location":"release_history.html#data-source-pre2008zip","title":"Data source <code>Pre2008.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version: 9/30/2020 12:51:56 PM</li> <li>Purpose: aviation accident data available for public use before January 1, 2008</li> </ul>"},{"location":"release_history.html#33-opendatasoft","title":"3.3 opendatasoft","text":""},{"location":"release_history.html#data-source-us-state-boundaries","title":"Data source <code>US State Boundaries</code>","text":"<ul> <li>Download link: here</li> <li>Version: June 27, 2017 3:41 PM</li> <li>Purpose: US States and their latitude and longitude</li> </ul>"},{"location":"release_history.html#34-simplemaps-interactive-maps-and-data","title":"3.4 simplemaps - Interactive Maps and Data","text":""},{"location":"release_history.html#data-source-united-states-cities-database","title":"Data source <code>United States Cities Database</code>","text":"<ul> <li>Download link: here</li> <li>Version: v1.75 - Basic</li> <li>Purpose: US cities and their latitude and longitude with emphasis on accurate latitudes and longitudes</li> </ul>"},{"location":"release_history.html#data-source-us-zip-codes-database","title":"Data source <code>US Zip Codes Database</code>","text":"<ul> <li>Download link: here</li> <li>Version: v1.81 - Basic</li> <li>Purpose: US postal codes and their latitude and longitude with emphasis on accurate latitudes and longitudes</li> </ul>"},{"location":"release_history.html#35-united-states-zip-codesorg","title":"3.5 United States Zip Codes.org","text":""},{"location":"release_history.html#data-source-zip-code-database","title":"Data source <code>ZIP Code Database</code>","text":"<ul> <li>Download link: here</li> <li>Version: Updated for 2022 - Personal Free</li> <li>Purpose: US zip codes and their estimated latitude and longitude with emphasis on complete zip codes</li> </ul>"},{"location":"release_notes.html","title":"Release Notes","text":""},{"location":"release_notes.html#version-230108","title":"Version 23.01.08","text":"<p>Release Date: dd.mm.2023</p>"},{"location":"release_notes.html#1-new-features","title":"1. New Features","text":"<ul> <li>TODO</li> </ul>"},{"location":"release_notes.html#2-modified-features","title":"2. Modified Features","text":"<ul> <li>TODO</li> </ul>"},{"location":"release_notes.html#3-applied-software","title":"3. Applied Software","text":"<p>Important: All software components should be installed in the 64 bit version!</p>    Software Version Remark Status     7-Zip 22.01     Docker Compose 2.14.2     Docker Desktop 4.15.0     IO-AVSTATS-DB 1.2.3     The LLVM Compiler Infrastructure 15.0.6 Windows-specific    Make for Windows 3.81 Windows-specific    Microsoft Access Database Engine 2016 Redistributable 8/11/2020 Windows-specific    PostgreSQL 15.1     Python 3.10.9     RazorSQL 10.2.0     Visual Studio Community 2022 2022 Windows-specific"},{"location":"release_notes.html#31-minimal-requirements-visual-studio-community-2022","title":"3.1 Minimal Requirements Visual Studio Community 2022","text":""},{"location":"release_notes.html#4-processed-files","title":"4. Processed files","text":""},{"location":"release_notes.html#41-ntsb-national-transport-safety-board","title":"4.1 NTSB - National Transport Safety Board","text":""},{"location":"release_notes.html#data-source-up08janzip","title":"Data source <code>up08JAN.zip</code>","text":"<ul> <li>Download link: here</li> <li>Version:  1/1/2023 3:00:19 AM TODO</li> <li>Purpose: update of aviation accident data available for public use</li> </ul>"},{"location":"release_notes.html#5-issues","title":"5. Issues","text":""},{"location":"release_notes.html#51-plotly-express-bar-chart-color","title":"5.1 Plotly express bar chart color","text":"<ul> <li>It is unclear how to define the color of bars. </li> </ul>"},{"location":"release_notes.html#52-plotly-graph-stacked-bar-chart-axis-titles","title":"5.2 Plotly graph stacked bar chart axis titles","text":"<ul> <li>It is unclear how to define the axis titles of stacked bar charts.</li> </ul>"},{"location":"release_schedule.html","title":"Release Schedule","text":"<p>To create a new release, the following steps must be performed in the specified order. It is not allowed to continue with the next step until the current step has been completed successfully, i.e. also without any errors. </p>"},{"location":"release_schedule.html#1-manual-quality-control","title":"1. Manual quality control.","text":""},{"location":"release_schedule.html#a-remove-all-personal-markers","title":"a) Remove all personal markers.","text":"<p>It is good practice to mark experimental source code, such as source code comments or logging messages that are only used for testing, with a uniform personal marker, such as <code>lho</code> or <code>wwe</code>, so that this source code can be easily discovered and removed for release builds.</p>"},{"location":"release_schedule.html#b-check-all-todo-markers-for-necessity","title":"b) Check all <code>TODO</code> markers for necessity.","text":""},{"location":"release_schedule.html#c-check-all-links-in-the-docs-file-directory","title":"c) Check all links in the <code>docs</code> file directory.","text":"<p>Links should generally contain the following suffix: <code>{:target=\"_blank\"}</code>.  This ensures that a web page activated by the link is opened in a new tab.</p>"},{"location":"release_schedule.html#d-unnecessary-annotations-pytestmarkissue-in-the-file-directory-tests","title":"d) Unnecessary annotations <code>@pytest.mark.issue</code> in the file directory <code>tests</code>.","text":"<p>This annotation can be used to run individual tests selectively.  To remove the remains of it one can use the regular expression <code>^@pytest.mark.issue</code>.</p>"},{"location":"release_schedule.html#2-define-a-new-version-number","title":"2. Define a new version number.","text":"<p>The rules of semantic versioning must be applied.  Given a version number MAJOR.MINOR.PATCH, increment the:</p> <ul> <li>MAJOR version when you make incompatible API changes</li> <li>MINOR version when you add functionality in a backwards compatible manner</li> <li>PATCH version when you make backwards compatible bug fixes</li> </ul> <p>See here for details.</p>"},{"location":"release_schedule.html#a-update-the-version-number-in-the-io-avstats-files","title":"a) Update the version number in the IO-AVSTATS files:","text":"<ul> <li>docs/release_history.md</li> <li>docs/release_notes.md</li> <li>src//io_glob.py</li> </ul>"},{"location":"release_schedule.html#3-create-release-candidate-branch-rel_branch","title":"3. Create release candidate branch <code>&lt;rel_branch&gt;</code>.","text":""},{"location":"release_schedule.html#4-switch-to-the-release-candidate-branch-rel_branch","title":"4. Switch to the release candidate branch <code>&lt;rel_branch&gt;</code>.","text":"<pre><code>git checkout &lt;rel_branch&gt;\n</code></pre>"},{"location":"release_schedule.html#5-finalise-the-new-release","title":"5. Finalise the new release.","text":""},{"location":"release_schedule.html#a-execute-the-following-command-in-the-io-avstats-clone","title":"a. Execute the following command in the IO-AVSTATS clone.","text":"<pre><code>make final\n</code></pre>"},{"location":"release_schedule.html#b-create-the-final-pull-request","title":"b. Create the final pull request.","text":""},{"location":"release_schedule.html#c-create-the-new-release-in-github","title":"c. Create the new release in GitHub:","text":"<ul> <li>Releases --&gt; Create a new release</li> <li>Choose a tag ---&gt; <code>9.9.9</code> ---&gt; + Create a new tag</li> <li>Release title ---&gt; <code>Release 9.9.9: &lt;headline&gt;</code>.</li> <li>Describe the release ---&gt; <code>see: https://github.com/io-aero/io-avstats/blob/main/docs/release_notes.md</code></li> <li><code>x</code> This is a pre-release</li> <li><code>x</code> Create a discussion for this release</li> <li>Publish release</li> </ul>"},{"location":"release_schedule.html#6-preepare-the-next-release","title":"6. Preepare the next release.","text":""},{"location":"release_schedule.html#a-choose-a-new-version-number","title":"a. Choose a new version number.","text":""},{"location":"release_schedule.html#b-prepare-the-following-files-in-the-io-rsaster-repository-for-the-new-version","title":"b. Prepare the following files in the io-rsaster repository for the new version:","text":"<ul> <li>docs/release_history.md</li> <li>docs/release_notes.md</li> <li>src//io_glob.py</li> </ul>"},{"location":"setup_development_environment.html","title":"1. Create the repositories","text":"<ul> <li>git clone https://github.com/io-aero/io-avstats</li> <li>git clone https://github.com/io-aero/io-avstats-db</li> <li>git clone https://github.com/io-aero/io-avstats-db-content</li> </ul>"},{"location":"setup_development_environment.html#2-set-up-pycharm-plugins","title":"2. Set up PyCharm - Plugins","text":"<ul> <li>.ignore</li> <li>Json Helper</li> <li>Makefile Language</li> <li>python-typing-adder</li> <li>Database Tools and SQL</li> <li>Docker</li> <li>IDE Settings Sync</li> <li>Settings Repository</li> <li>Ini</li> <li>Markdown</li> <li>Properties</li> <li>Shell Script</li> <li>YAML</li> <li>Windows 10 light Theme</li> <li>GitHub Color Scheme</li> <li>Git</li> <li>GitHub</li> <li>Copyright</li> <li>EditorConfig</li> <li>File Watchers</li> <li>Grazie</li> <li>HTTP Client</li> <li>Shared Project Indices</li> <li>Terminal</li> <li>Toml</li> </ul>"},{"location":"setup_development_environment.html#3-install-software","title":"3. Install Software","text":""},{"location":"setup_development_environment.html#31-docker-desktop","title":"3.1 Docker Desktop","text":"<p>https://www.docker.com/products/docker-desktop/</p>"},{"location":"setup_development_environment.html#32-make-for-windows","title":"3.2 Make for Windows","text":"<p>https://gnuwin32.sourceforge.net/packages/make.htm</p>"},{"location":"setup_development_environment.html#33-microsoft-access-database-engine-2016-redistributable","title":"3.3 Microsoft Access Database Engine 2016 Redistributable","text":"<p>Important: Microsoft Access, Microsoft Access Database Engine and Python should all be installed either in the 32 bit version or in the 64 bit version!</p> <p>The installation file can be found in the <code>io-avstats</code> repository under <code>resources/Microsoft Access Database Engine 2016 Redistributable</code></p>"},{"location":"setup_development_environment.html#34-postgresql","title":"3.4 PostgreSQL","text":"<p>Important: Use version 15.0</p> <p>https://www.enterprisedb.com/downloads/postgres-postgresql-downloads</p> <p>Install only \"Command Line Tools\" and add the <code>bin</code> directory of the installation location to the path variable of Windows.</p>"},{"location":"setup_development_environment.html#35-python","title":"3.5 Python","text":"<p>Important: Use version 3.10.8</p> <p>https://www.python.org/downloads/</p>"},{"location":"setup_development_environment.html#36-razorsql","title":"3.6 RazorSQL","text":"<p>The installation file can be found in the <code>io-avstats</code> repository under <code>resources/RazorSQL</code></p>"},{"location":"setup_development_environment.html#37-dbeaver-optional-universal-database-tool","title":"3.7 DBeaver (optional) - Universal Database Tool","text":"<p>https://dbeaver.io</p>"},{"location":"setup_development_environment.html#38-anydesk-optional-remote-desktop-application","title":"3.8 AnyDesk (optional) - Remote Desktop Application","text":"<p>https://anydesk.com/en</p>"},{"location":"setup_development_environment.html#4-set-up-io-avstats","title":"4. Set up IO-AVSTATS","text":""},{"location":"setup_development_environment.html#41-razorsql","title":"4.1 RazorSQL","text":"<p>Create the connection profile IO-AVSTATS in RazorSQL</p> <pre><code>RazorSQL: Connections --&gt; Add Connection Profile --&gt; Microsoft Access --&gt; Continuue --&gt; ODBC (Direct)\n\n    Connection Profile Name:   **IO-AVSTATS**\n    Database file:             **...\\io-avstats\\data\\NTSB\\IO-AVSTATS.mdb**\n</code></pre>"},{"location":"setup_development_environment.html#42-windows-terminal","title":"4.2 Windows Terminal","text":"<p>Install the Python packages</p> <pre><code>make pipenv-dev\n</code></pre> <p>Set up the database container</p> <pre><code>run_io_avstats_db s_d_c\n</code></pre> <p>Create the database schema</p> <pre><code>run_io_avstats_db c_d_s\n</code></pre> <p>Download Microsoft Access database file</p> <pre><code>run_io_avstats_db d_m_a up22oct\n</code></pre> <p>Load Microsoft Access database data</p> <pre><code>run_io_avstats_db l_m_a up22oct\n</code></pre>"},{"location":"setup_development_environment.html#43-docker-desktop","title":"4.3 Docker Desktop","text":"<p>Check that the PostgreSQL development container is running.</p>"},{"location":"setup_development_environment.html#44-dbeaver","title":"4.4 DBeaver","text":"<p>Import the io-avstats project settings:</p> <pre><code>DBeaver: File --&gt; import --&gt; DBeaver --&gt; Project\n\n    File:  **...\\io-avstats\\data\\DBeaver\\io-avstats-....dbp**\n</code></pre> <p>Connect to the PostgreSQL development database.</p>"},{"location":"setup_development_environment.html#5-set-up-io-avstats","title":"5. Set up IO-AVSTATS","text":""},{"location":"setup_development_environment.html#51-google-drive","title":"5.1 Google Drive","text":"<p>Download the PostgreSQL database files.</p> <pre><code>Shared with me\n\n    22.11.05_postgre_avall.zip\n\n        Dowbload to:   **...\\io-avstats\\data**\n\n            Unzip the downloaded file.\n</code></pre>"},{"location":"setup_development_environment.html#52-windows-terminal","title":"5.2 Windows Terminal","text":"<p>Install the Python packages</p> <pre><code>make pipenv-dev\n</code></pre> <p>Set up the database container</p> <pre><code>run_io_avstats_db s_d_c\n</code></pre>"},{"location":"setup_development_environment.html#53-docker-desktop","title":"5.3 Docker Desktop","text":"<p>Check that the PostgreSQL production container is running.</p>"},{"location":"setup_development_environment.html#54-dbeaver","title":"5.4 DBeaver","text":"<p>Connect to the PostgreSQL production database.</p>"},{"location":"setup_development_environment.html#6-set-up-io-avstats","title":"6. Set up IO-AVSTATS","text":""},{"location":"setup_development_environment.html#61-create-the-credentials-file-settingsio_avstatstoml","title":"6.1 Create the credentials file <code>.settings.io_avstats.toml</code>","text":"<pre><code>[default]\npostgres_password=\"...\"\npostgres_password_admin = \"...\"\n</code></pre>"},{"location":"setup_development_environment.html#62-windows-terminal","title":"6.2 Windows Terminal","text":"<p>Install the Python packages</p> <pre><code>make pipenv-dev\n</code></pre> <p>Run the demo</p> <pre><code>run_io_avstats demo\n</code></pre>"},{"location":"setup_installation.html","title":"Installation","text":"<ol> <li> <p>Clone or copy the IO-AVSTATS repository from here.</p> </li> <li> <p>Switch to the file directory io-avstats:</p> <p><code>cd io-avstats</code></p> </li> <li> <p>Install the necessary Python packages by running the command  <code>make pipenv-dev</code>.</p> </li> <li> <p>Optionally, adjustments can be made in the following configuration files:</p> <ul> <li><code>logging_cfg.yaml</code>: for the logging functionality</li> <li><code>settings.io_avstats.toml</code>: for the IO-AVSTATS application</li> </ul> </li> <li> <p>Create the configuration file <code>.settings.io_avstats.toml</code> with the passwords for the PostgreSQL database users.</p> </li> <li> <p>Use the IO-AVSTATS application by running the script <code>run_io_avstats.bat</code>.</p> </li> </ol>"},{"location":"setup_requirements.html","title":"Requirements","text":"<p>The following are the minimum requirements to run the application:</p> <ul> <li>Operating System <code>Windows 10</code> or <code>Windows 11</code> - except for the tasks that require ODBC, the operating system <code>Ubuntu LTS 20.04</code> can also be used.</li> </ul>  <ul> <li>Docker Desktop </li> <li>The LLVM Compiler Infrastructure </li> <li>Make for Windows </li> <li>MS Access Database Engine 2016 Redistributable</li> <li>PostgreSQL - only \"Command Line Tools\"</li> <li>Python</li> <li>RazorSQL</li> <li>Visual Studio Community 2022</li> </ul>"},{"location":"img/index.html","title":"File Directory <code>docs/img</code>","text":"<p>This directory contains all the image files used in the documentation. </p>"}]}